// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.24/esri/copyright.txt for details.
//>>built
(function(g,n){var m,l=function(){return"undefined"!==typeof A&&"function"!==typeof A?A:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),p=function(){},t=function(a){for(var c in a)return 0;return 1},u={}.toString,w=function(a){return"[object Function]"==u.call(a)},f=function(a){return"[object String]"==u.call(a)},b=function(a){return"[object Array]"==u.call(a)},e=function(a,c){if(a)for(var b=0;b<a.length;)c(a[b++])},d=function(a,c){for(var b in c)a[b]=c[b];return a},C=function(a,
c){return d(Error(a),{src:"dojoLoader",info:c})},Ha=1,Z=function(){return"_"+Ha++},k=function(a,c,b){return oa(a,c,b,0,k)},A=l,N=A.document,Ia=N&&N.createElement("DiV"),r=k.has=function(a){return w(E[a])?E[a]=E[a](A,N,Ia):E[a]},E=r.cache=n.hasCache;w(g)&&(g=g(l));r.add=function(a,c,b,h){(void 0===E[a]||h)&&(E[a]=c);return b&&r(a)};d(n.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0});n.loaderPatch={injectUrl:function(a,
c){try{importScripts(a),c()}catch(v){console.info("failed to load resource ("+a+")"),console.error(v)}}};for(var F in g.has)r.add(F,g.has[F],0,1);k.async=1;var Ja=r("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");k.eval=function(a,c){return Ja(a+"\r\n//# sourceURL\x3d"+c)};var aa={},D=k.signal=function(a,c){var v=aa[a];e(v&&v.slice(0),function(a){a.apply(null,b(c)?c:[c])})};F=k.on=function(a,c){var b=aa[a]||(aa[a]=[]);b.push(c);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===
c){b.splice(a,1);break}}}};var pa=[],Ka={},qa=[],H={},ra=k.map={},O=[],x={},ba="",I={},P={},l={},da=function(a){var c,b,h,d;for(c in P)b=P[c],(h=c.match(/^url\:(.+)/))?I["url:"+sa(h[1],a)]=b:"*now"==c?d=b:"*noref"!=c&&(h=Q(c,a,!0),I[h.mid]=I["url:"+h.url]=b);d&&d(ca(a));P={}},ta=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},ea=function(a,c){c.splice(0,c.length);for(var b in a)c.push([b,a[b],new RegExp("^"+ta(b)+"(/|$)"),b.length]);c.sort(function(a,c){return c[3]-
a[3]});return c},La=function(a,c){e(a,function(a){c.push([f(a[0])?new RegExp("^"+ta(a[0])+"$"):a[0],a[1]])})},ua=function(a){var c=a.name;c||(c=a,a={name:c});a=d({main:"main"},a);a.location=a.location?a.location:c;a.packageMap&&(ra[c]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));H[c]=a},va=[],K=function(a,c,b){for(var h in a){"waitSeconds"==h&&(k.waitms=1E3*(a[h]||0));"cacheBust"==h&&(ba=a[h]?f(a[h])?a[h]:(new Date).getTime()+"":"");if("baseUrl"==h||"combo"==h)k[h]=a[h];a[h]!==
E&&(k.rawConfig[h]=a[h],"has"!=h&&r.add("config-"+h,a[h],0,c))}k.baseUrl||(k.baseUrl="./");/\/$/.test(k.baseUrl)||(k.baseUrl+="/");for(h in a.has)r.add(h,a.has[h],0,c);e(a.packages,ua);for(var v in a.packagePaths)e(a.packagePaths[v],function(a){var c=v+"/"+a;f(a)&&(a={name:a});a.location=c;ua(a)});ea(d(ra,a.map),O);e(O,function(a){a[1]=ea(a[1],[]);"*"==a[0]&&(O.star=a)});ea(d(Ka,a.paths),qa);La(a.aliases,pa);if(c)va.push({config:a.config});else for(h in a.config)c=G(h,b),c.config=d(c.config||{},a.config[h]);
a.cache&&(da(),P=a.cache,a.cache["*noref"]&&da());D("config",[a,k.rawConfig])};if(r("dojo-cdn")){var wa=N.getElementsByTagName("script");m=0;for(var R,y,S,L;m<wa.length;)if(R=wa[m++],(S=R.getAttribute("src"))&&(L=S.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(y=L[3]||"",n.baseUrl=n.baseUrl||y),S=R.getAttribute("data-dojo-config")||R.getAttribute("djConfig"))l=k.eval("({ "+S+" })","data-dojo-config")}k.rawConfig={};K(n,1);r("dojo-cdn")&&((H.dojo.location=y)&&(y+="/"),H.dijit.location=y+"../dijit/",H.dojox.location=
y+"../dojox/");K(g,1);K(l,1);var ga=function(a){fa(function(){e(a.deps,xa)})},oa=function(a,c,v,h,e){var q;if(f(a)){if((q=G(a,h,!0))&&q.executed)return q.result;throw C("undefinedModule",a);}b(a)||(K(a,0,h),a=c,c=v);if(b(a))if(a.length){v="require*"+Z();for(var g,l=[],m=0;m<a.length;)g=a[m++],l.push(G(g,h));q=d(T("",v,0,""),{injected:2,deps:l,def:c||p,require:h?h.require:k,gc:1});x[q.mid]=q;ga(q);var n=M&&!0;fa(function(){ha(q,n)});q.executed||B.push(q);ia()}else c&&c();return e},ca=function(a){if(!a)return k;
var c=a.require;c||(c=function(b,h,d){return oa(b,h,d,a,c)},a.require=d(c,k),c.module=a,c.toUrl=function(c){return sa(c,a)},c.toAbsMid=function(c){return ja(c,a)});return c},B=[],U=[],z={},Na=function(a){a.injected=1;z[a.mid]=1;a.url&&(z[a.url]=a.pack||1);ya()},W=function(a){a.injected=2;delete z[a.mid];a.url&&delete z[a.url];t(z)&&V()},Oa=k.idle=function(){return!U.length&&t(z)&&!B.length&&!M},ka=function(a,c){if(c)for(var b=0;b<c.length;b++)if(c[b][2].test(a))return c[b];return 0},za=function(a){var c=
[],b,h;for(a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&c.length&&".."!=h?(c.pop(),h=c[c.length-1]):"."!=b&&c.push(h=b);return c.join("/")},T=function(a,b,d,h){return{pid:a,mid:b,pack:d,url:h,executed:0,def:0}},Aa=function(a,b,d,h,f,k,g,l,m){var c,v,q,p;p=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||p&&!b)return T(0,a,0,a);a=za(p?b.mid+"/../"+a:a);if(/^\./.test(a))throw C("irrationalPath",a);b&&(q=ka(b.mid,k));(q=(q=q||k.star)&&ka(a,q[1]))&&(a=q[1]+a.substring(q[3]));b=(L=a.match(/^([^\/]+)(\/(.+))?$/))?
L[1]:"";(c=d[b])?a=b+"/"+(v=L[3]||c.main):b="";var n=0;e(l,function(b){var c=a.match(b[0]);c&&0<c.length&&(n=w(b[1])?a.replace(b[0],b[1]):b[1])});if(n)return Aa(n,0,d,h,f,k,g,l,m);if(d=h[a])return m?T(d.pid,d.mid,d.pack,d.url):h[a];h=(q=ka(a,g))?q[1]+a.substring(q[3]):b?("/"===c.location.slice(-1)?c.location.slice(0,-1):c.location)+"/"+v:r("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(h)||(h=f+h);return T(b,a,c,za(h+".js"))},Q=function(a,b,d){return Aa(a,b,H,x,k.baseUrl,d?[]:O,d?[]:qa,d?
[]:pa)},Ba=function(a,b,d){return a.normalize?a.normalize(b,function(a){return ja(a,d)}):ja(b,d)},Ca=0,G=function(a,b,d){var c,e;(c=a.match(/^(.+?)\!(.*)$/))?(e=G(c[1],b,d),5!==e.executed||e.load||la(e),e.load?(c=Ba(e,c[2],b),a=e.mid+"!"+(e.dynamic?++Ca+"!":"")+c):(c=c[2],a=e.mid+"!"+ ++Ca+"!waitingForPlugin"),a={plugin:e,mid:a,req:ca(b),prid:c}):a=Q(a,b);return x[a.mid]||!d&&(x[a.mid]=a)},ja=k.toAbsMid=function(a,b){return Q(a,b).mid},sa=k.toUrl=function(a,b){var c=Q(a+"/x",b),d=c.url;return Da(0===
c.pid?a:d.substring(0,d.length-5))},Ea={injected:2,executed:5,def:3,result:3};y=function(a){return x[a]=d({mid:a},Ea)};var Pa=y("require"),Qa=y("exports"),Ra=y("module"),X={},ma=0,la=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Sa=function(a){var b={};e(a.loadQ,function(c){var e=Ba(a,c.prid,c.req.module),h=a.dynamic?c.mid.replace(/waitingForPlugin$/,e):a.mid+"!"+e,e=d(d({},c),{mid:h,prid:e,injected:0});x[h]&&x[h].injected||Fa(x[h]=e);b[c.mid]=x[h];
W(c);delete x[c.mid]});a.loadQ=0;var f=function(a){for(var c=a.deps||[],d=0;d<c.length;d++)(a=b[c[d].mid])&&(c[d]=a)},h;for(h in x)f(x[h]);e(B,f)},na=function(a){k.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=ma++;a.loadQ&&(la(a),Sa(a));for(m=0;m<B.length;)B[m]===a?B.splice(m,1):m++;/^require\*/.test(a.mid)&&delete x[a.mid]},Ta=[],ha=function(a,b){if(4===a.executed)return k.trace("loader-circular-dependency",[Ta.concat(a.mid).join("-\x3e")]),!a.def||b?X:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return X;
var c=a.mid,d=a.deps||[],e,f=[],g=0;for(a.executed=4;e=d[g++];){e=e===Pa?ca(a):e===Qa?a.cjs.exports:e===Ra?a.cjs:ha(e,b);if(e===X)return a.executed=0,k.trace("loader-exec-module",["abort",c]),X;f.push(e)}k.trace("loader-run-factory",[a.mid]);var c=a.def,l;if(r("config-dojo-loader-catches"))try{l=w(c)?c.apply(null,f):c}catch(Ma){D("error",a.result=C("factoryThrew",[a,Ma]))}else l=w(c)?c.apply(null,f):c;a.result=void 0===l&&a.cjs?a.cjs.exports:l;na(a)}return a.result},M=0,fa=function(a){try{M++,a()}catch(c){throw c;
}finally{M--}Oa()&&D("idle",[])},ia=function(){M||fa(function(){for(var a,b,d=0;d<B.length;)a=ma,b=B[d],ha(b),a!=ma?d=0:d++})},Da="function"==typeof g.fixupUrl?g.fixupUrl:function(a){a+="";return a+(ba?(/\?/.test(a)?"\x26":"?")+ba:"")};void 0===r("dojo-loader-eval-hint-url")&&r.add("dojo-loader-eval-hint-url",1);var Fa=function(a){var b=a.plugin;5!==b.executed||b.load||la(b);var d=function(b){a.result=b;W(a);na(a);ia()};b.load?b.load(a.prid,a.req,d):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],B.unshift(b),
xa(b))},J=0,Ua=function(a,b){r("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));if(r("config-dojo-loader-catches"))try{a===J?J.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(v){D("error",C("evalModuleThrew",b))}else a===J?J.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)},xa=function(a){var b=a.mid,e=a.url;if(!(a.executed||a.injected||z[b]||a.url&&(a.pack&&z[a.url]===a.pack||1==z[a.url])))if(Na(a),a.plugin)Fa(a);else{var h=function(){Va(a);if(2!==
a.injected){if(r("dojo-enforceDefine")){D("error",C("noDefine",a));return}W(a);d(a,Ea);k.trace("loader-define-nonmodule",[a.url])}ia()};(J=I[b]||I["url:"+a.url])?(k.trace("loader-inject",["cache",a.mid,e]),Ua(J,a),h()):(k.trace("loader-inject",["script",a.mid,e]),k.injectUrl(Da(e),h,a))}},Ga=function(a,b,e){k.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return D("error",C("multipleDefine",a)),a;d(a,{deps:b,def:e,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=
b},config:function(){return a.config}}});for(var c=0;b[c];c++)b[c]=G(b[c],a);W(a);w(e)||b.length||(a.result=e,na(a));return a},Va=function(a,b){for(var c=[],d,f;U.length;)f=U.shift(),b&&(f[0]=b.shift()),d=f[0]&&G(f[0])||a,c.push([d,f[1],f[2]]);da(a);e(c,function(a){ga(Ga.apply(null,a))})},Y=0,V=p,ya=p,V=function(){Y&&clearTimeout(Y);Y=0},ya=function(){V();k.waitms&&(Y=A.setTimeout(function(){V();D("error",C("timeout",z))},k.waitms))};k.log=function(){try{for(var a=0;a<arguments.length;a++)console.log(arguments[a])}catch(c){}};
k.trace=p;y=function(a,b,d){var c=arguments.length,e=["require","exports","module"],g=[0,a,b];1==c?g=[0,w(a)?e:[],a]:2==c&&f(a)?g=[a,w(b)?e:[],b]:3==c&&(g=[a,b,d]);k.trace("loader-define",g.slice(0,2));(c=g[0]&&G(g[0]))&&!z[c.mid]?ga(Ga(c,g[1],g[2])):(r("ie-event-behavior"),U.push(g))};y.amd={vendor:"dojotoolkit.org"};d(d(k,n.loaderPatch),g.loaderPatch);F("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+":",a[b]);console.log(".")}}catch(v){}});d(k,{uid:Z,
cache:I,packs:H});A.define?D("error",C("defineAlreadyDefined",0)):(A.define=y,A.require=k,e(va,function(a){K(a)}),F=l.deps||g.deps||n.deps,l=l.callback||g.callback||n.callback,k.boot=F||l?[F||[],l]:0)})(function(g){return g.dojoConfig||g.djConfig||g.require||{}},{async:1,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},
{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../put-selector",main:"put",name:"put-selector"},{location:"../xstyle",name:"xstyle"},{location:"../moment",main:"moment.js",name:"moment"},{location:"../esri",name:"esri"}]});
require({cache:{"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(g,n){n.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var m=n("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],l=m.length,p=function(b,e,d){d||(d=b[0]&&g.scopeMap[b[0]]?g.scopeMap[b.shift()][1]:g.global);try{for(var f=0;f<b.length;f++){var l=b[f];if(!(l in d))if(e)d[l]={};else return;
d=d[l]}return d}catch(Z){}},t=Object.prototype.toString,u=function(b,e,d){return(d||[]).concat(Array.prototype.slice.call(b,e||0))},w=/\{([^\}]+)\}/g,f={_extraNames:m,_mixin:function(b,e,d){var f,g,p,k={};for(f in e)g=e[f],f in b&&(b[f]===g||f in k&&k[f]===g)||(b[f]=d?d(g):g);if(n("bug-for-in-skips-shadowed")&&e)for(p=0;p<l;++p)f=m[p],g=e[f],f in b&&(b[f]===g||f in k&&k[f]===g)||(b[f]=d?d(g):g);return b},mixin:function(b,e){b||(b={});for(var d=1,g=arguments.length;d<g;d++)f._mixin(b,arguments[d]);
return b},setObject:function(b,e,d){var f=b.split(".");b=f.pop();return(d=p(f,!0,d))&&b?d[b]=e:void 0},getObject:function(b,e,d){return b?p(b.split("."),e,d):d},exists:function(b,e){return void 0!==f.getObject(b,!1,e)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||function(b){return"[object Array]"==t.call(b)},isFunction:function(b){return"[object Function]"===t.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||f.isArray(b)||
f.isFunction(b))},isArrayLike:function(b){return!!b&&!f.isString(b)&&!f.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(f.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!f.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,e){for(var d=1,g=arguments.length;d<g;d++)f._mixin(b.prototype,arguments[d]);return b},_hitchArgs:function(b,e){var d=f._toArray(arguments,2),l=f.isString(e);return function(){var p=f._toArray(arguments),m=l?(b||g.global)[e]:
e;return m&&m.apply(b||this,d.concat(p))}},hitch:function(b,e){if(2<arguments.length)return f._hitchArgs.apply(g,arguments);e||(e=b,b=null);if(f.isString(e)){b=b||g.global;if(!b[e])throw['lang.hitch: scope["',e,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[e].apply(b,arguments||[])}}return b?function(){return e.apply(b,arguments||[])}:e},delegate:function(){function b(){}return function(e,d){b.prototype=e;var g=new b;b.prototype=null;d&&f._mixin(g,d);return g}}(),_toArray:n("ie")?
function(){function b(b,d,f){f=f||[];for(d=d||0;d<b.length;d++)f.push(b[d]);return f}return function(e){return(e.item?b:u).apply(this,arguments)}}():u,partial:function(b){return f.hitch.apply(g,[null].concat(f._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||f.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var e,d,g;if(f.isArray(b))for(e=[],d=0,g=b.length;d<
g;++d)d in b&&(e[d]=f.clone(b[d]));else e=b.constructor?new b.constructor:{};return f._mixin(e,b,f.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,e,d){return b.replace(d||w,f.isFunction(e)?e:function(b,d){return f.getObject(d,!1,e)})}};f.mixin(g,f);return f})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(g,n,m,l,p){var t,u={},w={},f={config:m,global:g,
dijit:u,dojox:w},u={dojo:["dojo",f],dijit:["dijit",u],dojox:["dojox",w]};p=l.map&&l.map[p.id.match(/[^\/]+/)[0]];for(t in p)u[t]?u[t][0]=p[t]:u[t]=[p[t],{}];for(t in u)p=u[t],p[1]._scopeName=p[0],m.noGlobals||(g[p[0]]=p[1]);f.scopeMap=u;f.baseUrl=f.config.baseUrl=l.baseUrl;f.isAsync=l.async;f.locale=m.locale;g="$Rev: aaa6750 $".match(/[0-9a-f]{7,}/);f.version={major:1,minor:13,patch:0,flag:"",revision:g?g[0]:NaN,toString:function(){var b=f.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+
b.revision+")"}};n("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};n.add("dojo-debug-messages",!!m.isDebug);f.deprecated=f.experimental=function(){};n("dojo-debug-messages")&&(f.deprecated=function(b,e,d){b="DEPRECATED: "+b;e&&(b+=" "+e);d&&(b+=" -- will be removed in version: "+d);console.warn(b)},f.experimental=function(b,e){var d="EXPERIMENTAL: "+b+" -- APIs subject to change without notice.";
e&&(d+=" "+e);console.warn(d)});if(m.modulePaths){f.deprecated("dojo.modulePaths","use paths configuration");n={};for(t in m.modulePaths)n[t.replace(/\./g,"/")]=m.modulePaths[t];l({paths:n})}f.moduleUrl=function(b,e){f.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;b&&(d=l.toUrl(b.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/"));return d};f._hasResource={};return f})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==
typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],function(g,n,m){var l=n.has||function(){};l.clearElement=function(g){g.innerHTML="";return g};l.normalize=function(g,m){var p=g.match(/[\?:]|[^:\?]*/g),n=0,f=function(b){var e=p[n++];if(":"==e)return 0;if("?"==p[n++]){if(!b&&l(e))return f();f(!0);return f(b)}return e||0};return(g=f())&&m(g)};l.load=function(g,l,m){g?l([g],m):m()};return l})},"dojo/_base/config":function(){define(["../global",
"../has","require"],function(g,n,m){g={};m=m.rawConfig;for(var l in m)g[l]=m[l];!g.locale&&"undefined"!=typeof navigator&&(l=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(g.locale=l.toLowerCase());return g})},"dojo/sniff":function(){define(["./has"],function(g){return g})}}});(function(){var g=this.require;g({cache:{}});!g.async&&g(["dojo"]);g.boot&&g.apply(null,g.boot)})();
//>>built
require({cache:{"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(p,a,g,n){var f=function(){return this}(),d={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,
0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:f.Worker&&!1,io:{errorHandler:function(d,b){a.publish("esri.Error",[d])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:"server.arcgisonline.com services.arcgisonline.com www.arcgis.com js.arcgis.com jsdev.arcgis.com jsqa.arcgis.com tiles.arcgis.com tiles1.arcgis.com tiles2.arcgis.com tiles3.arcgis.com tiles4.arcgis.com basemaps.arcgis.com basemapsbeta.arcgis.com elevation3d.arcgis.com services.arcgis.com services1.arcgis.com services2.arcgis.com services3.arcgis.com services4.arcgis.com services5.arcgis.com services6.arcgis.com services7.arcgis.com services8.arcgis.com services9.arcgis.com cdn.arcgis.com cdn-a.arcgis.com cdn-b.arcgis.com static.arcgis.com utility.arcgis.com utility.arcgisonline.com geocode.arcgis.com geoenrich.arcgis.com qaext.arcgis.com staticqa.arcgis.com tilesqa.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com geocodeqa.arcgis.com geoenrichqa.arcgis.com dev.arcgis.com devext.arcgis.com localvtiles.arcgis.com staticdev.arcgis.com tilesdevext.arcgis.com elevation3ddev.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com geocodedev.arcgis.com geoenrichdev.arcgis.com basemapsdev.arcgis.com basemapsbetadev.arcgis.com".split(" "),
corsDetection:f.cordova?!1:!0,corsDetectionTimeout:15,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};g("extend-esri")&&(n.config=d);p.noGlobals||(f.esriConfig=d);return d})},
"dojo/topic":function(){define(["./Evented"],function(p){var a=new p;return{publish:function(g,n){return a.emit.apply(a,arguments)},subscribe:function(g,n){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(p,a){function g(){}var n=p.after;g.prototype={on:function(f,d){return a.parse(this,f,d,function(a,b){return n(a,"on"+b,d,!0)})},emit:function(f,d){var k=[this];k.push.apply(k,arguments);return a.emit.apply(a,k)}};return g})},"dojo/aspect":function(){define([],
function(){function p(a,b,c,h){var e=a[b],d="around"==b,f;if(d){var k=c(function(){return e.advice(this,arguments)});f={remove:function(){k&&(k=a=c=null)},advice:function(b,a){return k?k.apply(b,a):e.advice(b,a)}}}else f={remove:function(){if(f.advice){var e=f.previous,h=f.next;h||e?(e?e.next=h:a[b]=h,h&&(h.previous=e)):delete a[b];a=c=f.advice=null}},id:a.nextId++,advice:c,receiveArguments:h};if(e&&!d)if("after"==b){for(;e.next&&(e=e.next););e.next=f;f.previous=e}else"before"==b&&(a[b]=f,f.next=
e,e.previous=f);else a[b]=f;return f}function a(a){return function(b,c,h,e){var d=b[c],f;d&&d.target==b||(b[c]=f=function(){for(var b=f.nextId,e=arguments,a=f.before;a;)a.advice&&(e=a.advice.apply(this,e)||e),a=a.next;if(f.around)var c=f.around.advice(this,e);for(a=f.after;a&&a.id<b;){if(a.advice)if(a.receiveArguments)var h=a.advice.apply(this,e),c=h===g?c:h;else c=a.advice.call(this,c,e);a=a.next}return c},d&&(f.around={advice:function(b,e){return d.apply(b,e)}}),f.target=b,f.nextId=f.nextId||0);
b=p(f||d,a,h,e);h=null;return b}}var g,n=a("after"),f=a("before"),d=a("around");return{before:f,around:d,after:n}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(p,a,g){function n(a,c,h,d,f){if(d=c.match(/(.*):(.*)/))return c=d[2],d=d[1],k.selector(d,c).call(f,a,h);g("touch")&&(b.test(c)&&(h=z(h)),g("event-orientationchange")||"orientationchange"!=c||(c="resize",a=window,h=z(h)));r&&(h=r(h));if(a.addEventListener){var q=c in e,t=q?e[c]:c;
a.addEventListener(t,h,q);return{remove:function(){a.removeEventListener(t,h,q)}}}if(w&&a.attachEvent)return w(a,"on"+c,h);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1;this.defaultPrevented=!0}function d(){this.bubbles=!1}var k=function(b,e,a,c){return"function"!=typeof b.on||"function"==typeof e||b.nodeType?k.parse(b,e,a,n,c,this):b.on(e,a)};k.pausable=function(b,e,a,c){var h;b=k(b,e,function(){if(!h)return a.apply(this,arguments)},c);b.pause=function(){h=!0};b.resume=
function(){h=!1};return b};k.once=function(b,e,a,c){var h=k(b,e,function(){h.remove();return a.apply(this,arguments)});return h};k.parse=function(b,e,a,c,h,d){var f;if(e.call)return e.call(d,b,a);e instanceof Array?f=e:-1<e.indexOf(",")&&(f=e.split(/\s*,\s*/));if(f){var q=[];e=0;for(var t;t=f[e++];)q.push(k.parse(b,t,a,c,h,d));q.remove=function(){for(var b=0;b<q.length;b++)q[b].remove()};return q}return c(b,e,a,h,d)};var b=/^touch/;k.matches=function(b,e,c,h,d){d=d&&"function"==typeof d.matches?d:
a.query;h=!1!==h;1!=b.nodeType&&(b=b.parentNode);for(;!d.matches(b,e,c);)if(b==c||!1===h||!(b=b.parentNode)||1!=b.nodeType)return!1;return b};k.selector=function(b,e,a){return function(c,h){function d(e){return k.matches(e,b,c,a,f)}var f="function"==typeof b?{matches:b}:this,q=e.bubble;return q?k(c,q(d),h):k(c,e,function(b){var e=d(b.target);if(e)return b.selectorTarget=e,h.call(e,b)})}};var c=[].slice,h=k.emit=function(b,e,a){var h=c.call(arguments,2),q="on"+e;if("parentNode"in b){var k=h[0]={},
t;for(t in a)k[t]=a[t];k.preventDefault=f;k.stopPropagation=d;k.target=b;k.type=e;a=k}do b[q]&&b[q].apply(b,h);while(a&&a.bubbles&&(b=b.parentNode));return a&&a.cancelable&&a},e=g("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!g("event-stopimmediatepropagation"))var q=function(){this.modified=this.immediatelyStopped=!0},r=function(b){return function(e){if(!e.immediatelyStopped)return e.stopImmediatePropagation=q,b.apply(this,arguments)}};if(g("dom-addeventlistener"))k.emit=function(b,e,
a){if(b.dispatchEvent&&document.createEvent){var c=(b.ownerDocument||document).createEvent("HTMLEvents");c.initEvent(e,!!a.bubbles,!!a.cancelable);for(var d in a)d in c||(c[d]=a[d]);return b.dispatchEvent(c)&&c}return h.apply(k,arguments)};else{k._fixEvent=function(b,e){b||(b=(e&&(e.ownerDocument||e.document||e).parentWindow||window).event);if(!b)return b;try{y&&b.type==y.type&&b.srcElement==y.target&&(b=y)}catch(Q){}if(!b.target)switch(b.target=b.srcElement,b.currentTarget=e||b.srcElement,"mouseover"==
b.type&&(b.relatedTarget=b.fromElement),"mouseout"==b.type&&(b.relatedTarget=b.toElement),b.stopPropagation||(b.stopPropagation=x,b.preventDefault=F),b.type){case "keypress":var a="charCode"in b?b.charCode:b.keyCode;10==a?(a=0,b.keyCode=13):13==a||27==a?a=0:3==a&&(a=99);b.charCode=a;a=b;a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}return b};var y,D=function(b){this.handle=b};D.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(b){return function(e){e=
k._fixEvent(e,this);var a=b.call(this,e);e.modified&&(y||setTimeout(function(){y=null}),y=e);return a}},w=function(b,e,a){a=t(a);if(((b.ownerDocument?b.ownerDocument.parentWindow:b.parentWindow||b.window||window)!=top||5.8>g("jscript"))&&!g("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var c=b[e];if(!c||!c.listeners){var h=c,c=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
c.listeners=[];b[e]=c;c.global=this;h&&c.listeners.push(_dojoIEListeners_.push(h)-1)}c.listeners.push(b=c.global._dojoIEListeners_.push(a)-1);return new D(b)}return p.after(b,e,a,!0)},x=function(){this.cancelBubble=!0},F=k._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(v){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(g("touch"))var A=function(){},C=window.orientation,z=function(b){return function(e){var a=e.corrected;if(!a){var c=
e.type;try{delete e.type}catch(I){}if(e.type){if(g("touch-can-modify-event-delegate"))A.prototype=e,a=new A;else{var a={},h;for(h in e)a[h]=e[h]}a.preventDefault=function(){e.preventDefault()};a.stopPropagation=function(){e.stopPropagation()}}else a=e,a.type=c;e.corrected=a;if("resize"==c){if(C==window.orientation)return null;C=window.orientation;a.type="orientationchange";return b.call(this,a)}"rotation"in a||(a.rotation=0,a.scale=1);if(window.TouchEvent&&e instanceof TouchEvent){var c=a.changedTouches[0],
d;for(d in c)delete a[d],a[d]=c[d]}}return b.call(this,a)}};return k})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],function(p,a,g){var n=function(){return this}(),f=n.location,d=f.pathname,k=f.protocol,f={version:"3.24",_appBaseUrl:k+"//"+f.host+d.substring(0,d.lastIndexOf(d.split("/")[d.split("/").length-1]))};a.noGlobals||(n.esri=f);p.isAsync||g.add("extend-esri",1);(f.dijit=f.dijit||{})._arcgisUrl=("http:"===k||"https:"===k?k:"http:")+"//www.arcgis.com/sharing/rest";
return f})},"esri/layers/vectorTiles/core/workers/RemoteClient":function(){define("require exports dojo/Deferred ../Error ../promiseUtils ./utils".split(" "),function(p,a,g,n,f,d){function k(b,e){b["delete"](e)}var b=d.MessageType.CLOSE,c=d.MessageType.CANCEL,h=d.MessageType.INVOKE,e=d.MessageType.RESPONSE,q=d.MessageType.OPEN_PORT,r=function(){function b(b){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=b;this._timer=null;this._process=this._process.bind(this)}
b.prototype.push=function(b){b.type===d.MessageType.CANCEL?this._cancelledJobIds.add(b.jobId):(this._invokeMessages.push(b),null===this._timer&&(this._timer=setTimeout(this._process,0)))};b.prototype._process=function(){this._timer=null;for(var b=0,e=this._invokeMessages;b<e.length;b++){var a=e[b];this._cancelledJobIds.has(a.jobId)||this._invoke(a)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return b}();return function(){function a(b,e,a){this._outJobs=new Map;this._inJobs=new Map;
this._queue=new r(this._onInvoke.bind(this));this._onMessage=this._onMessage.bind(this);this._client=e;this._port=b;this._port.addEventListener("message",this._onMessage);this._port.start();this._channel=a}a.connect=function(b){var e=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;b.remoteClient=new a(e.port1,b,e);return e.port2};a.prototype.close=function(){this._post({type:b});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};
a.prototype.invoke=function(b,e,a){var f=this,q=d.newJobId(),t=new g(function(){k(f._outJobs,q);f._post({type:c,jobId:q})});this._outJobs.set(q,t);this._post({type:h,jobId:q,methodName:b},e,a);return t.promise};a.prototype.openPort=function(){var b=this,e=d.newJobId(),a=new g(function(){k(b._outJobs,e);b._post({type:c,jobId:e})});this._outJobs.set(e,a);this._post({type:q,jobId:e});return a.promise};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",
this._onMessage);this._port.close();this._outJobs.forEach(function(b){b.cancel()});this._inJobs.clear();this._outJobs.clear();this._port=this._client=null};a.prototype._onMessage=function(a){if(a=d.receiveMessage(a))switch(a.type){case e:this._onResponse(a);break;case h:this._queue.push(a);break;case c:this._onCancel(a);break;case b:this._close();break;case q:this._onOpenPort(a)}};a.prototype._onCancel=function(b){var e=this._inJobs,a=b.jobId,c=e.get(a);this._queue.push(b);c&&(k(e,a),c.cancel())};
a.prototype._onInvoke=function(b){var a=this,c=b.methodName,h=b.jobId;b=b.data;var q=this._inJobs,r=this._client,D=r[c],g;try{if(!D&&c&&-1!==c.indexOf("."))for(var n=c.split("."),y=0;y<n.length-1;y++)r=r[n[y]],D=r[n[y+1]];if("function"!==typeof D)throw new TypeError(c+" is not a function");g=D.call(r,b,this)}catch(U){this._post({type:e,jobId:h,error:d.toInvokeError(U)});return}f.isThenable(g)?(q.set(h,g),g.then(function(b){q.has(h)&&(k(q,h),a._post({type:e,jobId:h},b))}).catch(function(b){q.has(h)&&
(k(q,h),b&&"cancel"===b.dojoType||a._post({type:e,jobId:h,error:d.toInvokeError(b||{message:"Error encountered at method "+c})}))})):this._post({type:e,jobId:h},g)};a.prototype._onOpenPort=function(b){var c=new MessageChannel;new a(c.port1,this._client);this._post({type:e,jobId:b.jobId},c.port2,[c.port2])};a.prototype._onResponse=function(b){var e=b.jobId,a=b.error;b=b.data;var c=this._outJobs;if(c.has(e)){var h=c.get(e);k(c,e);a?h.reject(n.fromJSON(JSON.parse(a))):h.resolve(b)}};a.prototype._post=
function(b,e,a){return d.postMessage(this._port,b,e,a)};return a}()})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(p,a,g,n,f){var d=Object.freeze||function(){},k=function(a,c,h,d,f){2===c&&e.instrumentRejected&&0===a.length&&e.instrumentRejected(h,!1,d,f);for(f=0;f<a.length;f++)b(a[f],c,h,d)},b=function(b,a,d,f){var q=b[a],k=b.deferred;if(q)try{var r=q(d);if(0===a)"undefined"!==typeof r&&h(k,a,r);else{if(r&&
"function"===typeof r.then){b.cancel=r.cancel;r.then(c(k,1),c(k,2),c(k,0));return}h(k,1,r)}}catch(F){h(k,2,F)}else h(k,a,d);2===a&&e.instrumentRejected&&e.instrumentRejected(d,!!q,f,k.promise)},c=function(b,e){return function(a){h(b,e,a)}},h=function(b,e,a){if(!b.isCanceled())switch(e){case 0:b.progress(a);break;case 1:b.resolve(a);break;case 2:b.reject(a)}},e=function(a){var c=this.promise=new n,h=this,f,q,w,x=!1,F=[];Error.captureStackTrace&&(Error.captureStackTrace(h,e),Error.captureStackTrace(c,
e));this.isResolved=c.isResolved=function(){return 1===f};this.isRejected=c.isRejected=function(){return 2===f};this.isFulfilled=c.isFulfilled=function(){return!!f};this.isCanceled=c.isCanceled=function(){return x};this.progress=function(b,a){if(f){if(!0===a)throw Error("This deferred has already been fulfilled.");return c}k(F,0,b,null,h);return c};this.resolve=function(b,a){if(f){if(!0===a)throw Error("This deferred has already been fulfilled.");return c}k(F,f=1,q=b,null,h);F=null;return c};var A=
this.reject=function(b,a){if(f){if(!0===a)throw Error("This deferred has already been fulfilled.");return c}Error.captureStackTrace&&Error.captureStackTrace(w={},A);k(F,f=2,q=b,w,h);F=null;return c};this.then=c.then=function(a,h,d){var k=[d,a,h];k.cancel=c.cancel;k.deferred=new e(function(b){return k.cancel&&k.cancel(b)});f&&!F?b(k,f,q,w):F.push(k);return k.deferred.promise};this.cancel=c.cancel=function(b,e){if(!f){if(a){var c=a(b);b="undefined"===typeof c?b:c}x=!0;if(!f)return"undefined"===typeof b&&
(b=new g),A(b),b;if(2===f&&q===b)return b}else if(!0===e)throw Error("This deferred has already been fulfilled.");};d(c)};e.prototype.toString=function(){return"[object Deferred]"};f&&f(e);return e})},"dojo/errors/CancelError":function(){define(["./create"],function(p){return p("CancelError",null,null,{dojoType:"cancel",log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(p){return function(a,g,n,f){n=n||Error;var d=function(a){if(n===Error){Error.captureStackTrace&&Error.captureStackTrace(this,
d);var b=Error.call(this,a),c;for(c in b)b.hasOwnProperty(c)&&(this[c]=b[c]);this.message=a;this.stack=b.stack}else n.apply(this,arguments);g&&g.apply(this,arguments)};d.prototype=p.delegate(n.prototype,f);d.prototype.name=a;return d.prototype.constructor=d}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(p){function a(){throw new TypeError("abstract");}return p.extend(function(){},{then:function(g,n,f){a()},cancel:function(g,n){a()},isResolved:function(){a()},isRejected:function(){a()},
isFulfilled:function(){a()},isCanceled:function(){a()},always:function(a){return this.then(a,a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(p,a,g,n){function f(b,a,e){if(!b||!1!==b.log){var c="";b&&b.stack&&(c+=b.stack);
a&&a.stack&&(c+="\n    ----------------------------------------\n    rejected"+a.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));e&&e.stack&&(c+="\n    ----------------------------------------\n"+e.stack);console.error(b,c)}}function d(b,a,e,c){a||f(b,e,c)}function k(a,d,f,k){n.some(c,function(b){if(b.error===a)return d&&(b.handled=!0),!0})||c.push({error:a,rejection:f,handled:d,deferred:k,timestamp:(new Date).getTime()});h||(h=setTimeout(b,e))}function b(){var a=(new Date).getTime(),d=
a-e;c=n.filter(c,function(b){return b.timestamp<d?(b.handled||f(b.error,b.rejection,b.deferred),!1):!0});h=c.length?setTimeout(b,c[0].timestamp+e-a):!1}a.add("config-useDeferredInstrumentation","report-unhandled-rejections");var c=[],h=!1,e=1E3;return function(b){var c=a("config-useDeferredInstrumentation");if(c){p.on("resolved",g.hitch(console,"log","resolved"));p.on("rejected",g.hitch(console,"log","rejected"));p.on("progress",g.hitch(console,"log","progress"));var h=[];"string"===typeof c&&(h=
c.split(","),c=h.shift());if("report-rejections"===c)b.instrumentRejected=d;else if("report-unhandled-rejections"===c||!0===c||1===c)b.instrumentRejected=k,e=parseInt(h[0],10)||e;else throw Error("Unsupported instrumentation usage \x3c"+c+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(p,a,g){function n(a){setTimeout(function(){d.apply(f,a)},0)}var f=new g,d=f.emit;f.emit=null;a.prototype.trace=function(){var a=p._toArray(arguments);this.then(function(b){n(["resolved",
b].concat(a))},function(b){n(["rejected",b].concat(a))},function(b){n(["progress",b].concat(a))});return this};a.prototype.traceRejected=function(){var a=p._toArray(arguments);this.otherwise(function(b){n(["rejected",b].concat(a))});return this};return f})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(p,a,g){function n(b){return k[b]=new Function("item","index","array",b)}function f(b){var a=!b;return function(e,c,h){var d=0,f=e&&e.length||0,q;f&&"string"==typeof e&&
(e=e.split(""));"string"==typeof c&&(c=k[c]||n(c));if(h)for(;d<f;++d){if(q=!c.call(h,e[d],d,e),b^q)return!q}else for(;d<f;++d)if(q=!c(e[d],d,e),b^q)return!q;return a}}function d(a){var e=1,h=0,d=0;a||(e=h=d=-1);return function(f,k,q,r){if(r&&0<e)return c.lastIndexOf(f,k,q);r=f&&f.length||0;var t=a?r+d:h;q===b?q=a?h:r+d:0>q?(q=r+q,0>q&&(q=h)):q=q>=r?r+d:q;for(r&&"string"==typeof f&&(f=f.split(""));q!=t;q+=e)if(f[q]==k)return q;return-1}}var k={},b,c={every:f(!1),some:f(!0),indexOf:d(!0),lastIndexOf:d(!1),
forEach:function(b,a,c){var e=0,h=b&&b.length||0;h&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=k[a]||n(a));if(c)for(;e<h;++e)a.call(c,b[e],e,b);else for(;e<h;++e)a(b[e],e,b)},map:function(b,a,c,d){var e=0,h=b&&b.length||0;d=new (d||Array)(h);h&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=k[a]||n(a));if(c)for(;e<h;++e)d[e]=a.call(c,b[e],e,b);else for(;e<h;++e)d[e]=a(b[e],e,b);return d},filter:function(b,a,c){var e=0,d=b&&b.length||0,h=[],f;d&&"string"==typeof b&&(b=b.split(""));
"string"==typeof a&&(a=k[a]||n(a));if(c)for(;e<d;++e)f=b[e],a.call(c,f,e,b)&&h.push(f);else for(;e<d;++e)f=b[e],a(f,e,b)&&h.push(f);return h},clearCache:function(){k={}}};g.mixin(p,c);return c})},"esri/layers/vectorTiles/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./lang","./Message"],function(p,a,g,n,f){p=function(a){function d(b,c,h){var e=a.call(this,b,c,h)||this;return e instanceof d?e:new d(b,c,h)}g(d,a);d.prototype.toJSON=function(){return{name:this.name,
message:this.message,details:n.clone(this.details),dojoType:this.dojoType}};d.fromJSON=function(b){var a=new d(b.name,b.message,b.details);null!=b.dojoType&&(a.dojoType=b.dojoType);return a};return d}(f);p.prototype.type="error";return p})},"esri/layers/vectorTiles/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var n in g)g.hasOwnProperty(n)&&(a[n]=g[n])};return function(a,
g){function n(){this.constructor=a}p(a,g);a.prototype=null===g?Object.create(g):(n.prototype=g.prototype,new n)}}()})},"esri/layers/vectorTiles/core/lang":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/date dojo/number dojo/date/locale dojo/i18n!../nls/common".split(" "),function(p,a,g,n,f,d,k){function b(b){return void 0!==b&&null!==b}function c(a){return b(a)?a:""}function h(a,e,h){var q=h.match(/([^\(]+)(\([^\)]+\))?/i),k=g.trim(q[1]);h=e[a];var q=JSON.parse((q[2]?g.trim(q[2]):
"{}").replace(/^\(/,"{").replace(/\)$/,"}").replace(/([{,])\s*([0-9a-zA-Z\_]+)\s*:/gi,'$1"$2":').replace(/\"\s*:\s*\'/gi,'":"').replace(/\'\s*(,|\})/gi,'"$1')),t=q.utcOffset;if(-1===p.indexOf(r,k))k=g.getObject(k),g.isFunction(k)&&(h=k(h,a,e,q));else if("number"===typeof h||"string"===typeof h&&h&&!isNaN(Number(h)))switch(h=Number(h),k){case "NumberFormat":a=g.mixin({},q);e=parseFloat(a.places);if(isNaN(e)||0>e)a.places=Infinity;return f.format(h,a);case "DateString":h=new Date(h);if(q.local||q.systemLocale)return q.systemLocale?
h.toLocaleDateString()+(q.hideTime?"":" "+h.toLocaleTimeString()):h.toDateString()+(q.hideTime?"":" "+h.toTimeString());h=h.toUTCString();q.hideTime&&(h=h.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return h;case "DateFormat":return h=new Date(h),b(t)&&(h=n.add(h,"minute",h.getTimezoneOffset()-t)),d.format(h,q)}return c(h)}function e(b,a){var c;if(a)for(c in b)b.hasOwnProperty(c)&&(void 0===b[c]?delete b[c]:b[c]instanceof Object&&e(b[c],!0));else for(c in b)b.hasOwnProperty(c)&&void 0===b[c]&&
delete b[c];return b}function q(b){if(!b||"object"!=typeof b||g.isFunction(b))return b;if(b instanceof Int8Array||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Int32Array||b instanceof Uint16Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array||b instanceof Date)return new b.constructor(b);if("function"===typeof b.clone)b=b.clone();else if("function"===typeof b.map&&"function"===typeof b.forEach)b=b.map(q);else{var a=
{},e,c,h={};for(e in b){c=b[e];var d=!(e in h)||h[e]!==c;if(!(e in a)||a[e]!==c&&d)a[e]=q?q(c):c}b=a}return b}var r=["NumberFormat","DateString","DateFormat"],y=/<\/?[^>]+>/g;return{equals:function(b,a){return b===a||"number"===typeof b&&isNaN(b)&&"number"===typeof a&&isNaN(a)||g.isFunction((b||{}).getTime)&&g.isFunction((a||{}).getTime)&&b.getTime()==a.getTime()||g.isFunction((b||{}).equals)&&b.equals(a)||g.isFunction((a||{}).equals)&&a.equals(b)||!1},valueOf:function(b,a){for(var e in b)if(b[e]==
a)return e;return null},stripTags:function(b){if(b){var a=typeof b;if("string"===a)b=b.replace(y,"");else if("object"===a)for(var e in b)(a=b[e])&&"string"===typeof a&&(a=a.replace(y,"")),b[e]=a}return b},substitute:function(a,e,d){var f,q,n;b(d)&&(g.isObject(d)?(f=d.first,q=d.dateFormat,n=d.numberFormat):f=d);if(e&&"{*}"!==e)return g.replace(e,g.hitch({obj:a},function(b,a){var e=a.split(":");return 1<e.length?(a=e[0],e.shift(),h(a,this.obj,e.join(":"))):q&&-1!==p.indexOf(q.properties||"",a)?h(a,
this.obj,q.formatter||"DateString"):n&&-1!==p.indexOf(n.properties||"",a)?h(a,this.obj,n.formatter||"NumberFormat"):c(this.obj[a])}));e=[];var r;e.push('\x3ctable class\x3d"esri-table" summary\x3d"'+k.fieldsSummary+'"\x3e\x3ctbody\x3e');for(r in a)if(d=a[r],q&&-1!==p.indexOf(q.properties||"",r)?d=h(r,a,q.formatter||"DateString"):n&&-1!==p.indexOf(n.properties||"",r)&&(d=h(r,a,n.formatter||"NumberFormat")),e.push("\x3ctr\x3e\x3cth\x3e"+r+"\x3c/th\x3e\x3ctd\x3e"+c(d)+"\x3c/td\x3e\x3c/tr\x3e"),f)break;
e.push("\x3c/tbody\x3e\x3c/table\x3e");return e.join("")},filter:function(b,e,c){e=[g.isString(b)?b.split(""):b,c||a.global,g.isString(e)?new Function("item","index","array",e):e];c={};var h;b=e[0];for(h in b)e[2].call(e[h],b[h],h,b)&&(c[h]=b[h]);return c},startsWith:function(b,a,e){e=e||0;return b.indexOf(a,e)===e},endsWith:function(b,a,e){if("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>b.length)e=b.length;e-=a.length;b=b.indexOf(a,e);return-1!==b&&b===e},isDefined:b,fixJson:e,clone:q}})},
"dojo/date":function(){define(["./has","./_base/lang"],function(p,a){var g={getDaysInMonth:function(a){var f=a.getMonth();return 1==f&&g.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][f]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var f=a.toString(),d="",k=f.indexOf("(");if(-1<k)d=f.substring(++k,f.indexOf(")"));else if(k=/([A-Z\/]+) \d{4}$/,f=f.match(k))d=f[1];else if(f=a.toLocaleString(),k=/ ([A-Z\/]+)$/,f=f.match(k))d=f[1];return"AM"==
d||"PM"==d?"":d},compare:function(a,f,d){a=new Date(+a);f=new Date(+(f||new Date));"date"==d?(a.setHours(0,0,0,0),f.setHours(0,0,0,0)):"time"==d&&(a.setFullYear(0,0,0),f.setFullYear(0,0,0));return a>f?1:a<f?-1:0},add:function(a,f,d){var k=new Date(+a),b=!1,c="Date";switch(f){case "day":break;case "weekday":var h;(f=d%5)?h=parseInt(d/5):(f=0<d?5:-5,h=0<d?(d-5)/5:(d+5)/5);var e=a.getDay(),q=0;6==e&&0<d?q=1:0==e&&0>d&&(q=-1);e+=f;if(0==e||6==e)q=0<d?2:-2;d=7*h+f+q;break;case "year":c="FullYear";b=!0;
break;case "week":d*=7;break;case "quarter":d*=3;case "month":b=!0;c="Month";break;default:c="UTC"+f.charAt(0).toUpperCase()+f.substring(1)+"s"}if(c)k["set"+c](k["get"+c]()+d);b&&k.getDate()<a.getDate()&&k.setDate(0);return k},difference:function(a,f,d){f=f||new Date;d=d||"day";var k=f.getFullYear()-a.getFullYear(),b=1;switch(d){case "quarter":a=a.getMonth();f=f.getMonth();b=Math.floor(f/3)+1+4*k-(Math.floor(a/3)+1);break;case "weekday":k=Math.round(g.difference(a,f,"day"));d=parseInt(g.difference(a,
f,"week"));if(0==k%7)k=5*d;else{var b=0,c=a.getDay(),h=f.getDay();d=parseInt(k/7);f=k%7;a=new Date(a);a.setDate(a.getDate()+7*d);a=a.getDay();if(0<k)switch(!0){case 6==c:b=-1;break;case 0==c:b=0;break;case 6==h:b=-1;break;case 0==h:b=-2;break;case 5<a+f:b=-2}else if(0>k)switch(!0){case 6==c:b=0;break;case 0==c:b=1;break;case 6==h:b=2;break;case 0==h:b=1;break;case 0>a+f:b=2}k=k+b-2*d}b=k;break;case "year":b=k;break;case "month":b=f.getMonth()-a.getMonth()+12*k;break;case "week":b=parseInt(g.difference(a,
f,"day")/7);break;case "day":b/=24;case "hour":b/=60;case "minute":b/=60;case "second":b/=1E3;case "millisecond":b*=f.getTime()-a.getTime()}return Math.round(b)}};a.mixin(a.getObject("dojo.date",!0),g);return g})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(p,a,g,n,f){var d={};p.setObject("dojo.number",d);d.format=function(b,c){c=p.mixin({},c||{});var h=a.normalizeLocale(c.locale),h=a.getLocalization("dojo.cldr","number",h);c.customs=
h;h=c.pattern||h[(c.type||"decimal")+"Format"];return isNaN(b)||Infinity==Math.abs(b)?null:d._applyPattern(b,h,c)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(b,a,h){h=h||{};var e=h.customs.group,c=h.customs.decimal;a=a.split(";");var f=a[0];a=a[0>b?1:0]||"-"+f;if(-1!=a.indexOf("%"))b*=100;else if(-1!=a.indexOf("\u2030"))b*=1E3;else if(-1!=a.indexOf("\u00a4"))e=h.customs.currencyGroup||e,c=h.customs.currencyDecimal||c,a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(b,
a,e,c){return(b=h[["symbol","currency","displayName"][e.length-1]]||h.currency||"")?a+b+c:""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");var k=d._numberPatternRE,f=f.match(k);if(!f)throw Error("unable to find a number expression in pattern: "+a);!1===h.fractional&&(h.places=0);return a.replace(k,d._formatAbsolute(b,f[0],{decimal:c,group:e,places:h.places,round:h.round}))};d.round=function(b,a,h){h=10/(h||10);return(h*+b).toFixed(a)/h};if(0==(.9).toFixed()){var k=
d.round;d.round=function(b,a,h){var e=Math.pow(10,-a||0),c=Math.abs(b);if(!b||c>=e)e=0;else if(c/=e,.5>c||.95<=c)e=0;return k(b,a,h)+(0<b?e:-e)}}d._formatAbsolute=function(b,a,h){h=h||{};!0===h.places&&(h.places=0);Infinity===h.places&&(h.places=6);a=a.split(".");var e="string"==typeof h.places&&h.places.indexOf(","),c=h.places;e?c=h.places.substring(e+1):0<=c||(c=(a[1]||[]).length);0>h.round||(b=d.round(b,c,h.round));b=String(Math.abs(b)).split(".");var f=b[1]||"";a[1]||h.places?(e&&(h.places=h.places.substring(0,
e)),e=void 0!==h.places?h.places:a[1]&&a[1].lastIndexOf("0")+1,e>f.length&&(b[1]=n.pad(f,e,"0",!0)),c<f.length&&(b[1]=f.substr(0,c))):b[1]&&b.pop();c=a[0].replace(",","");e=c.indexOf("0");-1!=e&&(e=c.length-e,e>b[0].length&&(b[0]=n.pad(b[0],e)),-1==c.indexOf("#")&&(b[0]=b[0].substr(b[0].length-e)));var c=a[0].lastIndexOf(","),k,g;-1!=c&&(k=a[0].length-c-1,a=a[0].substr(0,c),c=a.lastIndexOf(","),-1!=c&&(g=a.length-c-1));a=[];for(c=b[0];c;)e=c.length-k,a.push(0<e?c.substr(e):c),c=0<e?c.slice(0,e):"",
g&&(k=g,g=void 0);b[0]=a.reverse().join(h.group||",");return b.join(h.decimal||".")};d.regexp=function(b){return d._parseInfo(b).regexp};d._parseInfo=function(b){b=b||{};var c=a.normalizeLocale(b.locale),c=a.getLocalization("dojo.cldr","number",c),h=b.pattern||c[(b.type||"decimal")+"Format"],e=c.group,k=c.decimal,g=1;if(-1!=h.indexOf("%"))g/=100;else if(-1!=h.indexOf("\u2030"))g/=1E3;else{var n=-1!=h.indexOf("\u00a4");n&&(e=c.currencyGroup||e,k=c.currencyDecimal||k)}c=h.split(";");1==c.length&&c.push("-"+
c[0]);c=f.buildGroupRE(c,function(a){a="(?:"+f.escapeString(a,".")+")";return a.replace(d._numberPatternRE,function(a){var c={signed:!1,separator:b.strict?e:[e,""],fractional:b.fractional,decimal:k,exponent:!1};a=a.split(".");var h=b.places;1==a.length&&1!=g&&(a[1]="###");1==a.length||0===h?c.fractional=!1:(void 0===h&&(h=b.pattern?a[1].lastIndexOf("0")+1:Infinity),h&&void 0==b.fractional&&(c.fractional=!0),!b.places&&h<a[1].length&&(h+=","+a[1].length),c.places=h);a=a[0].split(",");1<a.length&&(c.groupSize=
a.pop().length,1<a.length&&(c.groupSize2=a.pop().length));return"("+d._realNumberRegexp(c)+")"})},!0);n&&(c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,e,c,h){a=f.escapeString(b[["symbol","currency","displayName"][c.length-1]]||b.currency||"");if(!a)return"";e=e?"[\\s\\xa0]":"";h=h?"[\\s\\xa0]":"";return b.strict?e+a+h:(e&&(e+="*"),h&&(h+="*"),"(?:"+e+a+h+")?")}));return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:e,decimal:k,factor:g}};d.parse=function(b,a){var c=d._parseInfo(a),
e=(new RegExp("^"+c.regexp+"$")).exec(b);if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];c.factor*=-1}f=f.replace(new RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return f*c.factor};d._realNumberRegexp=function(b){b=b||{};"places"in b||(b.places=Infinity);"string"!=typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(b.places)||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var a=d._integerRegexp(b),h=f.buildGroupRE(b.fractional,
function(a){var e="";a&&0!==b.places&&(e="\\"+b.decimal,e=Infinity==b.places?"(?:"+e+"\\d+)?":e+("\\d{"+b.places+"}"));return e},!0),e=f.buildGroupRE(b.exponent,function(a){return a?"([eE]"+d._integerRegexp({signed:b.eSigned})+")":""}),a=a+h;h&&(a="(?:(?:"+a+")|(?:"+h+"))");return a+e};d._integerRegexp=function(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";var a=f.buildGroupRE(b.signed,function(b){return b?"[-+]":""},!0),h=f.buildGroupRE(b.separator,
function(a){if(!a)return"(?:\\d+)";a=f.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var e=b.groupSize,c=b.groupSize2;return c?(a="(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+a+"]\\d{"+c+"})*["+a+"]\\d{"+e+"})",0<e-c?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+a+"]\\d{"+e+"})*)"},!0);return a+h};return d})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang require ./json module".split(" "),function(p,a,g,n,f,d,k,
b,c){g.add("dojo-preload-i18n-Api",1);k=p.i18n={};var h=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,e=function(b,a,e,c){var h=[e+c];a=a.split("-");for(var d="",f=0;f<a.length;f++)if(d+=(d?"-":"")+a[f],!b||b[d])h.push(e+d+"/"+c),h.specificity=d;return h},q={},r=function(b,a,e){e=e?e.toLowerCase():p.locale;b=b.replace(/\./g,"/");a=a.replace(/\./g,"/");return/root/i.test(e)?b+"/nls/"+a:b+"/nls/"+e+"/"+a},y=p.getL10nName=function(b,a,e){return b=c.id+"!"+r(b,a,e)},D=function(b,a,c,h,f,k){b([a],function(g){var r=
d.clone(g.root||g.ROOT),n=e(!g._v1x&&g,f,c,h);b(n,function(){for(var b=1;b<n.length;b++)r=d.mixin(d.clone(r),arguments[b]);q[a+"/"+f]=r;r.$locale=n.specificity;k()})})},t=function(b){var a=f.extraLocale||[],a=d.isArray(a)?a:[a];a.push(b);return a},w=function(a,e,c){var f=h.exec(a),k=f[1]+"/",r=f[5]||f[4],w=k+r,y=(f=f[5]&&f[4])||p.locale||"",v=w+"/"+y,f=f?[y]:t(y),x=f.length,K=function(){--x||c(d.delegate(q[v]))},y=a.split("*"),G="preload"==y[1];if(g("dojo-preload-i18n-Api")){if(G&&(q[a]||(q[a]=1,
C(y[2],b.parse(y[3]),1,e)),c(1)),(y=G)||(F&&A.push([a,e,c]),y=F&&!q[v]),y)return}else if(G){c(1);return}n.forEach(f,function(b){var a=w+"/"+b;g("dojo-preload-i18n-Api")&&z(a);q[a]?K():D(e,w,k,r,b,K)})};g("dojo-preload-i18n-Api");var x=k.normalizeLocale=function(b){b=b?b.toLowerCase():p.locale;return"root"==b?"ROOT":b},F=0,A=[],C=k._preloadLocalizations=function(b,e,c,h){function f(b,a){h([b],a)}function k(b,a){for(var e=b.split("-");e.length;){if(a(e.join("-")))return;e.pop()}a("ROOT")}function g(){for(--F;!F&&
A.length;)w.apply(null,A.shift())}function r(c){c=x(c);k(c,function(r){if(0<=n.indexOf(e,r)){var z=b.replace(/\./g,"/")+"_"+r;F++;f(z,function(b){for(var e in b){var f=b[e],n=e.match(/(.+)\/([^\/]+)$/),z;if(n&&(z=n[2],n=n[1]+"/",f._localized)){var t;if("ROOT"===r){var w=t=f._localized;delete f._localized;w.root=f;q[a.toAbsMid(e)]=w}else t=f._localized,q[a.toAbsMid(n+z+"/"+r)]=f;r!==c&&function(b,e,f,r){var n=[],z=[];k(c,function(c){r[c]&&(n.push(a.toAbsMid(b+c+"/"+e)),z.push(a.toAbsMid(b+e+"/"+c)))});
n.length?(F++,h(n,function(){for(var h=n.length-1;0<=h;h--)f=d.mixin(d.clone(f),arguments[h]),q[z[h]]=f;q[a.toAbsMid(b+e+"/"+c)]=d.clone(f);g()})):q[a.toAbsMid(b+e+"/"+c)]=f}(n,z,f,t)}}g()});return!0}return!1})}h=h||a;r();n.forEach(p.config.extraLocale,r)},z=function(){},z=function(b){for(var a,e=b.split("/"),c=p.global[e[0]],h=1;c&&h<e.length-1;c=c[e[h++]]);c&&((a=c[e[h]])||(a=c[e[h].replace(/-/g,"_")]),a&&(q[b]=a));return a};k.getLocalization=function(b,e,c){var h;b=r(b,e,c);w(b,a,function(b){h=
b});return h};return d.mixin(k,{dynamic:!0,normalize:function(b,a){return/^\./.test(b)?a(b):b},load:w,cache:q,getL10nName:y})})},"dojo/json":function(){define(["./has"],function(p){var a="undefined"!=typeof JSON;p.add("json-parse",a);p.add("json-stringify",a&&'{"a":1}'==JSON.stringify({a:0},function(a,f){return f||1}));if(p("json-stringify"))return JSON;var g=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,
"\\t").replace(/[\r]/g,"\\r")};return{parse:p("json-parse")?JSON.parse:function(a,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(a))throw new SyntaxError("Invalid characters in JSON");return eval("("+a+")")},stringify:function(a,f,d){function k(a,h,e){f&&(a=f(e,a));var c;c=typeof a;if("number"==c)return isFinite(a)?a+"":"null";if("boolean"==c)return a+"";if(null===a)return"null";if("string"==typeof a)return g(a);if("function"==c||
"undefined"==c)return b;if("function"==typeof a.toJSON)return k(a.toJSON(e),h,e);if(a instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(b,e,c){b=a["getUTC"+e]()+(c?1:0);return 10>b?"0"+b:b});if(a.valueOf()!==a)return k(a.valueOf(),h,e);var r=d?h+d:"",n=d?" ":"",D=d?"\n":"";if(a instanceof Array){var n=a.length,t=[];for(e=0;e<n;e++)c=k(a[e],r,e),"string"!=typeof c&&(c="null"),t.push(D+r+c);return"["+t.join(",")+D+h+"]"}t=[];for(e in a){var w;
if(a.hasOwnProperty(e)){if("number"==typeof e)w='"'+e+'"';else if("string"==typeof e)w=g(e);else continue;c=k(a[e],r,e);"string"==typeof c&&t.push(D+r+w+":"+n+c)}}return"{"+t.join(",")+D+h+"}"}var b;"string"==typeof f&&(d=f,f=null);return k(a,"","")}}})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(p,a){var g=/[&<>'"\/]/g,n={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},f={};a.setObject("dojo.string",f);f.escape=
function(a){return a?a.replace(g,function(a){return n[a]}):""};f.rep=function(a,f){if(0>=f||!a)return"";for(var b=[];;){f&1&&b.push(a);if(!(f>>=1))break;a+=a}return b.join("")};f.pad=function(a,k,b,c){b||(b="0");a=String(a);k=f.rep(b,Math.ceil((k-a.length)/b.length));return c?a+k:k+a};f.substitute=function(d,f,b,c){c=c||p.global;b=b?a.hitch(c,b):function(b){return b};return d.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(h,e,d){if(""==e)return"$";h=a.getObject(e,!1,f);d&&(h=a.getObject(d,
!1,c).call(c,h,e));d=b(h,e);if("undefined"===typeof d)throw Error('string.substitute could not find key "'+e+'" in template');return d.toString()})};f.trim=String.prototype.trim?a.trim:function(a){a=a.replace(/^\s+/,"");for(var d=a.length-1;0<=d;d--)if(/\S/.test(a.charAt(d))){a=a.substring(0,d+1);break}return a};return f})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(p,a){var g={};a.setObject("dojo.regexp",g);g.escapeString=function(a,f){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(a){return f&&-1!=f.indexOf(a)?a:"\\"+a})};g.buildGroupRE=function(a,f,d){if(!(a instanceof Array))return f(a);for(var k=[],b=0;b<a.length;b++)k.push(f(a[b]));return g.group(k.join("|"),d)};g.group=function(a,f){return"("+(f?"?:":"")+a+")"};return g})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(p,a,g,n,f,d,k,b,c){function h(b,a,e,c){return c.replace(/([a-z])\1*/ig,
function(h){var d,f,q=h.charAt(0);h=h.length;var g=["abbr","wide","narrow"];switch(q){case "G":d=a[4>h?"eraAbbr":"eraNames"][0>b.getFullYear()?0:1];break;case "y":d=b.getFullYear();switch(h){case 1:break;case 2:if(!e.fullYear){d=String(d);d=d.substr(d.length-2);break}default:f=!0}break;case "Q":case "q":d=Math.ceil((b.getMonth()+1)/3);f=!0;break;case "M":case "L":d=b.getMonth();3>h?(d+=1,f=!0):(q=["months","L"==q?"standAlone":"format",g[h-3]].join("-"),d=a[q][d]);break;case "w":d=r._getWeekOfYear(b,
0);f=!0;break;case "d":d=b.getDate();f=!0;break;case "D":d=r._getDayOfYear(b);f=!0;break;case "e":case "c":if(d=b.getDay(),2>h){d=(d-n.getFirstDayOfWeek(e.locale)+8)%7;break}case "E":d=b.getDay();3>h?(d+=1,f=!0):(q=["days","c"==q?"standAlone":"format",g[h-3]].join("-"),d=a[q][d]);break;case "a":q=12>b.getHours()?"am":"pm";d=e[q]||a["dayPeriods-format-wide-"+q];break;case "h":case "H":case "K":case "k":f=b.getHours();switch(q){case "h":d=f%12||12;break;case "H":d=f;break;case "K":d=f%12;break;case "k":d=
f||24}f=!0;break;case "m":d=b.getMinutes();f=!0;break;case "s":d=b.getSeconds();f=!0;break;case "S":d=Math.round(b.getMilliseconds()*Math.pow(10,h-3));f=!0;break;case "v":case "z":if(d=r._getZone(b,!0,e))break;h=4;case "Z":q=r._getZone(b,!1,e);q=[0>=q?"+":"-",k.pad(Math.floor(Math.abs(q)/60),2),k.pad(Math.abs(q)%60,2)];4==h&&(q.splice(0,0,"GMT"),q.splice(3,0,":"));d=q.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+c);}f&&(d=k.pad(d,h));return d})}function e(b,
e,c,h){var d=function(b){return b};e=e||d;c=c||d;h=h||d;var f=b.match(/(''|[^'])+/g),k="'"==b.charAt(0);a.forEach(f,function(b,a){b?(f[a]=(k?c:e)(b.replace(/''/g,"'")),k=!k):f[a]=""});return h(f.join(""))}function q(b,a,e,c){c=d.escapeString(c);e.strict||(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(c){var h;h=c.charAt(0);var d=c.length,f="",k="";e.strict?(1<d&&(f="0{"+(d-1)+"}"),2<d&&(k="0{"+(d-2)+"}")):(f="0?",k="0{0,2}");switch(h){case "y":h="\\d{2,4}";break;case "M":case "L":2<
d?(h=a["months-"+("L"==h?"standAlone":"format")+"-"+y[d-3]].slice(0).join("|"),e.strict||(h=h.replace(/\./g,""),h="(?:"+h+")\\.?")):h="1[0-2]|"+f+"[1-9]";break;case "D":h="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+k+"[1-9]";break;case "d":h="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":h="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":h=".+?";break;case "h":h="1[0-2]|"+f+"[1-9]";break;case "k":h="1[01]|"+f+"\\d";break;case "H":h="1\\d|2[0-3]|"+f+"\\d";break;case "K":h="1\\d|2[0-4]|"+
f+"[1-9]";break;case "m":case "s":h="[0-5]\\d";break;case "S":h="\\d{"+d+"}";break;case "a":d=e.am||a["dayPeriods-format-wide-am"];f=e.pm||a["dayPeriods-format-wide-pm"];h=d+"|"+f;e.strict||(d!=d.toLowerCase()&&(h+="|"+d.toLowerCase()),f!=f.toLowerCase()&&(h+="|"+f.toLowerCase()),-1!=h.indexOf(".")&&(h+="|"+h.replace(/\./g,"")));h=h.replace(/\./g,"\\.");break;default:h=".*"}b&&b.push(c);return"("+h+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var r={};p.setObject(c.id.replace(/\//g,"."),r);r._getZone=function(b,
a,e){return a?g.getTimezoneName(b):b.getTimezoneOffset()};r.format=function(b,a){a=a||{};var c=f.normalizeLocale(a.locale),d=a.formatLength||"short",c=r._getGregorianBundle(c),k=[],q=p.hitch(this,h,b,c,a);if("year"==a.selector)return e(c["dateFormatItem-yyyy"]||"yyyy",q);var g;"date"!=a.selector&&(g=a.timePattern||c["timeFormat-"+d])&&k.push(e(g,q));"time"!=a.selector&&(g=a.datePattern||c["dateFormat-"+d])&&k.push(e(g,q));return 1==k.length?k[0]:c["dateTimeFormat-"+d].replace(/\'/g,"").replace(/\{(\d+)\}/g,
function(b,a){return k[a]})};r.regexp=function(b){return r._parseInfo(b).regexp};r._parseInfo=function(b){b=b||{};var a=f.normalizeLocale(b.locale),a=r._getGregorianBundle(a),c=b.formatLength||"short",h=b.datePattern||a["dateFormat-"+c],d=b.timePattern||a["timeFormat-"+c],c="date"==b.selector?h:"time"==b.selector?d:a["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(b,a){return[d,h][a]}),k=[];return{regexp:e(c,p.hitch(this,q,k,a,b)),tokens:k,bundle:a}};r.parse=function(b,e){var c=/[\u200E\u200F\u202A\u202E]/g,
h=r._parseInfo(e),d=h.tokens,f=h.bundle,c=(new RegExp("^"+h.regexp.replace(c,"")+"$",h.strict?"":"i")).exec(b&&b.replace(c,""));if(!c)return null;var k=["abbr","wide","narrow"],q=[1970,0,1,0,0,0,0],n="",c=a.every(c,function(b,c){if(!c)return!0;var h=d[c-1],g=h.length,h=h.charAt(0);switch(h){case "y":if(2!=g&&e.strict)q[0]=b;else if(100>b)b=Number(b),h=""+(new Date).getFullYear(),g=100*h.substring(0,2),h=Math.min(Number(h.substring(2,4))+20,99),q[0]=b<h?g+b:g-100+b;else{if(e.strict)return!1;q[0]=b}break;
case "M":case "L":if(2<g){if(g=f["months-"+("L"==h?"standAlone":"format")+"-"+k[g-3]].concat(),e.strict||(b=b.replace(".","").toLowerCase(),g=a.map(g,function(b){return b.replace(".","").toLowerCase()})),b=a.indexOf(g,b),-1==b)return!1}else b--;q[1]=b;break;case "E":case "e":case "c":g=f["days-"+("c"==h?"standAlone":"format")+"-"+k[g-3]].concat();e.strict||(b=b.toLowerCase(),g=a.map(g,function(b){return b.toLowerCase()}));b=a.indexOf(g,b);if(-1==b)return!1;break;case "D":q[1]=0;case "d":q[2]=b;break;
case "a":g=e.am||f["dayPeriods-format-wide-am"];h=e.pm||f["dayPeriods-format-wide-pm"];if(!e.strict){var r=/\./g;b=b.replace(r,"").toLowerCase();g=g.replace(r,"").toLowerCase();h=h.replace(r,"").toLowerCase()}if(e.strict&&b!=g&&b!=h)return!1;n=b==h?"p":b==g?"a":"";break;case "K":24==b&&(b=0);case "h":case "H":case "k":if(23<b)return!1;q[3]=b;break;case "m":q[4]=b;break;case "s":q[5]=b;break;case "S":q[6]=b}return!0}),h=+q[3];"p"===n&&12>h?q[3]=h+12:"a"===n&&12==h&&(q[3]=0);h=new Date(q[0],q[1],q[2],
q[3],q[4],q[5],q[6]);e.strict&&h.setFullYear(q[0]);var t=d.join(""),y=-1!=t.indexOf("d"),t=-1!=t.indexOf("M");if(!c||t&&h.getMonth()>q[1]||y&&h.getDate()>q[2])return null;if(t&&h.getMonth()<q[1]||y&&h.getDate()<q[2])h=g.add(h,"hour",1);return h};var y=["abbr","wide","narrow"],D=[],t={};r.addCustomFormats=function(b,a){D.push({pkg:b,name:a});t={}};r._getGregorianBundle=function(b){if(t[b])return t[b];var e={};a.forEach(D,function(a){a=f.getLocalization(a.pkg,a.name,b);e=p.mixin(e,a)},this);return t[b]=
e};r.addCustomFormats(c.id.replace(/\/date\/locale$/,".cldr"),"gregorian");r.getNames=function(b,a,e,c){var h;c=r._getGregorianBundle(c);b=[b,e,a];"standAlone"==e&&(e=b.join("-"),h=c[e],1==h[0]&&(h=void 0));b[1]="format";return(h||c[b.join("-")]).concat()};r.isWeekend=function(b,a){var e=n.getWeekend(a),c=(b||new Date).getDay();e.end<e.start&&(e.end+=7,c<e.start&&(c+=7));return c>=e.start&&c<=e.end};r._getDayOfYear=function(b){return g.difference(new Date(b.getFullYear(),0,1,b.getHours()),b)+1};r._getWeekOfYear=
function(b,a){1==arguments.length&&(a=0);var e=(new Date(b.getFullYear(),0,1)).getDay(),c=(e-a+7)%7,c=Math.floor((r._getDayOfYear(b)+c-1)/7);e==a&&c++;return c};return r})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(p,a){var g={};p.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,
co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(a)];return void 0===a?1:a};g._region=function(g){g=a.normalizeLocale(g);g=g.split("-");var f=g[1];f?4==f.length&&(f=g[2]):f={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",
br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",
ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",
ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",
btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",
inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",
mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",
smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[g[0]];return f};g.getWeekend=function(a){var f=g._region(a);a={"in":0,
af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f];f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===a&&(a=6);void 0===f&&(f=0);return{start:a,end:f}};return g})},"esri/layers/vectorTiles/core/Message":function(){define(["require","exports","dojo/string"],function(p,a,g){return function(){function a(f,d,k){this instanceof a&&(this.name=f,this.message=d&&g.substitute(d,k,function(b){return null==
b?"":b})||"",this.details=k)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/layers/vectorTiles/core/promiseUtils":function(){define("require exports dojo/Deferred dojo/when dojo/promise/all ./Error".split(" "),function(p,a,g,n,f,d){function k(b){if(b){if("function"!==typeof b.forEach){var a=Object.keys(b),h=a.map(function(a){return b[a]});return k(h).then(function(b){var e={};a.forEach(function(a,c){return e[a]=b[c]});return e})}var e=new g,d=[],f=b.length;
0===f&&e.resolve(d);b.forEach(function(b){var a={promise:b};d.push(a);b.then(function(b){a.value=b}).catch(function(b){a.error=b}).then(function(){--f;0===f&&e.resolve(d)})});return e.promise}}Object.defineProperty(a,"__esModule",{value:!0});a.all=function(b){return f(b)};a.filter=function(b,a){var c=b.slice();return f(b.map(function(b,c){return a(b,c)})).then(function(b){return c.filter(function(a,e){return b[e]})})};a.eachAlways=k;a.create=function(b,a){var c=new g(a);b(function(b){void 0===b&&
(b=null);return n(b).then(c.resolve)},c.reject);return c.promise};a.reject=function(b){var a=new g;a.reject(b);return a.promise};a.resolve=function(b){void 0===b&&(b=null);var a=new g;a.resolve(b);return a.promise};a.after=function(b,a){void 0===a&&(a=null);var c=0,e=new g(function(){c&&(clearTimeout(c),c=0)}),c=setTimeout(function(){e.resolve(a)},b);return e.promise};a.timeout=function(b,a,h){var e=0,c=new g(b.cancel);b.then(function(b){c.isFulfilled()||(c.resolve(b),e&&(clearTimeout(e),e=0))});
b.catch(function(b){c.isFulfilled()||(c.reject(b),e&&(clearTimeout(e),e=0))});e=setTimeout(function(){var b=h||new d("promiseUtils:timeout","The wrapped promise did not resolve within "+a+" ms");c.reject(b)},a);return c.promise};a.wrapCallback=function(b){var a=!1,h=new g(function(){return a=!0});b(function(b){a||h.resolve(b)});return h.promise};a.isThenable=function(b){return b&&"function"===typeof b.then};a.when=function(b){return n(b)}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],
function(p,a){return function(g,n,f,d){var k=g&&"function"===typeof g.then,b=k&&g instanceof a;if(!k)return 1<arguments.length?n?n(g):g:(new p).resolve(g);b||(k=new p(g.cancel),g.then(k.resolve,k.reject,k.progress),g=k.promise);return n||f||d?g.then(n,f,d):g}})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(p,a,g){var n=p.some;return function(f){var d,k;f instanceof Array?k=f:f&&"object"===typeof f&&(d=f);var b,c=[];if(d){k=[];for(var h in d)Object.hasOwnProperty.call(d,
h)&&(c.push(h),k.push(d[h]));b={}}else k&&(b=[]);if(!k||!k.length)return(new a).resolve(b);var e=new a;e.promise.always(function(){b=c=null});var q=k.length;n(k,function(a,h){d||c.push(h);g(a,function(a){e.isFulfilled()||(b[c[h]]=a,0===--q&&e.resolve(b))},e.reject);return e.isFulfilled()});return e.promise}})},"esri/layers/vectorTiles/core/workers/utils":function(){define(["require","exports","dojo/has"],function(p,a,g){function n(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}
Object.defineProperty(a,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.CANCEL=7]="CANCEL";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT"})(a.MessageType||(a.MessageType={}));var f=0;a.newJobId=function(){return f++};a.isTranferableResult=n;a.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,
message:a.message,details:a.details,stack:a.stack}):null};a.postMessage=function(a,f,b,c){2===arguments.length||void 0===b&&void 0===c?a.postMessage(f):(g("esri-workers-supports-transfer-arraybuffer")||(c?(c=c.filter(function(b){return!(b instanceof ArrayBuffer)}),c.length||(c=null)):n(b)&&b.transferList&&(b.transferList=b.transferList.filter(function(b){return!(b instanceof ArrayBuffer)}),b.transferList.length||(b.transferList=null))),c?(f.data=b,a.postMessage(f,c)):n(b)?(f.data=b.result,b.transferList?
a.postMessage(f,b.transferList):a.postMessage(f)):(f.data=b,a.postMessage(f)))};a.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTileHandler":function(){define("require exports dojo/Deferred ../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),function(p,a,g,n,f,d){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){var a=
new g;this._spriteInfo={};this._glyphInfo={};var c=this._tiles;c.forEach(function(a){return a.setObsolete()});c.clear();a.resolve();return a.promise};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new d(a)).layers;return n.resolve({data:""})};a.prototype.getTile=function(a,c){var b=this,e=a.key,d=f.pool.acquire();d.initialize(a.key,a.refKey,this,a.rotation);var k=a.cacheTile;return c.invoke("fetchTileData",a.refKey).then(function(a){return d.setDataAndParse(a,
c).then(function(a){k&&6!==d.status&&b._tiles.set(e,d);return a}).catch(function(a){d.setObsolete();f.pool.release(d);b._tiles["delete"](d.tileKey);return n.reject(a)})}).catch(function(a){d.setObsolete();if(b._tiles.has(d.tileKey))b._tiles["delete"](d.tileKey);return n.reject(a)}).always(function(a){k||f.pool.release(d);return a})};a.prototype.update=function(a){var b=this._tiles.get(a.key);return b?b.updateSymbols(a.rotation):n.reject()};a.prototype.destructTileData=function(a){this._tiles.has(a)&&
(f.pool.release(this._tiles.get(a)),this._tiles["delete"](a));return n.resolve()};a.prototype.fetchSprites=function(a,c){var b=[],e=this._spriteInfo;a.forEach(function(a){void 0===e[a]&&b.push(a)});return 0===b.length?n.resolve():c.invoke("getSprites",b).then(function(a){for(var b in a)e[b]=a[b]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,c,h,e){var b=[],f=this._glyphInfo[c];f?h.forEach(function(a){f[a]||b.push(a)}):(f=this._glyphInfo[c]=[],
h.forEach(function(a){return b.push(a)}));return 0===b.length?n.resolve():e.invoke("getGlyphs",{tileID:a,font:c,codePoints:b}).then(function(a){for(var b in a)f[b]=a[b]})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTile":function(){define("require exports dojo/Deferred ../../core/executeAsync ../../core/ObjectPool ../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer".split(" "),
function(p,a,g,n,f,d,k,b,c,h,e,q,r,y,D,t){return function(){function a(){this.status=this.rotation=0;this._symbolBuckets=[];this.placementEngine=new r.PlacementEngine;this.fillVertexBuffer=new t.FillVertexBuffer(!1);this.fillDDVertexBuffer=new t.FillVertexBuffer(!0);this.fillIndexBuffer=new e.TriangleIndexBuffer;this.outlineVertexBuffer=new t.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new t.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new e.TriangleIndexBuffer;this.lineVertexBuffer=new t.LineVertexBuffer(!1);
this.lineDDVertexBuffer=new t.LineVertexBuffer(!0);this.lineIndexBuffer=new e.TriangleIndexBuffer;this.iconVertexBuffer=new t.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.iconIndexBuffer=new e.TriangleIndexBuffer;this.textVertexBuffer=new t.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.textIndexBuffer=new e.TriangleIndexBuffer;this.circleVertexBuffer=new t.CircleVertexBuffer;this.circleIndexBuffer=new e.TriangleIndexBuffer}a.prototype.initialize=
function(a,b,e,c){void 0===c&&(c=0);this.tileKey=a;this.refKey=b;this._workerTileHandler=e;this.rotation=c;this.placementEngine.setAngle(h.C_DEG_TO_RAD*c)};a.prototype.release=function(){this.tileKey=this.refKey="";this.rotation=this.status=0;this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();
this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0;this._workerTileHandler=null};a.prototype.setDataAndParse=function(a,e){var h=this,f=new g(function(a){h.status=6});this._parse(a,e).then(function(a){h.status=4;for(var e=new Uint32Array([1,h.fillVertexBuffer.sizeInBytes,
2,h.fillDDVertexBuffer.sizeInBytes,3,h.fillIndexBuffer.sizeInBytes,4,h.outlineVertexBuffer.sizeInBytes,5,h.outlineDDVertexBuffer.sizeInBytes,6,h.outlineIndexBuffer.sizeInBytes,7,h.lineVertexBuffer.sizeInBytes,8,h.lineDDVertexBuffer.sizeInBytes,9,h.lineIndexBuffer.sizeInBytes,10,h.iconVertexBuffer.sizeInBytes,11,h.iconDDVertexBuffer.sizeInBytes,12,h.iconIndexBuffer.sizeInBytes,13,h.textVertexBuffer.sizeInBytes,14,h.textDDVertexBuffer.sizeInBytes,15,h.textIndexBuffer.sizeInBytes,16,h.circleVertexBuffer.sizeInBytes,
17,h.circleIndexBuffer.sizeInBytes]),d=[],g=a.length,r=0;r<g;r++){var n=a[r];if(n instanceof c)d.push(n.layerIndex),d.push(1),d.push(n.fillIndexStart),d.push(n.fillIndexCount),d.push(n.outlineIndexStart),d.push(n.outlineIndexCount);else if(n instanceof q)d.push(n.layerIndex),d.push(2),d.push(n.lineIndexStart),d.push(n.lineIndexCount);else if(n instanceof y){d.push(n.layerIndex);d.push(3);d.push(n.sdfMarker?1:0);var t=n.markerPageMap;d.push(t.size);t.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])});
n=n.glyphsPageMap;d.push(n.size);n.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])})}else n instanceof b?(d.push(n.layerIndex),d.push(4),d.push(n.circleIndexStart),d.push(n.circleIndexCount)):n instanceof k&&(d.push(n.layerIndex),d.push(0))}a=new Uint32Array(d);var g=h.fillVertexBuffer.toBuffer(),r=h.fillDDVertexBuffer.toBuffer(),n=h.fillIndexBuffer.toBuffer(),t=h.outlineVertexBuffer.toBuffer(),z=h.outlineDDVertexBuffer.toBuffer(),D=h.outlineIndexBuffer.toBuffer(),w=h.lineVertexBuffer.toBuffer(),
C=h.lineDDVertexBuffer.toBuffer(),x=h.lineIndexBuffer.toBuffer(),G=h.iconVertexBuffer.toBuffer(),J=h.iconDDVertexBuffer.toBuffer(),R=h.iconIndexBuffer.toBuffer(),F=h.textVertexBuffer.toBuffer(),A=h.textDDVertexBuffer.toBuffer(),p=h.textIndexBuffer.toBuffer(),Z=h.circleVertexBuffer.toBuffer(),V=h.circleIndexBuffer.toBuffer();f.resolve({result:{bufferDataInfo:e.buffer,bucketDataInfo:a.buffer,bufferData:[g,r,n,t,z,D,w,C,x,G,J,R,F,A,p,Z,V]},transferList:[g,r,n,t,z,D,w,C,x,G,J,R,F,A,p,Z,V,e.buffer,a.buffer]})});
return f.promise};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a){var b=this,e=this._symbolBuckets;if(!e||0===e.length)return d.resolve();this.rotation=a;var c=this.placementEngine;c.reset();c.setAngle(a/256*360*h.C_DEG_TO_RAD);var f=this.iconVertexBuffer;f.reset();var k=this.iconDDVertexBuffer;k.reset();var q=this.iconIndexBuffer;q.reset();var g=this.textVertexBuffer;g.reset();var r=this.textDDVertexBuffer;r.reset();var t=this.textIndexBuffer;
t.reset();var y=[],D=e.length,w=0;return n(function(){if(6===b.status||0===b.status)return!0;if(w<D){var a=e[w++],h=a.layer;if(a=a.copy(h.hasDataDrivenIcon?k:f,q,h.hasDataDrivenText?r:g,t,c))y.push(a),a.updateSymbols()}return w>=D}).then(function(){if(6===b.status||0===b.status||0===f.sizeInBytes&&0===k.sizeInBytes&&0===q.sizeInBytes&&0===g.sizeInBytes&&0===r.sizeInBytes&&0===t.sizeInBytes)return{result:null,transferList:null};var a=new Uint32Array([10,f.sizeInBytes,11,k.sizeInBytes,12,q.sizeInBytes,
13,g.sizeInBytes,14,r.sizeInBytes,15,t.sizeInBytes]),e=[];D=y.length;for(var c=0;c<D;c++){var h=y[c];e.push(h.layerIndex);e.push(3);e.push(h.sdfMarker?1:0);var d=h.markerPageMap;e.push(d.size);d.forEach(function(a,b){e.push(b);e.push(a[0]);e.push(a[1])});h=h.glyphsPageMap;e.push(h.size);h.forEach(function(a,b){e.push(b);e.push(a[0]);e.push(a[1])})}var c=new Uint32Array(e),h=f.toBuffer(),d=k.toBuffer(),n=q.toBuffer(),z=g.toBuffer(),w=r.toBuffer(),C=t.toBuffer();return{result:{bufferDataInfo:a.buffer,
bucketDataInfo:c.buffer,bufferData:[h,d,n,z,w,C]},transferList:[h,d,n,z,w,C,a.buffer,c.buffer]}}).catch(function(){return null})};a.prototype.setObsolete=function(){this.status=6};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){if(!a||0===a.byteLength)return d.resolve([]);this.status=2;return(new D(a,this,b)).parse()};a.pool=new f(a);return a}()})},"esri/layers/vectorTiles/core/executeAsync":function(){define("require exports dojo/has ./nextTick ./now ./promiseUtils".split(" "),
function(p,a,g,n,f,d){function k(){var a=0===b.length;if(!a){for(var d=f();!a&&200>f()-d;){var g=b[h];if(g){if(!0===g()){var y=c.get(g);b[h]=null;c.delete(g);y()}h=(h+1)%b.length}else b.splice(h,1),h=(a=0===b.length)?0:h%b.length}a||n(k)}}var b=[],c=new Map,h=0;return function(a){return a?d.create(function(e){b.push(a);c.set(a,e);1===b.length&&n(k)},function(){b[b.indexOf(a)]=null;c.delete(a)}):d.reject(new TypeError("callback is not a function"))}})},"esri/layers/vectorTiles/core/nextTick":function(){define(["require",
"exports","./global"],function(p,a,g){function n(){if(g.postMessage&&!g.importScripts){var a=g.onmessage,f=!0;g.onmessage=function(){f=!1};g.postMessage("","*");g.onmessage=a;return f}return!1}var f=g.MutationObserver||g.WebKitMutationObserver;return function(){var a;if(g.process&&g.process.nextTick)a=function(a){g.process.nextTick(a)};else if(g.Promise)a=function(a){g.Promise.resolve().then(a)};else if(f){var k=[],b=document.createElement("div");(new f(function(){for(;0<k.length;)k.shift()()})).observe(b,
{attributes:!0});a=function(a){k.push(a);b.setAttribute("queueStatus","1")}}else if(n()){var c=[];g.addEventListener("message",function(a){if(a.source===g&&"esri-nexttick-message"===a.data)for(a.stopPropagation();c.length;)c.shift()()},!0);a=function(a){c.push(a);g.postMessage("esri-nexttick-message","*")}}else a=g.setImmediate?function(a){return g.setImmediate(a)}:function(a){return g.setTimeout(a,0)};return a}()})},"esri/layers/vectorTiles/core/global":function(){define(["require","exports"],function(p,
a){return function(){if("undefined"!==typeof global)return global;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self}()})},"esri/layers/vectorTiles/core/now":function(){define(["require","exports","./global"],function(p,a,g){return function(){var a=g.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};
var f;f=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-f}}()})},"esri/layers/vectorTiles/core/ObjectPool":function(){define(["require","exports"],function(p,a){var g=function(){return function(){}}();return function(){function a(a,d,k,b,c){void 0===b&&(b=1);void 0===c&&(c=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=d;this.releaseFunction=k;this.growthSize=b;!0===d?this.acquireFunction=this._constructorAcquireFunction:
"function"===typeof d&&(this.acquireFunction=d);this._pool=Array(c);this._set=new Set;this._initialSize=c;for(a=0;a<c;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(b,1)}a.prototype.acquire=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];d=this.classConstructor||g;if(0===this._pool.length)for(var k=this.growthSize,b=0;b<k;b++)this._pool[b]=new d;d=this._pool.shift();this.acquireFunction?this.acquireFunction.apply(this,[d].concat(a)):d&&d.acquire&&"function"===
typeof d.acquire&&d.acquire.apply(d,a);this._set.delete(d);return d};a.prototype.release=function(a){a&&!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(){if(!(this._pool.length<=this._initialSize))for(var a;this._initialSize>this._pool.length;)a=this._pool.shift(),this._set.delete(a),a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=
function(a){for(var d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];(b=this.classConstructor).call.apply(b,[a].concat(d));var b};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(p,a,g,n,f){return function(a){function d(b,c){return a.call(this,b,c)||this}g(d,a);return d}(f)})},"esri/layers/vectorTiles/core/tsSupport/decorateHelper":function(){define([],
function(){return function(p,a,g,n){var f=arguments.length,d=3>f?a:null===n?n=Object.getOwnPropertyDescriptor(a,g):n,k;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)d=Reflect.decorate(p,a,g,n);else for(var b=p.length-1;0<=b;b--)if(k=p[b])d=(3>f?k(d):3<f?k(a,g,d):k(a,g))||d;return 3<f&&d&&Object.defineProperty(a,g,d),d}})},"esri/layers/vectorTiles/views/vectorTiles/Bucket":function(){define(["require","exports"],function(p,a){return function(){function a(a,f){this.layerExtent=
4096;this._features=[];this.layer=a;this.zoom=f;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,f){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/CircleBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper",
"./Bucket"],function(p,a,g,n,f){return function(a){function d(b,c,h,e){b=a.call(this,b,c)||this;b._circleVertexBuffer=h;b._circleIndexBuffer=e;return b}g(d,a);Object.defineProperty(d.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});d.prototype.assignBufferInfo=function(a){a._circleIndexStart=this._circleIndexStart;
a._circleIndexCount=this._circleIndexCount};d.prototype.processFeatures=function(a,c){var b=this._circleVertexBuffer,e=this._circleIndexBuffer;this._circleIndexStart=e.index;this._circleIndexCount=0;var d=this.layer,f=this.zoom;a&&a.setExtent(this.layerExtent);for(var k=d.getPaintValue("circle-radius",f),g=d.getPaintValue("circle-color",f),n=d.getPaintValue("circle-opacity",f),w=d.getPaintValue("circle-blur",f),x=d.getPaintValue("circle-stroke-width",f),F=d.getPaintValue("circle-stroke-color",f),
A=d.getPaintValue("circle-stroke-opacity",f),C=d.getPaintProperty("circle-radius"),z=d.getPaintProperty("circle-color"),v=d.getPaintProperty("circle-opacity"),K=d.getPaintProperty("circle-blur"),p=d.getPaintProperty("circle-stroke-width"),Q=d.getPaintProperty("circle-stroke-color"),d=d.getPaintProperty("circle-stroke-opacity"),H=0,E=this._features;H<E.length;H++){var I=E[H],M=I.getGeometry(a);if(M)for(C&&C.isDataDriven&&(k=C.getValue(f,I)),z&&z.isDataDriven&&(g=z.getValue(f,I)),v&&v.isDataDriven&&
(n=v.getValue(f,I)),K&&K.isDataDriven&&(w=K.getValue(f,I)),p&&p.isDataDriven&&(x=p.getValue(f,I)),Q&&Q.isDataDriven&&(F=Q.getValue(f,I)),d&&d.isDataDriven&&(A=d.getValue(f,I)),I=0;I<M.length;I++){var P=M[I];if(P)for(var L=0;L<P.length;L++){var B=P[L],G=b.index;b.add(B.x,B.y,0,0,k,g,n,w,x,F,A);b.add(B.x,B.y,0,1,k,g,n,w,x,F,A);b.add(B.x,B.y,1,0,k,g,n,w,x,F,A);b.add(B.x,B.y,1,1,k,g,n,w,x,F,A);e.add(G+0,G+1,G+2);e.add(G+1,G+2,G+3);this._circleIndexCount+=6}}}};return d}(f)})},"esri/layers/vectorTiles/views/vectorTiles/FillBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/ArrayPool ../../core/libs/earcut/earcut ../2d/engine/webgl/Geometry ./Bucket".split(" "),
function(p,a,g,n,f,d,k,b){return function(a){function b(b,c,h,d,f,k){c=a.call(this,b,c)||this;if(b.hasDataDrivenFill!==h.isDataDriven())throw Error("incompatible fill buffer");if(b.hasDataDrivenOutline!==f.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=h;c._fillIndexBuffer=d;c._outlineVertexBuffer=f;c._outlineIndexBuffer=k;return c}g(b,a);Object.defineProperty(b.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?
(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};b.prototype.processFeatures=function(a,b){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;var e=this.layer,c=this.zoom,h=e.hasDataDrivenFill,d=e.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);for(var f=e.getPaintValue("fill-pattern",c),k=e.getPaintValue("fill-antialias",
c)&&void 0===f,g=0,q=this._features;g<q.length;g++){var n=q[g],z=void 0;h&&(z={color:f?[1,1,1,1]:e.getPaintValue("fill-color",c,n),opacity:e.getPaintValue("fill-opacity",c,n)});var v=void 0;d&&(v={color:f?[1,1,1,1]:e.getPaintValue("fill-outline-color",c,n),opacity:e.getPaintValue("fill-opacity",c,n)});n=n.getGeometry(a);this._processFeature(n,k,z,v)}};b.prototype._processFeature=function(a,c,h,d){if(a){var e=a.length;if(c)for(c=0;c<e;c++)this._processOutline(a[c],d);var f;for(c=0;c<e;c++)d=b._area(a[c]),
128<d?(void 0!==f&&this._processFill(a,f,h),f=[c]):-128>d&&void 0!==f&&f.push(c);void 0!==f&&this._processFill(a,f,h)}};b.prototype._processOutline=function(a,b){var e=this._outlineVertexBuffer,c=this._outlineIndexBuffer,h=c.index,d,f,g,q=new k.Point(0,0),n=new k.Point(0,0),C=new k.Point(0,0),z=-1,v=-1,K=-1,p=-1,Q=-1,H=!1,E=a.length;if(!(2>E)){var I=a[0];for(d=a[E-1];E&&d.isEqual(I);)--E,d=a[E-1];if(!(2>E-0)){for(I=0;I<E;++I){0===I?(d=a[E-1],f=a[0],g=a[1],q.assignSub(f,d),q.normalize(),q.rightPerpendicular()):
(d=f,f=g,g=I!==E-1?a[I+1]:a[0],q.assign(n));d=this._isClipEdge(d,f);-1===p&&(H=d);n.assignSub(g,f);n.normalize();n.rightPerpendicular();K=q.x*n.y-q.y*n.x;C.assignAdd(q,n);C.normalize();var M=-C.x*-q.x+-C.y*-q.y,M=Math.abs(0!==M?1/M:1);8<M&&(M=8);0<=K?(K=e.add(f.x,f.y,q.x,q.y,0,1,b),-1===p&&(p=K),0<=z&&0<=v&&0<=K&&!d&&c.add(z,v,K),v=e.add(f.x,f.y,M*-C.x,M*-C.y,0,-1,b),-1===Q&&(Q=v),0<=z&&0<=v&&0<=K&&!d&&c.add(z,v,K),z=v,v=K,K=e.add(f.x,f.y,C.x,C.y,0,1,b),0<=z&&0<=v&&0<=K&&!d&&c.add(z,v,K),v=e.add(f.x,
f.y,n.x,n.y,0,1,b)):(K=e.add(f.x,f.y,M*C.x,M*C.y,0,1,b),-1===p&&(p=K),0<=z&&0<=v&&0<=K&&!d&&c.add(z,v,K),v=e.add(f.x,f.y,-q.x,-q.y,0,-1,b),-1===Q&&(Q=v),0<=z&&0<=v&&0<=K&&!d&&c.add(z,v,K),z=v,v=K,K=e.add(f.x,f.y,-C.x,-C.y,0,-1,b),0<=z&&0<=v&&0<=K&&!d&&c.add(z,v,K),z=e.add(f.x,f.y,-n.x,-n.y,0,-1,b));0<=z&&0<=v&&0<=K&&!d&&c.add(z,v,K)}0<=z&&0<=v&&0<=p&&!H&&c.add(z,v,p);0<=z&&0<=p&&0<=Q&&!H&&c.add(z,Q,p);this._outlineIndexCount+=3*(c.index-h)}}};b.prototype._processFill=function(a,b,c){var e;1<b.length&&
(e=[]);for(var h=0,k=0;k<b.length;k++){var g=b[k];0!==h&&e.push(h);h+=a[g].length}for(var k=2*h,h=f.acquire(),q=0;q<b.length;q++)for(var g=b[q],g=a[g],n=g.length,r=0;r<n;++r)h.push(g[r].x),h.push(g[r].y);a=d(h,e,2);b=a.length;if(0<b){e=this._fillVertexBuffer.index;for(q=0;q<k;)this._fillVertexBuffer.add(h[q++],h[q++],c);for(c=0;c<b;)this._fillIndexBuffer.add(e+a[c++],e+a[c++],e+a[c++]);this._fillIndexCount+=b}f.release(h)};b.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:
a.y===b.y?-64>=a.y||4160<=a.y:!1};b._area=function(a){for(var b=0,e=a.length-1,c=0;c<e;c++)b+=(a[c].x-a[c+1].x)*(a[c].y+a[c+1].y);b+=(a[e].x-a[0].x)*(a[e].y+a[0].y);return.5*b};return b}(b)})},"esri/layers/vectorTiles/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(p,a,g){function n(a){a.length=0}var f=Array.prototype.splice;p=function(){function a(a,c){void 0===a&&(a=50);void 0===c&&(c=50);this._pool=new g(Array,!1,n,c,a)}a.prototype.acquire=function(){return this._pool.acquire()};
a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);f.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return d.acquire()};a.copy=function(a){return d.copy(a)};a.release=function(a){return d.release(a)};return a}();var d=new p(100);return p})},"esri/layers/vectorTiles/core/libs/earcut/earcut":function(){define([],function(){function p(b,e,h){h=h||2;A=b.length/h+(e?2*e.length:0);C=!1;var f=e&&e.length,q=f?e[0]*h:b.length,r=
a(b,0,q,h,!0),t=[];if(!r)return t;var z,y,w,v;if(f)a:{var B=h,f=[],G,J,R;v=0;for(G=e.length;v<G;v++)J=e[v]*B,R=v<G-1?e[v+1]*B:b.length,J=a(b,J,R,B,!1),J===J.next&&(J.steiner=!0),f.push(c(J));f.sort(d);for(v=0;v<f.length;v++){if(!r){r=null;break a}e=f[v];B=r;if(B=k(e,B))e=D(B,e),g(e,e.next);r=g(r,r.next)}}if(C)return t;if(b.length>80*h){z=w=b[0];y=f=b[1];for(B=h;B<q;B+=h)v=b[B],e=b[B+1],v<z&&(z=v),e<y&&(y=e),v>w&&(w=v),e>f&&(f=e);w=Math.max(w-z,f-y)}n(r,t,h,z,y,w);return t}function a(a,b,e,c,h){var f;
if(h===0<F(a,b,e,c))for(h=b;h<e;h+=c)f=t(h,a[h],a[h+1],f);else for(h=e-c;h>=b;h-=c)f=t(h,a[h],a[h+1],f);f&&q(f,f.next)&&(w(f),f=f.next);return f}function g(a,b){if(!a)return a;b||(b=a);var c=a,h,f=0,d=A*A/2;do{h=!1;if(c.steiner||!q(c,c.next)&&0!==e(c.prev,c,c.next))c=c.next;else{w(c);c=b=c.prev;if(c===c.next)return null;h=!0}if(f++>d)return C=!0,null}while(h||c!==b);return b}function n(a,c,d,k,t,x,E){if(a){if(!E&&x){var z=a,v=z;do null===v.z&&(v.z=b(v.x,v.y,k,t,x)),v.prevZ=v.prev,v=v.nextZ=v.next;
while(v!==z);v.prevZ.nextZ=null;v.prevZ=null;var z=v,H,p,B,G,J,R,F=1;do{v=z;B=z=null;for(G=0;v;){G++;p=v;for(H=J=0;H<F&&(J++,p=p.nextZ,p);H++);for(R=F;0<J||0<R&&p;)0===J?(H=p,p=p.nextZ,R--):0!==R&&p?v.z<=p.z?(H=v,v=v.nextZ,J--):(H=p,p=p.nextZ,R--):(H=v,v=v.nextZ,J--),B?B.nextZ=H:z=H,H.prevZ=B,B=H;v=p}B.nextZ=null;F*=2}while(1<G)}for(z=a;a.prev!==a.next;){v=a.prev;p=a.next;if(x)a:{B=a;R=k;var A=t,Q=x;G=B.prev;J=B;F=B.next;if(0<=e(G,J,F))B=!1;else{var K=G.x>J.x?G.x>F.x?G.x:F.x:J.x>F.x?J.x:F.x,U=G.y>
J.y?G.y>F.y?G.y:F.y:J.y>F.y?J.y:F.y;H=b(G.x<J.x?G.x<F.x?G.x:F.x:J.x<F.x?J.x:F.x,G.y<J.y?G.y<F.y?G.y:F.y:J.y<F.y?J.y:F.y,R,A,Q);R=b(K,U,R,A,Q);for(A=B.nextZ;A&&A.z<=R;){if(A!==B.prev&&A!==B.next&&h(G.x,G.y,J.x,J.y,F.x,F.y,A.x,A.y)&&0<=e(A.prev,A,A.next)){B=!1;break a}A=A.nextZ}for(A=B.prevZ;A&&A.z>=H;){if(A!==B.prev&&A!==B.next&&h(G.x,G.y,J.x,J.y,F.x,F.y,A.x,A.y)&&0<=e(A.prev,A,A.next)){B=!1;break a}A=A.prevZ}B=!0}}else B=f(a);if(B)c.push(v.i/d),c.push(a.i/d),c.push(p.i/d),w(a),z=a=p.next;else{if(C)break;
a=p;if(a===z){if(!E)n(g(a),c,d,k,t,x,1);else if(1===E){E=c;z=d;v=a;do p=v.prev,B=v.next.next,!q(p,B)&&r(p,v,v.next,B)&&y(p,B)&&y(B,p)&&(E.push(p.i/z),E.push(v.i/z),E.push(B.i/z),w(v),w(v.next),v=a=B),v=v.next;while(v!==a);a=v;n(a,c,d,k,t,x,2)}else if(2===E)a:{E=a;do{for(z=E.next.next;z!==E.prev;){if(v=E.i!==z.i){v=E;p=z;B=void 0;if(B=v.next.i!==p.i&&v.prev.i!==p.i){B=void 0;b:{B=v;do{if(B.i!==v.i&&B.next.i!==v.i&&B.i!==p.i&&B.next.i!==p.i&&r(B,B.next,v,p)){B=!0;break b}B=B.next}while(B!==v);B=!1}B=
!B}G=void 0;if(G=B&&y(v,p)&&y(p,v)){B=v;G=!1;J=(v.x+p.x)/2;p=(v.y+p.y)/2;do B.y>p!==B.next.y>p&&J<(B.next.x-B.x)*(p-B.y)/(B.next.y-B.y)+B.x&&(G=!G),B=B.next;while(B!==v)}v=G}if(v){a=D(E,z);E=g(E,E.next);a=g(a,a.next);n(E,c,d,k,t,x);n(a,c,d,k,t,x);break a}z=z.next}E=E.next}while(E!==a)}break}}}}}function f(a){var b=a.prev,c=a.next;if(0<=e(b,a,c))return!1;for(var f=a.next.next,d=0;f!==a.prev;){if(h(b.x,b.y,a.x,a.y,c.x,c.y,f.x,f.y)&&0<=e(f.prev,f,f.next))return!1;f=f.next;if(d++>A)return C=!0,!1}return!0}
function d(a,b){return a.x-b.x}function k(a,b){var e=b,c=a.x,f=a.y,d=-Infinity,k;do{if(!e)return null;if(f<=e.y&&f>=e.next.y){var g=e.x+(f-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(g<=c&&g>d){d=g;if(g===c){if(f===e.y)return e;if(f===e.next.y)return e.next}k=e.x<e.next.x?e:e.next}}e=e.next}while(e!==b);if(!k)return null;if(c===d)return k.prev;for(var g=k,q=k.x,n=k.y,r=Infinity,t,e=k.next;e!==g;)c>=e.x&&e.x>=q&&h(f<n?c:d,f,q,n,f<n?d:c,f,e.x,e.y)&&(t=Math.abs(f-e.y)/(c-e.x),(t<r||t===r&&e.x>k.x)&&y(e,a)&&
(k=e,r=t)),e=e.next;return k}function b(a,b,e,c,h){a=32767*(a-e)/h;b=32767*(b-c)/h;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function c(a){var b=a,e=a;do b.x<e.x&&(e=b),b=b.next;while(b!==a);return e}function h(a,b,e,c,h,f,d,k){return 0<=(h-d)*(b-k)-(a-d)*(f-k)&&0<=(a-d)*(c-k)-(e-d)*(b-k)&&0<=(e-d)*(f-k)-(h-d)*(c-k)}function e(a,b,e){return(b.y-a.y)*(e.x-b.x)-(b.x-a.x)*
(e.y-b.y)}function q(a,b){return a.x===b.x&&a.y===b.y}function r(a,b,c,h){return q(a,b)&&q(c,h)||q(a,h)&&q(c,b)?!0:0<e(a,b,c)!==0<e(a,b,h)&&0<e(c,h,a)!==0<e(c,h,b)}function y(a,b){return 0>e(a.prev,a,a.next)?0<=e(a,b,a.next)&&0<=e(a,a.prev,b):0>e(a,b,a.prev)||0>e(a,a.next,b)}function D(a,b){var e=new x(a.i,a.x,a.y),c=new x(b.i,b.x,b.y),h=a.next,f=b.prev;a.next=b;b.prev=a;e.next=h;h.prev=e;c.next=e;e.prev=c;f.next=c;c.prev=f;return c}function t(a,b,e,c){a=new x(a,b,e);c?(a.next=c.next,a.prev=c,c.next.prev=
a,c.next=a):(a.prev=a,a.next=a);return a}function w(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function x(a,b,e){this.i=a;this.x=b;this.y=e;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function F(a,b,e,c){for(var h=0,f=e-c;b<e;b+=c)h+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return h}var A,C;p.deviation=function(a,b,e,c){var h=b&&b.length,f=Math.abs(F(a,0,h?b[0]*e:a.length,e));if(h)for(var h=0,d=b.length;h<d;h++)f-=Math.abs(F(a,
b[h]*e,h<d-1?b[h+1]*e:a.length,e));for(h=b=0;h<c.length;h+=3){var d=c[h]*e,k=c[h+1]*e,g=c[h+2]*e;b+=Math.abs((a[d]-a[g])*(a[k+1]-a[d+1])-(a[d]-a[k])*(a[g+1]-a[d+1]))}return 0===f&&0===b?0:Math.abs((b-f)/f)};p.flatten=function(a){for(var b=a[0][0].length,e={vertices:[],holes:[],dimensions:b},c=0,h=0;h<a.length;h++){for(var f=0;f<a[h].length;f++)for(var d=0;d<b;d++)e.vertices.push(a[h][f][d]);0<h&&(c+=a[h-1].length,e.holes.push(c))}return e};return p})},"esri/layers/vectorTiles/views/2d/engine/webgl/Geometry":function(){define(["require",
"exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(a,d){this.x=a;this.y=d}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(a,d){return a===this.x&&d===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,d){this.x=a;this.y=d};a.prototype.normalize=function(){var a=this.x,d=this.y,a=Math.sqrt(a*a+d*d);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=
this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,d){this.x+=a;this.y+=d};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,d){this.x=a.x+d.x;this.y=a.y+d.y};a.prototype.assignSub=function(a,d){this.x=a.x-d.x;this.y=a.y-d.y};a.prototype.rotate=function(a,d){var f=this.x,b=this.y;this.x=f*a-b*d;this.y=f*d+b*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,d=this.y;return Math.sqrt(a*a+d*d)};a.distance=function(a,
d){var f=d.x-a.x,b=d.y-a.y;return Math.sqrt(f*f+b*b)};a.add=function(f,d){return new a(f.x+d.x,f.y+d.y)};a.sub=function(f,d){return new a(f.x-d.x,f.y-d.y)};return a}();a.Point=g})},"esri/layers/vectorTiles/views/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(p,a){function g(a,d){a%=d;return 0<=a?a:a+d}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=
a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=g;a.radToByte=function(f){return g(f*a.C_RAD_TO_256,256)};a.degToByte=function(f){return g(f*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*n};a.sqr=function(a){return a*a};a.clamp=function(a,d,k){return Math.min(Math.max(a,d),k)};a.interpolate=function(a,d,k){return a*(1-k)+d*k};a.between=function(a,d,k){return a>=d&&a<=k||a>=k&&a<=d}})},"esri/layers/vectorTiles/views/vectorTiles/IndexMemoryBuffer":function(){define(["require",
"exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./MemoryBuffer"],function(p,a,g,n,f){Object.defineProperty(a,"__esModule",{value:!0});p=function(a){function d(){return a.call(this,12)||this}g(d,a);d.prototype.add=function(a,c,h){var b=this.array;b.push(a);b.push(c);b.push(h)};return d}(f);a.TriangleIndexBuffer=p;f=function(a){function d(){return a.call(this,4)||this}g(d,a);d.prototype.add=function(a){this.array.push(a)};return d}(f);a.PointElementMemoryBuffer=
f})},"esri/layers/vectorTiles/views/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(p,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,f){return 65535&a|f<<16};a.i8888to32=function(a,f,d,k){return a&255|(f&255)<<8|(d&255)<<16|k<<24};a.i8816to32=function(a,f,d){return a&255|(f&255)<<
8|d<<16};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/LineBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../2d/engine/webgl/LineTess ./Bucket ./style/StyleLayer".split(" "),function(p,a,g,n,f,d,k){var b=new f.Tessellator({distanceAlongCorrection:!0});return function(a){function c(b,c,h,d){c=a.call(this,b,c)||this;c.extrudeVectorsDoubleBuffer=[f.allocExtrudeVectors(),f.allocExtrudeVectors()];c.firstExtrudeVectors=f.allocExtrudeVectors();
c.recycledTriangleBridge=f.allocTriangles(20);c.recycledTrianglePie=f.allocTriangles(20);if(b.hasDataDrivenLine!==h.isDataDriven())throw Error("incompatible line buffer");c._lineVertexBuffer=h;c._lineIndexBuffer=d;return c}g(c,a);Object.defineProperty(c.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=
function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};c.prototype.processFeatures=function(a,b){this._lineIndexStart=this._lineIndexBuffer.index;this._lineIndexCount=0;var e=this.layer,c=this.zoom,h=e.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var d=e.getPaintValue("line-pattern",c),f=0,g=this._features;f<g.length;f++){var q=g[f],n=new k.LineLayout(e,c,q),C=void 0;if(h&&(C={color:d?[1,1,1,1]:e.getPaintValue("line-color",c,q),opacity:e.getPaintValue("line-opacity",
c,q),size:Math.max(Math.min(e.getPaintValue("line-width",c,q),256),0)},0>=C.size||0>=C.opacity||0>=C.color[3]))continue;q=q.getGeometry(a);this._processFeature(n,q,C)}};c.prototype._processFeature=function(a,b,c){if(b)for(var e=b.length,h=0;h<e;h++)this._processGeometry(b[h],a,c)};c.prototype._processGeometry=function(a,b,c){if(!(2>a.length)){for(var e=a[0],h=a[a.length-1],d=h.x-e.x,h=h.y-e.y,e=1E-6>d*d+h*h,k=a[0],g=1;g<a.length;)d=a[g].x-k.x,h=a[g].y-k.y,1E-6>d*d+h*h?a.splice(g,1):(k=a[g],++g);if(!(2>
a.length)){this.vertices=a;this.verticesLen=a.length;this.isClosed=e;this.cap=b.cap;this.join=b.join;this.almostParallelRads=.05;this.veryShallowRads=.1;this.miterSafeRads=f.MITER_SAFE_RADS;this.miterLimitMag=Math.min(b.miterLimit,f.SYSTEM_MAG_LIMIT);this.roundLimitRads=Math.min(b.roundLimit,.5);this.newRoundJoinsSafeRads=2.3;b=this._lineIndexBuffer.index;for(var d=0,q=void 0,h=this.verticesLen,k=0;k<h;++k){var g=a[k],n=a[(k+h-1)%h],r=e&&this._isClipEdge(n,g),n=q===this.extrudeVectorsDoubleBuffer[k%
2]?this.extrudeVectorsDoubleBuffer[(k+1)%2]:this.extrudeVectorsDoubleBuffer[k%2];k<h-1||!e||this.hasPattern?(this._computeExtrudeVectors(n,k),this._writeGPUVertices(g.x,g.y,d,n,c),!n.capCenter||e&&k===h-1||this._writeGPUPieElements(n,r),e&&0===k&&!this.hasPattern&&f.copyExtrudeVectors(this.firstExtrudeVectors,n)):f.copyExtrudeVectors(n,this.firstExtrudeVectors);q&&this._writeGPUBridgeElements(q,n,r);k<h-1&&(q=a[k+1],g=f.length([q.x-g.x,q.y-g.y]),d+=g);q=n}this._lineIndexCount+=3*(this._lineIndexBuffer.index-
b)}}};c.prototype._computeExtrudeVectors=function(a,b){var e=this.vertices,c=this.verticesLen,h=this.isClosed,d=e[b],k=[void 0,void 0],g=[void 0,void 0];if(0<b&&b<c-1){var q=e[(b+c-1)%c],n=e[(b+1)%c];f.normalize(k,[d.x-q.x,d.y-q.y]);f.normalize(g,[n.x-d.x,n.y-d.y])}else if(0===b)n=e[(b+1)%c],f.normalize(g,[n.x-d.x,n.y-d.y]),h?(e=e[c-2],f.normalize(k,[d.x-e.x,d.y-e.y])):k=g;else if(b===c-1)q=e[(b+c-1)%c],f.normalize(k,[d.x-q.x,d.y-q.y]),h?(e=e[1],f.normalize(g,[e.x-d.x,e.y-d.y])):g=k;else{console.error("Vertex index 'i' out of range.");
return}h||0!==b?h||b!==c-1?this._computeJoinExtrudeVectors(a,k,g):this._computeCapExtrudeVectors(a,k,g,f.CapPosition.END):this._computeCapExtrudeVectors(a,k,g,f.CapPosition.START)};c.prototype._computeCapExtrudeVectors=function(a,c,h,d){0===this.cap?b.buttCap(a,c,h):1===this.cap?b.roundCap(a,c,h,d,f.getNumberOfSlices(Math.PI),d===f.CapPosition.START?-1:1):2===this.cap?b.squareCap(a,c,h,d):b.buttCap(a,c,h)};c.prototype._computeJoinExtrudeVectors=function(a,c,h){var e=f.getRads(c,h);if(e>Math.PI-this.almostParallelRads)b.rectJoin(a,
c,h);else if(0===this.join&&e>=this.veryShallowRads)b.bevelJoin(a,c,h,1);else if(1===this.join&&e>=this.veryShallowRads){var d=f.getNumberOfSlices(e);e<this.newRoundJoinsSafeRads?2>d||e<this.roundLimitRads?b.bevelJoin(a,c,h,1):b.roundJoin(a,c,h,d):b.unitRoundJoin(a,c,h,d)}else e<this.almostParallelRads?b.fastMiterJoin(a,c,h):e<this.miterSafeRads?b.miterJoin(a,c,h):b.bevelJoin(a,c,h,this.miterLimitMag)};c.prototype._writeGPUVertices=function(a,b,c,h,d){for(var e=0;e<h.vectors.count;++e){var f=h.vectors.items[e].vector[0],
k=h.vectors.items[e].vector[1],g=h.vectors.items[e].texCoords[0],q=h.vectors.items[e].texCoords[1];h.vectors.items[e].base=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a,b,f,k,g,q,c,d)}};c.prototype._writeGPUBridgeElements=function(a,c,h){b.bridge(this.recycledTriangleBridge,a,c);if(!h)for(a=0;a<this.recycledTriangleBridge.count;++a)c=this.recycledTriangleBridge.items[a],this._lineIndexBuffer.add(c.v1.base,c.v2.base,c.v3.base)};c.prototype._writeGPUPieElements=function(a,c){b.pie(this.recycledTrianglePie,
a);if(!c)for(var e=0;e<this.recycledTrianglePie.count;++e){var h=this.recycledTrianglePie.items[e];this._lineIndexBuffer.add(h.v1.base,h.v2.base,h.v3.base)}};c.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};return c}(d)})},"esri/layers/vectorTiles/views/2d/engine/webgl/LineTess":function(){define(["require","exports"],function(p,a){function g(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push(void 0);return b}function n(a,b){A.vector[0]=
a.vector[0];A.vector[1]=a.vector[1];A.texCoords[0]=a.texCoords[0];A.texCoords[1]=a.texCoords[1];A.direction[0]=a.direction[0];A.direction[1]=a.direction[1];A.base=a.base;a.vector[0]=b.vector[0];a.vector[1]=b.vector[1];a.texCoords[0]=b.texCoords[0];a.texCoords[1]=b.texCoords[1];a.direction[0]=b.direction[0];a.direction[1]=b.direction[1];a.base=b.base;b.vector[0]=A.vector[0];b.vector[1]=A.vector[1];b.texCoords[0]=A.texCoords[0];b.texCoords[1]=A.texCoords[1];b.direction[0]=A.direction[0];b.direction[1]=
A.direction[1];b.base=A.base}function f(a,b){return a[0]*b[0]+a[1]*b[1]}function d(a){return Math.sqrt(f(a,a))}function k(a,b){var c=d(b);a[0]=b[0]/c;a[1]=b[1]/c;return a}function b(a,b){a[0]=-b[1];a[1]=b[0];return a}function c(a,b){return a[0]*b[1]-a[1]*b[0]}function h(a,b){a[0]=-b[0];a[1]=-b[1];return a}function e(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function q(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function r(a,b){var c=f(a,b);return.999<c?0:-.999>c?Math.PI:Math.acos(c)}function y(a,
b,c,h,f){if(0===h)a.count=0;else{var k=d(b),g=e(C[0],b,1/k);c=e(C[1],c,1/k);g=r(g,c);g=(f?-1:1)*g/h;f=Math.cos(g);g=Math.sin(g);c=b[0];var q=b[1];for(b=0;b<h-1;++b)k=c,c=f*k-g*q,q=g*k+f*q,a.items[b][0]=c,a.items[b][1]=q;a.count=h-1}}function D(a){var b=a.count,c=Math.floor(b/2),e;for(e=0;e<c;++e){var h=a.items[e];a.items[e]=a.items[b-e-1];a.items[b-e-1]=h}}Object.defineProperty(a,"__esModule",{value:!0});var t;(function(a){a[a.ENTRY=1]="ENTRY";a[a.EXIT=2]="EXIT";a[a.CAP=3]="CAP"})(t=a.VectorRole||
(a.VectorRole={}));var w;(function(a){a[a.START=1]="START";a[a.END=2]="END"})(w=a.CapPosition||(a.CapPosition={}));a.SYSTEM_MAG_LIMIT=3.8;a.MITER_SAFE_RADS=2*Math.acos(1/a.SYSTEM_MAG_LIMIT);var x=a.SYSTEM_MAG_LIMIT*a.SYSTEM_MAG_LIMIT,F=16/(2*Math.PI);a.allocTriangles=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push({v1:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v3:{vector:[void 0,
void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]}});return b};a.allocExtrudeVectors=function(){var a={items:[],count:0},b;for(b=0;30>b;++b)a.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});b={};b[t.ENTRY]=g(20);b[t.EXIT]=g(20);b[t.CAP]=g(20);return{vectors:a,lists:b}};a.copyExtrudeVectors=function(a,b){var c;for(c=0;c<b.vectors.count;++c)a.vectors.items[c].vector[0]=b.vectors.items[c].vector[0],a.vectors.items[c].vector[1]=b.vectors.items[c].vector[1],
a.vectors.items[c].texCoords[0]=b.vectors.items[c].texCoords[0],a.vectors.items[c].texCoords[1]=b.vectors.items[c].texCoords[1],a.vectors.items[c].direction[0]=b.vectors.items[c].direction[0],a.vectors.items[c].direction[1]=b.vectors.items[c].direction[1],a.vectors.items[c].base=b.vectors.items[c].base;a.vectors.count=b.vectors.count;var e=b.lists[t.ENTRY],h=a.lists[t.ENTRY],d=b.lists[t.EXIT],f=a.lists[t.EXIT],k=b.lists[t.CAP],g=a.lists[t.CAP];for(c=0;c<e.count;++c)h.items[c]=e.items[c];h.count=e.count;
for(c=0;c<d.count;++c)f.items[c]=d.items[c];f.count=d.count;for(c=0;c<k.count;++c)g.items[c]=k.items[c];g.count=k.count;a.capCenter=b.capCenter};var A={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};a.swapExtrudeVectors=n;var C=[],z;for(z=0;32>z;++z)C.push([void 0,void 0]);var v=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push([void 0,void 0]);return b}(16);a.length=d;a.normalize=k;a.getNumberOfSlices=function(a){return Math.max(Math.round(a*
F),1)};a.getRads=r;a.reverse=D;var K=[void 0,void 0],U=[void 0,void 0],Q=[0,0],H=[0,0],E=[0,0],I=[0,0],M=Math.cos(Math.PI/4),P=Math.sin(Math.PI/4),L=Math.sqrt(2);z=function(){function a(a){this._distanceAlongCorrection=a.distanceAlongCorrection}a.prototype.bridge=function(a,b,c){var e=b.vectors;b=b.lists[t.EXIT];var h=c.vectors,d=c.lists[t.ENTRY],f,k;if(b.count===d.count+1)c=b.items,f=e.items,k=d.items,h=h.items;else if(d.count===b.count+1)c=d.items,f=h.items,k=b.items,h=e.items;else if(b.count===
d.count)c=d.items,f=h.items,k=b.items,h=e.items;else{console.error("Cannot bridge "+b.count+" to "+d.count+".");a.count=0;return}e=b.count+d.count-2;a.count=e;K[0]=c;K[1]=k;U[0]=f;U[1]=h;for(b=0;b<e;++b)c=a.items[b],f=(b+0)%2,f=U[f][K[f][Math.floor((b+0)/2)]],c.v1.vector[0]=f.vector[0],c.v1.vector[1]=f.vector[1],c.v1.texCoords[0]=f.texCoords[0],c.v1.texCoords[1]=f.texCoords[1],c.v1.direction[0]=f.direction[0],c.v1.direction[1]=f.direction[1],c.v1.base=f.base,f=(b+1)%2,f=U[f][K[f][Math.floor((b+1)/
2)]],c.v2.vector[0]=f.vector[0],c.v2.vector[1]=f.vector[1],c.v2.texCoords[0]=f.texCoords[0],c.v2.texCoords[1]=f.texCoords[1],c.v2.direction[0]=f.direction[0],c.v2.direction[1]=f.direction[1],c.v2.base=f.base,f=(b+2)%2,f=U[f][K[f][Math.floor((b+2)/2)]],c.v3.vector[0]=f.vector[0],c.v3.vector[1]=f.vector[1],c.v3.texCoords[0]=f.texCoords[0],c.v3.texCoords[1]=f.texCoords[1],c.v3.direction[0]=f.direction[0],c.v3.direction[1]=f.direction[1],c.v3.base=f.base,f=c.v1.base&&c.v1.base.point||Q,k=c.v2.base&&c.v2.base.point||
Q,h=c.v3.base&&c.v3.base.point||Q,H[0]=f[0]+c.v1.vector[0],H[1]=f[1]+c.v1.vector[1],E[0]=k[0]+c.v2.vector[0],E[1]=k[1]+c.v2.vector[1],I[0]=h[0]+c.v3.vector[0],I[1]=h[1]+c.v3.vector[1],0>(E[0]-H[0])*(I[1]-H[1])-(I[0]-H[0])*(E[1]-H[1])||n(c.v2,c.v3)};a.prototype.pie=function(a,b){if(0===b.lists[t.CAP].count)a.count=0;else if(1===b.lists[t.CAP].count)console.error("A single vector is not enough to define a pie."),a.count=0;else{a.count=b.lists[t.CAP].count-1;var c;for(c=0;c<a.count;++c){var e=a.items[c],
h=b.vectors.items[b.lists[t.CAP].items[c]];e.v1.vector[0]=h.vector[0];e.v1.vector[1]=h.vector[1];e.v1.texCoords[0]=h.texCoords[0];e.v1.texCoords[1]=h.texCoords[1];e.v1.direction[0]=h.direction[0];e.v1.direction[1]=h.direction[1];e.v1.base=h.base;h=b.vectors.items[b.lists[t.CAP].items[c+1]];e.v2.vector[0]=h.vector[0];e.v2.vector[1]=h.vector[1];e.v2.texCoords[0]=h.texCoords[0];e.v2.texCoords[1]=h.texCoords[1];e.v2.direction[0]=h.direction[0];e.v2.direction[1]=h.direction[1];e.v2.base=h.base;h=b.vectors.items[b.capCenter];
e.v3.vector[0]=h.vector[0];e.v3.vector[1]=h.vector[1];e.v3.texCoords[0]=h.texCoords[0];e.v3.texCoords[1]=h.texCoords[1];e.v3.direction[0]=h.direction[0];e.v3.direction[1]=h.direction[1];e.v3.base=h.base;var h=e.v1.base&&e.v1.base.point||Q,d=e.v2.base&&e.v2.base.point||Q,f=e.v3.base&&e.v3.base.point||Q;H[0]=h[0]+e.v1.vector[0];H[1]=h[1]+e.v1.vector[1];E[0]=d[0]+e.v2.vector[0];E[1]=d[1]+e.v2.vector[1];I[0]=f[0]+e.v3.vector[0];I[1]=f[1]+e.v3.vector[1];0>(E[0]-H[0])*(I[1]-H[1])-(I[0]-H[0])*(E[1]-H[1])||
n(e.v2,e.v3)}}};a.prototype.buttCap=function(a,b,c){this.fastMiterJoin(a,b,c)};a.prototype.roundCap=function(a,b,c,e,h,d){void 0===d&&(d=0);this.fastMiterJoin(a,b,c);c=e===w.START?0:1;e=e===w.START?1:0;a.capCenter=a.vectors.count;b=a.vectors.items[a.capCenter];b.vector[0]=0;b.vector[1]=0;b.texCoords[0]=0;b.texCoords[1]=0;b.direction[0]=0;b.direction[1]=0;++a.vectors.count;y(v,a.vectors.items[c].vector,a.vectors.items[e].vector,h,!1);h=a.vectors.count;b=a.lists[t.CAP];b.items[0]=c;c=a.vectors.items[c].texCoords[1];
var f=a.vectors.items[e].texCoords[1],k;for(k=0;k<v.count;++k){var g=d*(1-Math.abs(v.count/2-k)/(v.count/2)),q=c+k/(v.count-1)*(f-c),n=v.items[k],r=a.vectors.items[h+k];r.vector[0]=n[0];r.vector[1]=n[1];r.texCoords[0]=g;r.texCoords[1]=q;r.direction[0]=0;r.direction[1]=0;b.items[k+1]=h+k}b.items[v.count+1]=e;b.count=v.count+2;a.vectors.count=h+v.count};a.prototype.squareCap=function(a,b,c,h){this.fastMiterJoin(a,b,c);b=h===w.START?0:1;c=h===w.START?1:0;var d=C[0],f=C[1],k=C[2],g=C[3];h=C[4];var q=
a.vectors.items[b].vector;d[0]=M*q[0]-P*q[1];d[1]=P*q[0]+M*q[1];e(g,d,L);f[0]=M*d[0]-P*d[1];f[1]=P*d[0]+M*d[1];k[0]=M*f[0]-P*f[1];k[1]=P*f[0]+M*f[1];e(h,k,L);b=a.vectors.items[b];b.vector[0]=g[0];b.vector[1]=g[1];a=a.vectors.items[c];a.vector[0]=h[0];a.vector[1]=h[1]};a.prototype.fastMiterJoin=function(a,c,e){e=b(C[0],e);c=h(C[1],e);var d=a.vectors.items[0];d.vector[0]=e[0];d.vector[1]=e[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=0;e=a.vectors.items[1];e.vector[0]=c[0];
e.vector[1]=c[1];e.texCoords[0]=0;e.texCoords[1]=1;e.direction[0]=0;e.direction[1]=0;a.vectors.count=2;c=a.lists[t.ENTRY];c.items[0]=0;c.items[1]=1;c.count=2;c=a.lists[t.EXIT];c.items[0]=0;c.items[1]=1;c.count=2;a.lists[t.CAP].count=0;a.capCenter=void 0};a.prototype.miterJoin=function(a,c,d){var g=b(C[0],c),q=b(C[1],d),n=C[2];n[0]=g[0]+q[0];n[1]=g[1]+q[1];q=k(C[3],n);g=f(q,g);q=e(C[4],q,1/g);g=h(C[5],q);this._distanceAlongCorrection?(n=a.vectors.items[0],n.vector[0]=q[0],n.vector[1]=q[1],n.texCoords[0]=
0,n.texCoords[1]=-1,n.direction[0]=c[0],n.direction[1]=c[1],n=a.vectors.items[1],n.vector[0]=g[0],n.vector[1]=g[1],n.texCoords[0]=0,n.texCoords[1]=1,n.direction[0]=c[0],n.direction[1]=c[1],c=a.vectors.items[2],c.vector[0]=q[0],c.vector[1]=q[1],c.texCoords[0]=0,c.texCoords[1]=-1,c.direction[0]=d[0],c.direction[1]=d[1],c=a.vectors.items[3],c.vector[0]=g[0],c.vector[1]=g[1],c.texCoords[0]=0,c.texCoords[1]=1,c.direction[0]=d[0],c.direction[1]=d[1],a.vectors.count=4,d=a.lists[t.ENTRY],d.items[0]=0,d.items[1]=
1,d.count=2,d=a.lists[t.EXIT],d.items[0]=2,d.items[1]=3):(n=a.vectors.items[0],n.vector[0]=q[0],n.vector[1]=q[1],n.texCoords[0]=0,n.texCoords[1]=-1,n.direction[0]=0,n.direction[1]=0,n=a.vectors.items[1],n.vector[0]=g[0],n.vector[1]=g[1],n.texCoords[0]=0,n.texCoords[1]=1,n.direction[0]=0,n.direction[1]=0,a.vectors.count=2,d=a.lists[t.ENTRY],d.items[0]=0,d.items[1]=1,d.count=2,d=a.lists[t.EXIT],d.items[0]=0,d.items[1]=1);d.count=2;a.lists[t.CAP].count=0;a.capCenter=void 0};a.prototype.bevelJoin=function(a,
d,g,n){var r=n*n;n=c(d,g);var y=0<n?[-1,1]:[1,-1],w=y[0],y=y[1],p=0<n?h(C[0],b(C[1],d)):b(C[2],d),v=0<n?h(C[3],b(C[4],g)):b(C[5],g),z=C[6];z[0]=p[0]+v[0];z[1]=p[1]+v[1];var F=k(C[7],z),A=h(C[8],F),H=f(F,p),z=c(F,p),E=Math.abs(z/H),z=1+E*E,I=z<x?[E,this._distanceAlongCorrection]:[Math.sqrt(x-1),!0],G=I[0],I=I[1],B=z<r?[E,this._distanceAlongCorrection]:[Math.sqrt(r-1),!0],E=B[0];(B=B[1])&&I?(I=a.vectors.items[0],q(I.vector,h(C[9],p),e(C[10],h(C[11],d),G)),I.texCoords[0]=0,I.texCoords[1]=w,I.direction[0]=
this._distanceAlongCorrection?d[0]:0,I.direction[1]=this._distanceAlongCorrection?d[1]:0,A=a.vectors.items[1],q(A.vector,h(C[12],v),e(C[13],g,G)),A.texCoords[0]=0,A.texCoords[1]=w,A.direction[0]=this._distanceAlongCorrection?g[0]:0,A.direction[1]=this._distanceAlongCorrection?g[1]:0,w=a.vectors.items[2],w.vector[0]=0,w.vector[1]=0,w.texCoords[0]=0,w.texCoords[1]=0,w.direction[0]=0,w.direction[1]=0,w=a.vectors.items[3],q(w.vector,p,e(C[14],d,E)),w.texCoords[0]=0,w.texCoords[1]=y,w.direction[0]=this._distanceAlongCorrection?
d[0]:0,w.direction[1]=this._distanceAlongCorrection?d[1]:0,d=a.vectors.items[4],q(d.vector,v,e(C[15],h(C[16],g),E)),d.texCoords[0]=0,d.texCoords[1]=y,d.direction[0]=this._distanceAlongCorrection?g[0]:0,d.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=5,g=a.lists[t.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[t.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=4,g.count=3,z<r?(r=a.lists[t.CAP],r.count=0,a.capCenter=void 0):(r=a.lists[t.CAP],r.items[0]=3,r.items[1]=
4,r.count=2,a.capCenter=2)):!B&&I?(I=a.vectors.items[0],q(I.vector,h(C[9],p),e(C[10],h(C[11],d),G)),I.texCoords[0]=0,I.texCoords[1]=w,I.direction[0]=this._distanceAlongCorrection?d[0]:0,I.direction[1]=this._distanceAlongCorrection?d[1]:0,A=a.vectors.items[1],q(A.vector,h(C[12],v),e(C[13],g,G)),A.texCoords[0]=0,A.texCoords[1]=w,A.direction[0]=this._distanceAlongCorrection?g[0]:0,A.direction[1]=this._distanceAlongCorrection?g[1]:0,w=a.vectors.items[2],w.vector[0]=0,w.vector[1]=0,w.texCoords[0]=0,w.texCoords[1]=
0,w.direction[0]=0,w.direction[1]=0,w=a.vectors.items[3],e(w.vector,F,1/H),w.texCoords[0]=0,w.texCoords[1]=y,w.direction[0]=0,w.direction[1]=0,a.vectors.count=4,g=a.lists[t.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[t.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=3,g.count=3,a.lists[t.CAP].count=0,a.capCenter=void 0):B&&!I?(I=a.vectors.items[0],e(I.vector,A,1/H),I.texCoords[0]=0,I.texCoords[1]=w,I.direction[0]=0,I.direction[1]=0,A=a.vectors.items[1],A.vector[0]=0,A.vector[1]=0,
A.texCoords[0]=0,A.texCoords[1]=0,A.direction[0]=0,A.direction[1]=0,w=a.vectors.items[2],q(w.vector,p,e(C[9],d,E)),w.texCoords[0]=0,w.texCoords[1]=y,w.direction[0]=this._distanceAlongCorrection?d[0]:0,w.direction[1]=this._distanceAlongCorrection?d[1]:0,w=a.vectors.items[3],q(w.vector,v,e(C[10],h(C[11],g),E)),w.texCoords[0]=0,w.texCoords[1]=y,w.direction[0]=this._distanceAlongCorrection?g[0]:0,w.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=4,g=a.lists[t.ENTRY],g.items[0]=0,g.items[1]=
1,g.items[2]=2,g.count=3,g=a.lists[t.EXIT],g.items[0]=0,g.items[1]=1,g.items[2]=3,g.count=3,z<r?(r=a.lists[t.CAP],r.count=0,a.capCenter=void 0):(r=a.lists[t.CAP],r.items[0]=2,r.items[1]=3,r.count=2,a.capCenter=1)):B||I||(I=a.vectors.items[0],e(I.vector,A,1/H),I.texCoords[0]=0,I.texCoords[1]=w,I.direction[0]=0,I.direction[1]=0,A=a.vectors.items[1],e(A.vector,F,1/H),A.texCoords[0]=0,A.texCoords[1]=y,A.direction[0]=0,A.direction[1]=0,a.vectors.count=2,g=a.lists[t.ENTRY],g.items[0]=0,g.items[1]=1,g.count=
2,g=a.lists[t.EXIT],g.items[0]=0,g.items[1]=1,g.count=2,a.lists[t.CAP].count=0,a.capCenter=void 0);0>n&&(D(a.lists[t.ENTRY]),D(a.lists[t.EXIT]))};a.prototype.roundJoin=function(a,d,g,n){var r=c(d,g),w=0<r?[-1,1]:[1,-1],p=w[0],w=w[1],z=0<r?h(C[0],b(C[1],d)):b(C[2],d),A=0<r?h(C[3],b(C[4],g)):b(C[5],g),I=C[6];I[0]=z[0]+A[0];I[1]=z[1]+A[1];var F=k(C[7],I),I=h(C[8],F),H=f(F,z),F=c(F,z),F=Math.abs(F/H),E=1+F*F<x?[F,this._distanceAlongCorrection]:[Math.sqrt(x-1),!0],F=E[0];E[1]?(E=a.vectors.items[0],E.vector[0]=
z[0],E.vector[1]=z[1],E.texCoords[0]=0,E.texCoords[1]=w,E.direction[0]=0,E.direction[1]=0,E=a.vectors.items[1],E.vector[0]=A[0],E.vector[1]=A[1],E.texCoords[0]=0,E.texCoords[1]=w,E.direction[0]=0,E.direction[1]=0,E=a.vectors.items[2],q(E.vector,h(C[9],z),e(C[10],h(C[11],d),F)),E.texCoords[0]=0,E.texCoords[1]=p,E.direction[0]=this._distanceAlongCorrection?d[0]:0,E.direction[1]=this._distanceAlongCorrection?d[1]:0,d=a.vectors.items[3],q(d.vector,h(C[12],A),e(C[13],g,F)),d.texCoords[0]=0,d.texCoords[1]=
p,d.direction[0]=this._distanceAlongCorrection?g[0]:0,d.direction[1]=this._distanceAlongCorrection?g[1]:0,g=a.vectors.items[4],g.vector[0]=0,g.vector[1]=0,g.texCoords[0]=0,g.texCoords[1]=0,g.direction[0]=0,g.direction[1]=0,a.vectors.count=5,g=a.lists[t.ENTRY],g.items[0]=2,g.items[1]=4,g.items[2]=0,g.count=3,g=a.lists[t.EXIT],g.items[0]=3,g.items[1]=4,g.items[2]=1,g.count=3,a.capCenter=4):(E=a.vectors.items[0],E.vector[0]=z[0],E.vector[1]=z[1],E.texCoords[0]=0,E.texCoords[1]=w,E.direction[0]=0,E.direction[1]=
0,E=a.vectors.items[1],E.vector[0]=A[0],E.vector[1]=A[1],E.texCoords[0]=0,E.texCoords[1]=w,E.direction[0]=0,E.direction[1]=0,E=a.vectors.items[2],e(E.vector,I,1/H),E.texCoords[0]=0,E.texCoords[1]=p,E.direction[0]=0,E.direction[1]=0,d=a.vectors.items[3],d.vector[0]=0,d.vector[1]=0,d.texCoords[0]=0,d.texCoords[1]=0,d.direction[0]=0,d.direction[1]=0,a.vectors.count=4,g=a.lists[t.ENTRY],g.items[0]=2,g.items[1]=3,g.items[2]=0,g.count=3,g=a.lists[t.EXIT],g.items[0]=2,g.items[1]=3,g.items[2]=1,g.count=3,
a.capCenter=3);y(v,z,A,n,0>r);n=a.vectors.count;z=a.lists[t.CAP];for(A=z.items[0]=0;A<v.count;++A)g=v.items[A],p=a.vectors.items[n+A],p.vector[0]=g[0],p.vector[1]=g[1],p.texCoords[0]=0,p.texCoords[1]=w,p.direction[0]=0,p.direction[1]=0,z.items[A+1]=n+A;z.items[v.count+1]=1;z.count=v.count+2;a.vectors.count=n+v.count;0>r&&(D(a.lists[t.ENTRY]),D(a.lists[t.EXIT]))};a.prototype.unitRoundJoin=function(a,e,d,f){var g=c(e,d),k=0<g?[-1,1]:[1,-1],q=k[0],k=k[1];e=0<g?h(C[0],b(C[1],e)):b(C[2],e);d=0<g?h(C[3],
b(C[4],d)):b(C[5],d);var n=a.vectors.items[0];n.vector[0]=e[0];n.vector[1]=e[1];n.texCoords[0]=0;n.texCoords[1]=k;n.direction[0]=0;n.direction[1]=0;n=a.vectors.items[1];n.vector[0]=d[0];n.vector[1]=d[1];n.texCoords[0]=0;n.texCoords[1]=k;n.direction[0]=0;n.direction[1]=0;n=a.vectors.items[2];h(n.vector,e);n.texCoords[0]=0;n.texCoords[1]=q;n.direction[0]=0;n.direction[1]=0;n=a.vectors.items[3];h(n.vector,d);n.texCoords[0]=0;n.texCoords[1]=q;n.direction[0]=0;n.direction[1]=0;q=a.vectors.items[4];q.vector[0]=
0;q.vector[1]=0;q.texCoords[0]=0;q.texCoords[1]=0;q.direction[0]=0;q.direction[1]=0;a.vectors.count=5;q=a.lists[t.ENTRY];q.items[0]=2;q.items[1]=0;q.count=2;q=a.lists[t.EXIT];q.items[0]=3;q.items[1]=1;q.count=2;a.capCenter=4;y(v,e,d,f,0>g);f=a.vectors.count;e=a.lists[t.CAP];for(q=e.items[0]=0;q<v.count;++q)d=v.items[q],n=a.vectors.items[f+q],n.vector[0]=d[0],n.vector[1]=d[1],n.texCoords[0]=0,n.texCoords[1]=k,n.direction[0]=0,n.direction[1]=0,e.items[q+1]=f+q;e.items[v.count+1]=1;e.count=v.count+2;
a.vectors.count=f+v.count;0>g&&(D(a.lists[t.ENTRY]),D(a.lists[t.EXIT]))};a.prototype.rectJoin=function(a,c,e){c=b(C[0],c);e=b(C[1],e);var d=a.vectors.items[0];d.vector[0]=c[0];d.vector[1]=c[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=0;d=a.vectors.items[1];d.vector[0]=e[0];d.vector[1]=e[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=0;d=a.vectors.items[2];h(d.vector,c);d.texCoords[0]=0;d.texCoords[1]=1;d.direction[0]=0;d.direction[1]=0;c=a.vectors.items[3];
h(c.vector,e);c.texCoords[0]=0;c.texCoords[1]=1;c.direction[0]=0;c.direction[1]=0;a.vectors.count=4;c=a.lists[t.ENTRY];c.items[0]=0;c.items[1]=2;c.count=2;c=a.lists[t.EXIT];c.items[0]=1;c.items[1]=3;c.count=2;a.capCenter=void 0};return a}();a.Tessellator=z})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleLayer":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ./Filter ./StyleDefinition ./StyleProperty".split(" "),function(p,a,
g,n,f,d,k){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,b,e){this.type=a;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=e;switch(a){case 0:this._layoutDefinition=d.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=d.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=d.StyleDefinition.fillLayoutDefinition;
this._paintDefinition=d.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=d.StyleDefinition.lineLayoutDefinition;this._paintDefinition=d.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=d.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=d.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=d.StyleDefinition.circleLayoutDefinition,this._paintDefinition=d.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);
this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=f.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,b,e){var c,d=this._layoutProperties;d&&(d=d[a])&&(c=d.getValue(b,e));a=this._layoutDefinition[a];
void 0===c&&(c=a["default"]);"enum"===a.type&&(c=a.values.indexOf(c));return c};a.prototype.getPaintValue=function(a,b,e){var c,d=this._paintProperties;d&&(d=d[a])&&(c=d.getValue(b,e));a=this._paintDefinition[a];void 0===c&&(c=a["default"]);"enum"===a.type&&(c=a.values.indexOf(c));return c};a.prototype._parseLayout=function(a){var b={},c;for(c in a){var d=this._layoutDefinition[c];d&&(b[c]=new k(c,d,a[c]))}return b};a.prototype._parsePaint=function(a){var b={},c;for(c in a){var d=this._paintDefinition[c];
d&&(b[c]=new k(c,d,a[c]))}return b};return a}();a.StyleLayer=p;n=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}g(b,a);return b}(p);a.BackgroundStyleLayer=n;n=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;b.hasDataDrivenFill=!1;(c=b.getPaintProperty("fill-color"))&&c.isDataDriven&&(b.hasDataDrivenFill=!0);(d=b.getPaintProperty("fill-opacity"))&&d.isDataDriven&&(b.hasDataDrivenFill=!0);b.hasDataDrivenOutline=!1;(d=b.getPaintProperty("fill-outline-color"))&&d.isDataDriven&&
(b.hasDataDrivenOutline=!0);!d&&c&&c.isDataDriven&&(b.hasDataDrivenOutline=!0);return b}g(b,a);return b}(p);a.FillStyleLayer=n;n=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;b.hasDataDrivenLine=!1;(c=b.getPaintProperty("line-color"))&&c.isDataDriven&&(b.hasDataDrivenLine=!0);(c=b.getPaintProperty("line-opacity"))&&c.isDataDriven&&(b.hasDataDrivenLine=!0);(c=b.getPaintProperty("line-width"))&&c.isDataDriven&&(b.hasDataDrivenLine=!0);return b}g(b,a);return b}(p);a.LineStyleLayer=n;n=function(a){function b(b,
c,d){b=a.call(this,b,c,d)||this;b.hasDataDrivenIcon=!1;(c=b.getPaintProperty("icon-color"))&&c.isDataDriven&&(b.hasDataDrivenIcon=!0);(c=b.getPaintProperty("icon-opacity"))&&c.isDataDriven&&(b.hasDataDrivenIcon=!0);(c=b.getLayoutProperty("icon-size"))&&c.isDataDriven&&(b.hasDataDrivenIcon=!0);b.hasDataDrivenText=!1;(c=b.getPaintProperty("text-color"))&&c.isDataDriven&&(b.hasDataDrivenText=!0);(c=b.getPaintProperty("text-opacity"))&&c.isDataDriven&&(b.hasDataDrivenText=!0);(c=b.getLayoutProperty("text-size"))&&
c.isDataDriven&&(b.hasDataDrivenText=!0);return b}g(b,a);return b}(p);a.SymbolStyleLayer=n;p=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}g(b,a);return b}(p);a.CircleStyleLayer=p;p=function(){return function(a,c,d){this.cap=a.getLayoutValue("line-cap",c,d);this.join=a.getLayoutValue("line-join",c,d);this.miterLimit=a.getLayoutValue("line-miter-limit",c,d);this.roundLimit=a.getLayoutValue("line-round-limit",c,d)}}();a.LineLayout=p;p=function(){return function(a,c,d,e){this.allowOverlap=
a.getLayoutValue("icon-allow-overlap",c,e);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",c,e);this.optional=a.getLayoutValue("icon-optional",c,e);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",c,e);this.size=a.getLayoutValue("icon-size",c,e);this.rotate=a.getLayoutValue("icon-rotate",c,e);this.padding=a.getLayoutValue("icon-padding",c,e);this.keepUpright=a.getLayoutValue("icon-keep-upright",c,e);this.offset=a.getLayoutValue("icon-offset",c,e);2===this.rotationAlignment&&
(this.rotationAlignment=d?0:1)}}();a.IconLayout=p;p=function(){return function(a,c,d,e){this.allowOverlap=a.getLayoutValue("text-allow-overlap",c,e);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",c,e);this.optional=a.getLayoutValue("text-optional",c,e);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",c,e);this.fontArray=a.getLayoutValue("text-font",c,e);this.maxWidth=a.getLayoutValue("text-max-width",c,e);this.lineHeight=a.getLayoutValue("text-line-height",c,e);this.letterSpacing=
a.getLayoutValue("text-letter-spacing",c,e);this.justify=a.getLayoutValue("text-justify",c,e);this.anchor=a.getLayoutValue("text-anchor",c,e);this.maxAngle=a.getLayoutValue("text-max-angle",c,e);this.size=a.getLayoutValue("text-size",c,e);this.rotate=a.getLayoutValue("text-rotate",c,e);this.padding=a.getLayoutValue("text-padding",c,e);this.keepUpright=a.getLayoutValue("text-keep-upright",c,e);this.transform=a.getLayoutValue("text-transform",c,e);this.offset=a.getLayoutValue("text-offset",c,e);2===
this.rotationAlignment&&(this.rotationAlignment=d?0:1)}}();a.TextLayout=p})},"esri/layers/vectorTiles/views/vectorTiles/style/Filter":function(){define(["require","exports"],function(p,a){return function(){function a(g,f,d){this._op=g;"$type"===f?(this._val=d instanceof Array?d.map(function(d){return a._types.indexOf(d)}):a._types.indexOf(d),this._op+=11):(this._key=f,this._val=d)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;
case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var f=0,d=this._val;f<d.length;f++){var g=d[f];if(g.filter(a))return!0}return!1;case 10:f=0;for(d=this._val;f<d.length;f++)if(g=d[f],!g.filter(a))return!1;
return!0;case 11:f=0;for(d=this._val;f<d.length;f++)if(g=d[f],g.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type)}};a.createFilter=function(g){if(!g)return new a(0,void 0,!0);var f=g[0];if(1>=g.length)return new a(0,void 0,"any"!==f);switch(f){case "\x3d\x3d":return new a(1,
g[1],g[2]);case "!\x3d":return new a(2,g[1],g[2]);case "\x3e":return new a(4,g[1],g[2]);case "\x3c":return new a(3,g[1],g[2]);case "\x3e\x3d":return new a(6,g[1],g[2]);case "\x3c\x3d":return new a(5,g[1],g[2]);case "in":return new a(7,g[1],g.slice(2));case "!in":return new a(8,g[1],g.slice(2));case "any":return new a(9,void 0,g.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,g.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,g.slice(1).map(a.createFilter.bind(this)));
default:throw Error("invalid operator: "+f);}};a._types=["Unknown","Point","LineString","Polygon"];return a}()})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};
a.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},"line-cap":{type:"enum",values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2},"line-round-limit":{type:"number","default":1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},"symbol-placement":{type:"enum",values:["point","line"],"default":"point"},
"symbol-spacing":{type:"number",minimum:1,"default":250},"symbol-avoid-edges":{type:"boolean","default":!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean","default":!1},"icon-ignore-placement":{type:"boolean","default":!1},"icon-optional":{type:"boolean","default":!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],"default":"auto"},"icon-size":{type:"number",minimum:0,"default":1},"icon-rotate":{type:"number","default":0},"icon-padding":{type:"number",minimum:0,
"default":2},"icon-keep-upright":{type:"boolean","default":!1},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],"default":"auto"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,"default":16},"text-max-width":{type:"number",minimum:0,"default":10},"text-line-height":{type:"number","default":1.2},
"text-letter-spacing":{type:"number","default":0},"text-justify":{type:"enum",values:["left","center","right"],"default":"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),"default":"center"},"text-max-angle":{type:"number",minimum:0,"default":45},"text-rotate":{type:"number","default":0},"text-padding":{type:"number",minimum:0,"default":2},"text-keep-upright":{type:"boolean","default":!0},"text-transform":{type:"enum",
values:["none","uppercase","lowercase"],"default":"none"},"text-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-allow-overlap":{type:"boolean","default":!1},"text-ignore-placement":{type:"boolean","default":!1},"text-optional":{type:"boolean","default":!1}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,"default":1},"background-color":{type:"color",
"default":[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,"default":1},"fill-antialias":{type:"boolean","default":!0},"fill-color":{type:"color","default":[0,0,0,1]},"fill-outline-color":{type:"color","default":[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition=
{"line-opacity":{type:"number",minimum:0,maximum:1,"default":1},"line-color":{type:"color","default":[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"line-width":{type:"number",minimum:0,"default":1},"line-gap-width":{type:"number",minimum:0,"default":0},"line-offset":{type:"number","default":0},"line-blur":{type:"number",minimum:0,"default":0},"line-dasharray":{type:"array",value:"number",
"default":[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,"default":1},"icon-color":{type:"color","default":[0,0,0,1]},"icon-halo-color":{type:"color","default":[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,"default":0},"icon-halo-blur":{type:"number",minimum:0,"default":0},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"text-opacity":{type:"number",
minimum:0,maximum:1,"default":1},"text-color":{type:"color","default":[0,0,0,1]},"text-halo-color":{type:"color","default":[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,"default":0},"text-halo-blur":{type:"number",minimum:0,"default":0},"text-translate":{type:"array",value:"number",length:2,"default":[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,"default":1},"raster-hue-rotate":{type:"number",
"default":0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,"default":0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,"default":1},"raster-saturation":{type:"number",minimum:-1,maximum:1,"default":0},"raster-contrast":{type:"number",minimum:-1,maximum:1,"default":0},"raster-fade-duration":{type:"number",minimum:0,"default":300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,"default":1},"circle-radius":{type:"number",minimum:0,"default":5},
"circle-color":{type:"color","default":[0,0,0,1]},"circle-blur":{type:"number",minimum:0,"default":0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"circle-stroke-width":{type:"number",minimum:0,"default":0},"circle-stroke-color":{type:"color","default":[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,"default":1}};return a}();a.StyleDefinition=g})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleProperty":function(){define(["require",
"exports","../../../Color","../GeometryUtils"],function(p,a,g,n){return function(){function a(d,f,b){this.isDataDriven=!1;switch(f.type){case "number":d=!0;break;case "color":d=!0;b=a._parseColor(b);break;case "array":d="number"===f.value;break;default:d=!1}null==b&&(b=f.default);d&&"interval"===b.type&&(d=!1);var c=b&&b.stops&&0<b.stops.length;if(this.isDataDriven=b&&!!b.property)if(c)switch(b.type){case "identity":this.getValue=this._buildIdentity(b,f);break;case "categorical":this.getValue=this._buildCategorical(b,
f);break;default:this.getValue=d?this._buildInterpolate(b,f):this._buildInterval(b,f)}else this.getValue=this._buildIdentity(b,f);else this.getValue=c?d?this._buildZoomInterpolate(b):this._buildZoomInterval(b):this._buildSimple(b)}a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(d,f){return function(b,c){var h;c&&(h=c.values[d.property],"color"===f.type&&(h=a._parseColor(h)));return void 0!==h?h:void 0!==d.default?d.default:f.default}};a.prototype._buildCategorical=
function(a,f){var b=this;return function(c,d){var e;d&&(e=d.values[a.property]);e=b._categorical(e,a.stops);return void 0!==e?e:void 0!==a.default?a.default:f.default}};a.prototype._buildInterval=function(a,f){var b=this;return function(c,d){var e;d&&(e=d.values[a.property]);return"number"===typeof e?b._interval(e,a.stops):void 0!==a.default?a.default:f.default}};a.prototype._buildInterpolate=function(a,f){var b=this;return function(c,d){var e;d&&(e=d.values[a.property]);return"number"===typeof e?
b._interpolate(e,a.stops,a.base||1):void 0!==a.default?a.default:f.default}};a.prototype._buildZoomInterpolate=function(a){var d=this;return function(b){return d._interpolate(b,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var d=this;return function(b){return d._interval(b,a.stops)}};a.prototype._categorical=function(a,f){for(var b=f.length,c=0;c<b;c++)if(f[c][0]===a)return f[c][1]};a.prototype._interval=function(a,f){for(var b=f.length,c=0,d=0;d<b;d++)if(f[d][0]<=a)c=d;else break;
return f[c][1]};a.prototype._interpolate=function(a,f,b){for(var c,d,e=f.length,g=0;g<e;g++){var k=f[g];if(k[0]<=a)c=k;else{d=k;break}}if(c&&d){g=d[0]-c[0];a-=c[0];b=1===b?a/g:(Math.pow(b,a)-1)/(Math.pow(b,g)-1);if(Array.isArray(c[1])){c=c[1];d=d[1];a=[];for(g=0;g<c.length;g++)a.push(n.interpolate(c[g],d[g],b));return a}return n.interpolate(c[1],d[1],b)}if(c)return c[1];if(d)return d[1]};a._isEmpty=function(a){for(var d in a)if(a.hasOwnProperty(d))return!1;return!0};a._parseColor=function(d){if(Array.isArray(d))return d;
if("string"===typeof d){if(d=new g(d),!this._isEmpty(d))return g.toUnitRGBA(d)}else return d&&d.default&&(d.default=a._parseColor(d.default)),d&&d.stops&&(d.stops=d.stops.map(function(d){return[d[0],a._parseColor(d[1])]})),d};return a}()})},"esri/layers/vectorTiles/Color":function(){define(["./core/declare","./core/accessorSupport/ensureType","dojo/colors"],function(p,a,g){function n(d){return Math.max(0,Math.min(a.ensureInteger(d),255))}var f=p([g],{declaredClass:"esri.Color",toJSON:function(){return[n(this.r),
n(this.g),n(this.b),1<this.a?this.a:n(255*this.a)]},clone:function(){return new f(this.toRgba())}});f.toJSON=function(a){return a&&[n(a.r),n(a.g),n(a.b),1<a.a?a.a:n(255*a.a)]};f.fromJSON=function(a){return a&&new f([a[0],a[1],a[2],a[3]/255])};f.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};f.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};var d="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(p=0;p<d.length;p++)f[d[p]]=g[d[p]];f.named.rebeccapurple=
[102,51,153];return f})},"esri/layers/vectorTiles/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(p,a,g){function n(a,c){a&&!Array.isArray(a)&&"function"!==typeof a&&(c=a,a=null);a=a||[];c=c||{};return f([this].concat(a),c)}function f(a,c){a&&!Array.isArray(a)&&"function"!==typeof a&&(c=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);c=c||{};var b,e;b=0;for(e=d.length;b<e;b++)d[b](a,c);var f=g(a,c);f.createSubclass=n;b=0;for(e=k.length;b<e;b++)k[b](f);return f}
var d=[],k=[];(function(a){a.hasMixin=function(a,b){var c;c=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!c)return!1;if("string"===typeof b)for(var d=c.length-1;0<=d;d--)if(c[d].prototype.declaredClass===b)return!0;return-1!==c.indexOf(b)};a.safeMixin=function(a,b){return g.safeMixin(a,b)};a.before=function(a){d.push(a)};a.after=function(a){k.push(a)}})(f||(f={}));return f})},"dojo/_base/declare":function(){define(["./kernel","../has",
"./lang"],function(p,a,g){function n(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function f(a,b){for(var c=[],e=[{cls:0,refs:[]}],d={},h=1,f=a.length,g=0,k,q,r,t,w;g<f;++g){(k=a[g])?"[object Function]"!=z.call(k)&&n("mixin #"+g+" is not a callable constructor.",b):n("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",b);q=k._meta?k._meta.bases:[k];r=0;for(k=q.length-1;0<=k;--k)t=q[k].prototype,t.hasOwnProperty("declaredClass")||(t.declaredClass="uniqName_"+K++),t=t.declaredClass,
d.hasOwnProperty(t)||(d[t]={count:0,refs:[],cls:q[k]},++h),t=d[t],r&&r!==t&&(t.refs.push(r),++r.count),r=t;++r.count;e[0].refs.push(r)}for(;e.length;){r=e.pop();c.push(r.cls);for(--h;w=r.refs,1==w.length;){r=w[0];if(!r||--r.count){r=0;break}c.push(r.cls);--h}if(r)for(g=0,f=w.length;g<f;++g)r=w[g],--r.count||e.push(r)}h&&n("can't build consistent linearization",b);k=a[0];c[0]=k?k._meta&&k===c[c.length-k._meta.bases.length]?k._meta.bases.length:1:0;return c}function d(a,b,c,e){var d,h,f,g,k,q,r=this._inherited=
this._inherited||{};"string"===typeof a&&(d=a,a=b,b=c,c=e);if("function"===typeof a)f=a,a=b,b=c;else try{f=a.callee}catch(S){if(S instanceof TypeError)n("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw S;}(d=d||f.nom)||n("can't deduce a name to call inherited()",this.declaredClass);c=e=0;g=this.constructor._meta;e=g.bases;q=r.p;if("constructor"!=d){if(r.c!==f&&(q=0,k=e[0],g=k._meta,g.hidden[d]!==f)){(h=g.chains)&&"string"==typeof h[d]&&
n("calling chained method with inherited: "+d,this.declaredClass);do if(g=k._meta,h=k.prototype,g&&(h[d]===f&&h.hasOwnProperty(d)||g.hidden[d]===f))break;while(k=e[++q]);q=k?q:-1}if(k=e[++q])if(h=k.prototype,k._meta&&h.hasOwnProperty(d))c=h[d];else{f=C[d];do if(h=k.prototype,(c=h[d])&&(k._meta?h.hasOwnProperty(d):c!==f))break;while(k=e[++q])}c=k&&c||C[d]}else{if(r.c!==f&&(q=0,(g=e[0]._meta)&&g.ctor!==f)){for((h=g.chains)&&"manual"===h.constructor||n("calling chained constructor with inherited",this.declaredClass);(k=
e[++q])&&(!(g=k._meta)||g.ctor!==f););q=k?q:-1}for(;(k=e[++q])&&!(c=(g=k._meta)?g.ctor:k););c=k&&c}r.c=c;r.p=q;if(c)return!0===b?c:c.apply(this,b||a)}function k(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function b(a,b,c,e){var d=this.getInherited(a,b,c);if(d)return d.apply(this,e||c||b||a)}function c(a){for(var b=this.constructor._meta.bases,c=0,e=b.length;c<e;++c)if(b[c]===
a)return!0;return this instanceof a}function h(b,c){for(var e in c)"constructor"!=e&&c.hasOwnProperty(e)&&(b[e]=c[e]);if(a("bug-for-in-skips-shadowed"))for(var d=g._extraNames,h=d.length;h;)e=d[--h],"constructor"!=e&&c.hasOwnProperty(e)&&(b[e]=c[e])}function e(a){F.safeMixin(this.prototype,a);return this}function q(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return F([this].concat(a),b)}function r(a,b){return function(){var c=arguments,e=c,d=c[0],h,f;f=a.length;
var g;if(!(this instanceof c.callee))return x(c);if(b&&(d&&d.preamble||this.preamble))for(g=Array(a.length),g[0]=c,h=0;;){(d=c[0])&&(d=d.preamble)&&(c=d.apply(this,c)||c);d=a[h].prototype;(d=d.hasOwnProperty("preamble")&&d.preamble)&&(c=d.apply(this,c)||c);if(++h==f)break;g[h]=c}for(h=f-1;0<=h;--h)d=a[h],(d=(f=d._meta)?f.ctor:d)&&d.apply(this,g?g[h]:c);(d=this.postscript)&&d.apply(this,e)}}function y(a,b){return function(){var c=arguments,e=c,d=c[0];if(!(this instanceof c.callee))return x(c);b&&(d&&
(d=d.preamble)&&(e=d.apply(this,e)||e),(d=this.preamble)&&d.apply(this,e));a&&a.apply(this,c);(d=this.postscript)&&d.apply(this,c)}}function D(a){return function(){var b=arguments,c=0,e,d;if(!(this instanceof b.callee))return x(b);for(;e=a[c];++c)if(e=(d=e._meta)?d.ctor:e){e.apply(this,b);break}(e=this.postscript)&&e.apply(this,b)}}function t(a,b,c){return function(){var e,d,h=0,f=1;c&&(h=b.length-1,f=-1);for(;e=b[h];h+=f)d=e._meta,(e=(d?d.hidden:e.prototype)[a])&&e.apply(this,arguments)}}function w(a){v.prototype=
a.prototype;a=new v;v.prototype=null;return a}function x(a){var b=a.callee,c=w(b);b.apply(c,a);return c}function F(b,p,v){"string"!=typeof b&&(v=p,p=b,b="");v=v||{};var x,E,H,K,B,G,J,Q=1,S=p;"[object Array]"==z.call(p)?(G=f(p,b),H=G[0],Q=G.length-H,p=G[Q]):(G=[0],p?"[object Function]"==z.call(p)?(H=p._meta,G=G.concat(H?H.bases:p)):n("base class is not a callable constructor.",b):null!==p&&n("unknown base class. Did you use dojo.require to pull it in?",b));if(p)for(E=Q-1;;--E){x=w(p);if(!E)break;H=
G[E];(H._meta?h:A)(x,H.prototype);K=a("csp-restrictions")?function(){}:new Function;K.superclass=p;K.prototype=x;p=x.constructor=K}else x={};F.safeMixin(x,v);H=v.constructor;H!==C.constructor&&(H.nom="constructor",x.constructor=H);for(E=Q-1;E;--E)(H=G[E]._meta)&&H.chains&&(J=A(J||{},H.chains));x["-chains-"]&&(J=A(J||{},x["-chains-"]));p&&p.prototype&&p.prototype["-chains-"]&&(J=A(J||{},p.prototype["-chains-"]));H=!J||!J.hasOwnProperty("constructor");G[0]=K=J&&"manual"===J.constructor?D(G):1==G.length?
y(v.constructor,H):r(G,H);K._meta={bases:G,hidden:v,chains:J,parents:S,ctor:v.constructor};K.superclass=p&&p.prototype;K.extend=e;K.createSubclass=q;K.prototype=x;x.constructor=K;x.getInherited=k;x.isInstanceOf=c;x.inherited=U;x.__inherited=d;b&&(x.declaredClass=b,g.setObject(b,K));if(J)for(B in J)x[B]&&"string"==typeof J[B]&&"constructor"!=B&&(H=x[B]=t(B,G,"after"===J[B]),H.nom=B);return K}var A=g.mixin,C=Object.prototype,z=C.toString,v,K=0;v=a("csp-restrictions")?function(){}:new Function;var U=
p.config.isDebug?b:d;p.safeMixin=F.safeMixin=function(b,c){var e,d;for(e in c)d=c[e],d===C[e]&&e in C||"constructor"==e||("[object Function]"==z.call(d)&&(d.nom=e),b[e]=d);if(a("bug-for-in-skips-shadowed")&&c)for(var h=g._extraNames,f=h.length;f;)e=h[--f],d=c[e],d===C[e]&&e in C||"constructor"==e||("[object Function]"==z.call(d)&&(d.nom=e),b[e]=d);return b};return p.declare=F})},"esri/layers/vectorTiles/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(p,
a,g){function n(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function f(a){return null==a?a:new Date(a)}function d(a){return null==a?a:!!a}function k(a){return null==a?a:a.toString()}function b(a){return null==a?a:parseFloat(a)}function c(a){return null==a?a:Math.round(parseFloat(a))}function h(a){return a&&a.constructor&&void 0!==a.constructor._meta}function e(a,b){return null!=b&&a&&!n(a,b)}function q(a,b){e(a,b)&&(h(b)?F.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||
"unknown")+"' which is not a subclass of '"+(a&&a.prototype&&a.prototype.declaredClass||"unknown")+"'"):b=new a(b));return b}function r(a){switch(a){case Number:return b;case A:return c;case Boolean:return d;case String:return k;case Date:return f;default:return q.bind(null,a)}}function y(a,b){var c=r(a);return 1===arguments.length?c:c(b)}function D(a,b){return 1===arguments.length?D.bind(null,a):b?Array.isArray(b)?b.map(a):[a(b)]:b}function t(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return t(a,
b-1,c)}):a(c)}function w(a,b,c){if(2===arguments.length)return w.bind(null,a,b);if(!c)return c;c=t(a,b,c);for(var e=b,d=c;0<e&&Array.isArray(d);)e--,d=d[0];if(void 0!==d)for(d=0;d<e;d++)c=[c];return c}function x(a,b){if(2===arguments.length)return x(a).call(null,b);var c={},d=[],f=[],g;for(g in a.typeMap){var k=a.typeMap[g];c[g]=y(k);d.push(k&&k.prototype&&k.prototype.declaredClass||"unknown");f.push(g)}var q="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&
!e(a.base,b))return b;var g=q(b)||a.defaultKeyValue,k=c[g];if(!k)return F.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+d.join("', '")+"'")+", or a plain object that can auto-cast (having .type \x3d "+("'"+f.join("', '")+"'")+")"),null;if(!e(a.typeMap[g],b))return b;if("string"!==typeof a.key||h(b))return k(b);var g={},n;for(n in b)n!==a.key&&(g[n]=b[n]);return k(g)}}Object.defineProperty(a,"__esModule",{value:!0});var F=g.getLogger("esri.core.Accessor");a.isInstanceOf=
n;a.ensureDate=f;a.ensureBoolean=d;a.ensureString=k;a.ensureNumber=b;a.ensureInteger=c;a.isClassedType=h;a.requiresType=e;a.ensureClass=q;a.ensureType=y;a.ensureArrayTyped=D;a.ensureArray=function(a,b){return 1===arguments.length?D(y.bind(null,a)):D(y.bind(null,a),b)};a.ensureNArrayTyped=w;a.ensureNArray=function(a,b,c){return 2===arguments.length?w(y.bind(null,a),b):w(y.bind(null,a),b,c)};a.ensureOneOfType=x;var A=function(){return function(){}}();a.Integer=A;a.default=y})},"esri/layers/vectorTiles/core/Logger":function(){define(["require",
"exports","dojo/has"],function(p,a,g){var n={info:0,warn:1,error:2};p=function(){function a(d){void 0===d&&(d={});this.module=d.module||"";this.writer=d.writer||null;this.level=d.level||null;null!=d.enabled&&(this.enabled=!!d.enabled);a._loggers[this.module]=this;d=this.module.lastIndexOf(".");-1!==d&&(this.parent=a.getLogger(this.module.slice(0,d)))}a.prototype.log=function(a){for(var d=[],b=1;b<arguments.length;b++)d[b-1]=arguments[b];this._isEnabled()&&this._matchLevel(a)&&(b=this._inheritedWriter())&&
b.apply(void 0,[a,this.module].concat(d))};a.prototype.error=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(d){return a.getLogger(this.module+"."+d)};a.getLogger=
function(d){var f=a._loggers[d];f||(f=new a({module:d}));return f};a.prototype._parentWithMember=function(a,f){for(var b=this;b&&null==b[a];)b=b.parent;return b?b[a]:f};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,f){for(var b=[],c=2;c<arguments.length;c++)b[c-2]=arguments[c];console[a].apply(console,["["+f+"]"].concat(b))};a.prototype._matchLevel=function(a){return n[this._parentWithMember("level","error")]<=
n[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a=p.getLogger("esri");g("dojo-debug-messages")?a.level="info":a.level="warn";return p})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(p,a,g,n){var f={};a.setObject("dojo.colors",f);var d=function(a,c,d){0>d&&++d;1<d&&--d;var b=6*d;return 1>b?a+(c-a)*b:1>2*d?c:2>3*d?a+(c-a)*(2/3-d)*6:a};p.colorFromRgb=g.fromRgb=function(a,c){var b=
a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(b){var e=b[2].split(/\s*,\s*/),f=e.length,b=b[1];if("rgb"==b&&3==f||"rgba"==b&&4==f)return b=e[0],"%"==b.charAt(b.length-1)?(b=n.map(e,function(a){return 2.56*parseFloat(a)}),4==f&&(b[3]=e[3]),g.fromArray(b,c)):g.fromArray(e,c);if("hsl"==b&&3==f||"hsla"==b&&4==f){var b=(parseFloat(e[0])%360+360)%360/360,k=parseFloat(e[1])/100,p=parseFloat(e[2])/100,k=.5>=p?p*(k+1):p+k-p*k,p=2*p-k,b=[256*d(p,k,b+1/3),256*d(p,k,b),256*d(p,k,b-1/3),1];4==
f&&(b[3]=e[3]);return g.fromArray(b,c)}}return null};var k=function(a,c,d){a=Number(a);return isNaN(a)?d:a<c?c:a>d?d:a};g.prototype.sanitize=function(){this.r=Math.round(k(this.r,0,255));this.g=Math.round(k(this.g,0,255));this.b=Math.round(k(this.b,0,255));this.a=k(this.a,0,1);return this};f.makeGrey=g.makeGrey=function(a,c){return g.fromArray([a,a,a,c])};a.mixin(g.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,
228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,
140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],
greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,
178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,
255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,
128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return g})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array",
"./config"],function(p,a,g,n){var f=p.Color=function(a){a&&this.setColor(a)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:n.transparentColor||[0,0,0,0]};a.extend(f,{r:255,g:255,b:255,a:1,_set:function(a,f,b,c){this.r=a;this.g=f;this.b=b;this.a=c},setColor:function(d){a.isString(d)?
f.fromString(d,this):a.isArray(d)?f.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+g.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var d=this.r+", "+this.g+", "+this.b;return(a?"rgba("+d+", "+this.a:"rgb("+d)+")"},toString:function(){return this.toCss(!0)}});
f.blendColors=p.blendColors=function(a,k,b,c){var d=c||new f;g.forEach(["r","g","b","a"],function(c){d[c]=a[c]+(k[c]-a[c])*b;"a"!=c&&(d[c]=Math.round(d[c]))});return d.sanitize()};f.fromRgb=p.colorFromRgb=function(a,g){var b=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return b&&f.fromArray(b[1].split(/\s*,\s*/),g)};f.fromHex=p.colorFromHex=function(a,k){var b=k||new f,c=4==a.length?4:8,d=(1<<c)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;g.forEach(["b","g","r"],function(e){var f=a&d;
a>>=c;b[e]=4==c?17*f:f});b.a=1;return b};f.fromArray=p.colorFromArray=function(a,g){var b=g||new f;b._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(b.a)&&(b.a=1);return b.sanitize()};f.fromString=p.colorFromString=function(a,g){var b=f.named[a];return b&&f.fromArray(b,g)||f.fromRgb(a,g)||f.fromHex(a,g)};return f})},"esri/layers/vectorTiles/views/vectorTiles/Placement":function(){define(["require","exports","../2d/engine/webgl/Geometry","./Conflict","./GeometryUtils"],function(p,a,
g,n,f){Object.defineProperty(a,"__esModule",{value:!0});p=function(){return function(a,b,d,f,g){void 0===d&&(d=0);void 0===f&&(f=-1);void 0===g&&(g=c);this.x=a;this.y=b;this.angle=d;this.segment=f;this.minzoom=g}}();a.Anchor=p;var d=function(){return function(a,b,d,g,k,n,t){void 0===k&&(k=!1);void 0===n&&(n=c);void 0===t&&(t=f.C_INFINITY);this.anchor=a;this.labelAngle=b;this.glyphAngle=d;this.page=g;this.upsideDown=k;this.minzoom=n;this.maxzoom=t}}(),k=function(){return function(a,b,c,d,f,g,k,n,p,
F){this.tl=a;this.tr=b;this.bl=c;this.br=d;this.mosaicRect=f;this.labelAngle=g;this.anchor=k;this.minzoom=n;this.maxzoom=p;this.page=F}}();a.PlacedSymbol=k;var b=function(){return function(a,b){this.footprint=a;this.shapes=b}}();a.Placement=b;var c=.5;p=function(){function a(){this.mapAngle=0;this._conflictEngine=new n.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};a.prototype.getIconPlacement=
function(a,d,h,p,D,t,w){var e=h.width/h.pixelRatio,q=h.height/h.pixelRatio;D=t.offset[0]-e/2;var r=t.offset[1]-q/2,e=D+e,q=r+q,y=h.rect,z=h.sdf?17:2,v=D-z,K=r-z,U=v+y.width/h.pixelRatio,Q=K+y.height/h.pixelRatio;h=new g.Point(v,K);z=new g.Point(U,Q);Q=new g.Point(v,Q);K=new g.Point(U,K);U=t.rotate*f.C_DEG_TO_RAD;v=1===t.rotationAlignment;0<=a.segment&&!v&&(U+=a.angle);if(0!==U){var H=Math.cos(U),E=Math.sin(U);h.rotate(H,E);z.rotate(H,E);Q.rotate(H,E);K.rotate(H,E)}H=8*t.padding;E=new g.Point(a.x,
a.y);a=new n.Footprint(this.mapAngle,H,v);a.addBox(E,new n.Box(D,r,e,q),p,U,d,c,f.C_INFINITY);d=new k(h,K,Q,z,y,0,E,c,f.C_INFINITY,0);d=new b(a,[d]);p=c;t.allowOverlap||(p=this._conflictEngine.getMinZoom(d.footprint,p,w,v));a.minzoom=p;return d};a.prototype.getTextPlacement=function(a,h,r,p,D,t,w,x){for(var e=new g.Point(a.x,a.y),q=w.rotate*f.C_DEG_TO_RAD,y=0===w.rotationAlignment,z=w.keepUpright,v=c,K=!y,U=K?0:a.angle,Q=0<=a.segment&&y,H=new n.Footprint(this.mapAngle,8*w.padding,K),E=[],I=!Q,M=Number.POSITIVE_INFINITY,
P=Number.NEGATIVE_INFINITY,L=M,B=P,G=Q?z:y&&z,J,R=0;R<p.length;R++){var S=p[R],T=S.glyphMosaicItem;if(T&&!T.rect.isEmpty){var Y=T.rect,Z=T.metrics,V=T.page;I&&(J&&J!==S.y&&(H.addBox(e,new n.Box(M,L,P,B),D,q,h,c,f.C_INFINITY),M=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY,L=M,B=P),J=S.y);var fa=[];if(Q){if(T=(r.x+S.x+Z.left-4+.5*T.metrics.width)*D,v=this._placeGlyph(a,v,T,t,a.segment,1,V,fa),z&&(v=this._placeGlyph(a,v,T,t,a.segment,-1,V,fa)),2<=v)break}else fa.push(new d(e,U,U,V)),y&&z&&fa.push(new d(e,
U+f.C_PI,U+f.C_PI,V,!0));for(var V=S.x+r.x+Z.left,S=S.y+r.y-Z.top,T=V+Z.width,Z=S+Z.height,ga=new g.Point(V-4,S-4),ea=new g.Point(ga.x+Y.width,ga.y+Y.height),da=new g.Point(ga.x,ea.y),ha=new g.Point(ea.x,ga.y),X=0;X<fa.length;X++){var aa=fa[X],ka=ga.clone(),la=da.clone(),ma=ha.clone(),na=ea.clone(),ja=S,oa=Z,ba=aa.glyphAngle+q;if(0!==ba){var N=Math.cos(ba),W=Math.sin(ba);ka.rotate(N,W);na.rotate(N,W);la.rotate(N,W);ma.rotate(N,W)}E.push(new k(ka,ma,la,na,Y,aa.labelAngle,aa.anchor,aa.minzoom,aa.maxzoom,
aa.page));if(!G||this._legible(aa.labelAngle))I?(V<M&&(M=V),ja<L&&(L=ja),T>P&&(P=T),oa>B&&(B=oa)):2>aa.minzoom&&H.addBox(aa.anchor,new n.Box(V,ja,T,oa),D,ba,h,aa.minzoom,aa.maxzoom)}}}if(2<=v)return null;I&&H.addBox(e,new n.Box(M,L,P,B),D,q,h,c,f.C_INFINITY);a=new b(H,E);w.allowOverlap||(v=this._conflictEngine.getMinZoom(a.footprint,v,x,K));H.minzoom=v;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};a.prototype._legible=function(a){a=f.radToByte(a);return 65>a||193<=a};
a.prototype._placeGlyph=function(a,b,c,h,k,n,w,p){var e=0>n?f.positiveMod(a.angle+f.C_PI,f.C_2PI):a.angle,q=this._legible(e),r=0;0>c&&(n*=-1,c*=-1,r=f.C_PI);0<n&&++k;a=new g.Point(a.x,a.y);var t=h[k],D=f.C_INFINITY;if(h.length<=k)return D;for(;;){var y=t.x-a.x,x=t.y-a.y,Q=Math.sqrt(y*y+x*x),H=Math.max(c/Q,b),y=f.positiveMod(Math.atan2(x/Q,y/Q)+r,f.C_2PI);p.push(new d(a,e,y,w,q,H,D));if(H<=b)return H;a=t.clone();do{k+=n;if(h.length<=k||0>k)return H;t=h[k]}while(a.isEqual(t));D=t.x-a.x;y=t.y-a.y;x=
Math.sqrt(D*D+y*y);D*=Q/x;y*=Q/x;a.x-=D;a.y-=y;D=H}};return a}();a.PlacementEngine=p})},"esri/layers/vectorTiles/views/vectorTiles/Conflict":function(){define(["require","exports","../2d/engine/webgl/Geometry","./GeometryUtils"],function(p,a,g,n){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,c,d,e){this.left=a;this.top=c;this.right=d;this.bottom=e}a.prototype.clone=function(){return new a(this.left,this.top,this.right,this.bottom)};a.prototype.move=function(a,c){this.left+=
a;this.top+=c;this.right+=a;this.bottom+=c};a.prototype.rotate=function(a,c){var b=this.left,e=this.right,d=this.top,f=this.bottom,g=b*a-d*c,k=b*c+d*a,n=e*a-d*c,d=e*c+d*a,w=b*a-f*c,b=b*c+f*a,p=e*a-f*c,e=e*c+f*a;this.left=Math.min(g,n,w,p);this.top=Math.min(k,d,b,e);this.right=Math.max(g,n,w,p);this.bottom=Math.max(k,d,b,e)};a.overlaps=function(a,c){return a.right>c.left&&a.left<c.right&&a.bottom>c.top&&a.top<c.bottom};return a}();a.Box=p;var f=function(){function a(a,c,d,e){this.anchor=a;this.corners=
c;this.minzoom=d;this.maxzoom=e}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=f;p=function(){function a(a,c,f){this.obstacles=[];this.mapAngle=a;this.padding=c;this.isScreenAligned=f;this.minzoom=d}a.prototype.addBox=function(a,c,d,e,k,n,p){var b=c.left*d-this.padding,h=c.top*d-this.padding,q=c.right*d+this.padding;
c=c.bottom*d+this.padding;b=[new g.Point(b,h),new g.Point(q,h),new g.Point(q,c),new g.Point(b,c)];0!==this.mapAngle&&(h=Math.cos(this.mapAngle),q=Math.sin(this.mapAngle),a=a.clone(),a.rotate(h,q));this.isScreenAligned||(e+=this.mapAngle);if(0!==e){h=Math.cos(e);q=Math.sin(e);b[0].rotate(h,q);b[1].rotate(h,q);b[2].rotate(h,q);b[3].rotate(h,q);e=0;for(h=1;4>h;h++)b[h].x<b[e].x?e=h:b[h].x===b[e].x&&b[h].y<b[e].y&&(e=h);if(e){q=[];for(h=0;4>h;h++)q.push(b[(h+e)%4]);b=q}}if(k)for(e=0,h=b;e<h.length;e++)h[e].move(k[0],
k[1]);this.obstacles.push(new f(a,b,n,p))};return a}();a.Footprint=p;var d=.5;p=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){};a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(b){var c=this._grid,d=0;for(b=b.obstacles;d<b.length;d++)for(var e=b[d],f=e.anchor,g=a._gridClamp(Math.min(e.left()+f.x,f.x)),k=a._gridClamp(Math.max(e.right()+f.x,f.x)),n=a._gridClamp(Math.min(e.top()+f.y,f.y)),f=a._gridClamp(Math.max(e.bottom()+f.y,f.y));n<=f;n++)for(var t=g;t<=
k;t++){var p=c[16*n+t];p||(p=c[16*n+t]=[]);p.push(e)}};a.prototype.getMinZoom=function(b,c,d,e){if(0===b.obstacles.length)return n.C_INFINITY;d=this._grid;e=0;for(b=b.obstacles;e<b.length;e++)for(var f=b[e],h=f.anchor,g=a._gridClamp(Math.min(f.left()+h.x,h.x)),k=a._gridClamp(Math.max(f.right()+h.x,h.x)),t=a._gridClamp(Math.min(f.top()+h.y,h.y)),h=a._gridClamp(Math.max(f.bottom()+h.y,h.y));t<=h;t++)for(var p=g;p<=k;p++){var x=d[16*t+p];if(x)for(var F=0;F<x.length;F++){var A=x[F];if(!(f.minzoom>=A.maxzoom||
A.minzoom>=f.maxzoom)&&(c=a._calcPlacementZoom(f,A,c),2<=c))return n.C_INFINITY}}return 2>c?c:n.C_INFINITY};a._gridClamp=function(a){return n.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(b,c,d){var e=c.anchor.x-b.anchor.x;if(0===e&&(b.right()<c.left()||c.right()<b.left()))return d;var f=c.anchor.y-b.anchor.y;if(0===f&&(b.bottom()<c.top()||c.bottom()<b.top()))return d;var h=n.C_INFINITY;if(0!==e){var g=(0<e?b.right()-c.left():b.left()-c.right())/e;g<h&&(h=g);e=0<e?a._calcExtZoomX(b,c,g):a._calcExtZoomX(c,
b,g);e<h&&(h=e)}0!==f&&(e=(0<f?b.bottom()-c.top():b.top()-c.bottom())/f,e<h&&(h=e),f=0<f?a._calcExtZoomY(b,c,e):a._calcExtZoomY(c,b,e),f<h&&(h=f));if(h<b.minzoom||h<c.minzoom)return d;h=Math.min(h,b.maxzoom,c.maxzoom);h<d&&(h=d);return h};a._calcExtZoomX=function(a,c,d){var b,f,h;if(a.anchor.y+a.corners[2].y/d<c.anchor.y+c.corners[0].y/d){b=a.corners[2].x-a.corners[3].x;h=a.corners[2].y-a.corners[3].y;var g=c.corners[1].x-c.corners[0].x;f=c.corners[1].y-c.corners[0].y;0<=b*f-h*g?a.anchor.y+a.corners[3].y/
d<c.anchor.y+c.corners[0].y/d?(d=a.corners[3],b=c.corners[0],f=c.corners[1],h=1):(d=c.corners[0],b=a.corners[3],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/d>c.anchor.y+c.corners[1].y/d?(d=a.corners[2],b=c.corners[0],f=c.corners[1],h=1):(d=c.corners[1],b=a.corners[3],f=a.corners[2],h=-1)}else b=a.corners[2].x-a.corners[1].x,h=a.corners[2].y-a.corners[1].y,g=c.corners[3].x-c.corners[0].x,f=c.corners[3].y-c.corners[0].y,0>b*f-h*g?a.anchor.y+a.corners[1].y/d>c.anchor.y+c.corners[0].y/d?(d=a.corners[1],
b=c.corners[0],f=c.corners[3],h=1):(d=c.corners[0],b=a.corners[1],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/d<c.anchor.y+c.corners[3].y/d?(d=a.corners[2],b=c.corners[0],f=c.corners[3],h=1):(d=c.corners[3],b=a.corners[1],f=a.corners[2],h=-1);g=f.x-b.x;f=f.y-b.y;return h*((d.y-b.y)*g-(d.x-b.x)*f)/((a.anchor.x-c.anchor.x)*f-(a.anchor.y-c.anchor.y)*g)};a._calcExtZoomY=function(a,c,d){var b,f,h;if(a.anchor.x+a.corners[3].x/d<c.anchor.x+c.corners[1].x/d){b=a.corners[3].x-a.corners[2].x;h=a.corners[3].y-
a.corners[2].y;var g=c.corners[0].x-c.corners[1].x;f=c.corners[0].y-c.corners[1].y;0>b*f-h*g?a.anchor.x+a.corners[2].x/d<c.anchor.x+c.corners[1].x/d?(d=a.corners[2],b=c.corners[1],f=c.corners[0],h=1):(d=c.corners[1],b=a.corners[2],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/d>c.anchor.x+c.corners[0].x/d?(d=a.corners[3],b=c.corners[1],f=c.corners[0],h=1):(d=c.corners[0],b=a.corners[2],f=a.corners[3],h=-1)}else b=a.corners[3].x-a.corners[0].x,h=a.corners[3].y-a.corners[0].y,g=c.corners[2].x-c.corners[1].x,
f=c.corners[2].y-c.corners[1].y,0<b*f-h*g?a.anchor.x+a.corners[0].x/d>c.anchor.x+c.corners[1].x/d?(d=a.corners[0],b=c.corners[1],f=c.corners[2],h=1):(d=c.corners[1],b=a.corners[0],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/d<c.anchor.x+c.corners[2].x/d?(d=a.corners[3],b=c.corners[1],f=c.corners[2],h=1):(d=c.corners[2],b=a.corners[0],f=a.corners[3],h=-1);g=f.x-b.x;f=f.y-b.y;return h*((d.y-b.y)*g-(d.x-b.x)*f)/((a.anchor.x-c.anchor.x)*f-(a.anchor.y-c.anchor.y)*g)};return a}();a.ConflictEngine=p})},
"esri/layers/vectorTiles/views/vectorTiles/SymbolBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper dojox/string/BidiEngine ../2d/engine/webgl/Geometry ../2d/engine/webgl/TextShaping ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer".split(" "),function(p,a,g,n,f,d,k,b,c,h,e){function q(a,b){if(a.iconMosaicItem&&b.iconMosaicItem){if(a.iconMosaicItem.page!==b.iconMosaicItem.page)return a.iconMosaicItem.page<b.iconMosaicItem.page?
-1:1}else{if(a.iconMosaicItem&&!b.iconMosaicItem)return 1;if(!a.iconMosaicItem&&b.iconMosaicItem)return-1}return 0}(function(){return function(){}})();return function(a){function b(b,c,d,e,f,h,g,k){c=a.call(this,b,c)||this;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._sdfMarkers=!1;if(b.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");if(b.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");c._iconVertexBuffer=d;
c._iconIndexBuffer=e;c._textVertexBuffer=f;c._textIndexBuffer=h;c._placementEngine=g;c._workerTileHandler=k;return c}g(b,a);Object.defineProperty(b.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});b.prototype.copy=
function(a,c,d,e,f){a=new b(this.layer,this.zoom,a,c,d,e,f,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=c.index;a._textIndexStart=e.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};b.prototype.getResources=
function(a,c,d){var e=this.layer,f=this.zoom,h=e.hasDataDrivenIcon,g=e.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=e.getLayoutProperty("icon-image"),n=e.getLayoutProperty("text-field"),q=e.getLayoutValue("text-font",f),t=e.getLayoutValue("text-transform",f),r=[],p=0,w=this._features;p<w.length;p++){var D=w[p],y=D.getGeometry(a);if(y&&0!==y.length){var P=void 0;k&&(P=e.getLayoutValue("icon-image",f,D),k.isDataDriven||(P=this._replaceKeys(P,D.values)),P&&c.add(P));var L=void 0,B=!1;
if(n&&(L=e.getLayoutValue("text-field",f,D),n.isDataDriven||(L=this._replaceKeys(L,D.values)),L)){switch(t){case 2:L=L.toLowerCase();break;case 1:L=L.toUpperCase()}b._bidiEngine.hasBidiChar(L)&&(B=void 0,B="rtl"===b._bidiEngine.checkContextual(L)?"IDNNN":"ICNNN",L=b._bidiEngine.bidiTransform(L,B,"VLYSN"),B=!0);var G=L.length;if(0<G)for(var J=0,R=q;J<R.length;J++){var S=R[J],T=d[S];T||(T=d[S]=new Set);for(S=0;S<G;S++){var Y=L.charCodeAt(S);T.add(Y)}}}if(P||L)G=e.getLayoutValue("icon-size",f,D),J=e.getLayoutValue("text-size",
f,D),D={sprite:P,label:L,rtl:B,geometry:y,iconSize:G,iconRotate:e.getLayoutValue("icon-rotate",f,D),ddIconValues:h?{color:e.getPaintValue("icon-color",f,D),opacity:e.getPaintValue("icon-opacity",f,D),size:G}:null,textSize:J,textRotate:e.getLayoutValue("text-rotate",f,D),ddTextValues:g?{color:e.getPaintValue("text-color",f,D),opacity:e.getPaintValue("text-opacity",f,D),size:J}:null},r.push(D)}}this._symbolFeatures=r};b.prototype.processFeatures=function(a,d){a&&a.setExtent(this.layerExtent);var f=
this.layer,g=this.zoom,n=this._isLinePlacement=1===f.getLayoutValue("symbol-placement",g),t=this._avoidEdges=f.getLayoutValue("symbol-avoid-edges",g)&&!n,r=8*f.getLayoutValue("symbol-spacing",g),p=f.getLayoutProperty("icon-image"),D=f.getLayoutProperty("text-field"),y=this._workerTileHandler,U,Q;p&&(this._iconLayout=new e.IconLayout(f,g,n),U=y.getSpriteItems(),Q=this._getTranslate(!0));var H,E,I;if(D){H=this._textLayout=new e.TextLayout(f,g,n);this._fontArray=H.fontArray;I=.5;switch(H.anchor){case 5:case 1:case 7:I=
0;break;case 6:case 2:case 8:I=1}E=.5;switch(H.anchor){case 5:case 3:case 6:E=0;break;case 7:case 4:case 8:E=1}f=.5;switch(H.justify){case 0:f=0;break;case 2:f=1}var g=24*H.letterSpacing,p=n?0:24*H.maxWidth,D=24*H.lineHeight,M=[24*H.offset[0],24*H.offset[1]];H=this._fontArray.map(function(a){return y.getGlyphItems(a)});E=new k(H,p,D,g,M,I,E,f);I=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=
0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=f=[];g=this._textLayout;p=1;g&&g.size&&(p=g.size/24);D=g?g.maxAngle*c.C_DEG_TO_RAD:0;H=g?8*g.size:0;for(var M=0,P=this._symbolFeatures;M<P.length;M++){var L=P[M],B=void 0;L.sprite&&(B=U[L.sprite])&&B.sdf&&(this._sdfMarkers=!0);var G=void 0,J=L.label,R=0;if(J&&(G=E.getShaping(J,L.rtl))&&0<G.length){for(var R=1E30,J=-1E30,S=0,T=G;S<T.length;S++)var Y=T[S],R=Math.min(R,Y.x),J=Math.max(J,Y.x);R=(J-R+48)*p*8}J=0;for(S=L.geometry;J<
S.length;J++){var T=S[J],Z=void 0;n?(G&&0<G.length&&g&&g.size&&b._smoothVertices(T,8*g.size*(2+Math.min(2,4*Math.abs(g.offset[1])))),Z=b._findAnchors(T,r,R)):Z=[new h.Anchor(T[0].x,T[0].y)];for(Y=0;Y<Z.length;Y++){var V=Z[Y];0>V.x||4096<V.x||0>V.y||4096<V.y||n&&0<R&&0===g.rotationAlignment&&!b._honorsTextMaxAngle(T,V,R,D,H)||f.push({shaping:G,line:T,iconMosaicItem:B,anchor:V,iconSize:L.iconSize,iconRotate:L.iconRotate,ddIconValues:L.ddIconValues,textSize:L.textSize,textRotate:L.textRotate,ddTextValues:L.ddTextValues})}}}f.sort(q);
for(n=0;n<f.length;n++)this._processFeature(f[n],Q,I,t);this._addPlacedGlyphs()};b.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this._avoidEdges,b=this.layer,c;b.getLayoutProperty("icon-image")&&(c=this._getTranslate(!0));var d;b.getLayoutProperty("text-field")&&(d=this._getTranslate(!1));for(var b=0,e=this._symbolInstances;b<
e.length;b++)this._processFeature(e[b],c,d,a);this._addPlacedGlyphs()};b.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};b.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,
function(a,c){return c in b?b[c]:""})};b.prototype._processFeature=function(a,b,e,f){var h=a.line,g=a.iconMosaicItem,k=a.shaping,n=a.anchor,q=this._iconLayout,r=q&&!!g,t=!0,p=1;r&&(q.size=a.iconSize,q.rotate=a.iconRotate,p=8*q.size,t=q.optional||!g);var w=this._textLayout,D=w&&k&&0<k.length,y;y=1;var x=!0;D&&(w.size=a.textSize,w.rotate=a.textRotate,y=w.size/24,y*=8,x=w.optional||!k||0===k.length);var P=new d.Point(0,-17),L;if(r){L=this._placementEngine.getIconPlacement(n,b,g,p,h,q,f);if(L.footprint.minzoom===
c.C_INFINITY&&!t)return;n.minzoom>L.footprint.minzoom&&(L.footprint.minzoom=n.minzoom)}var B;if(D&&(B=this._placementEngine.getTextPlacement(n,e,P,k,y,h,w,f))){if(B.footprint.minzoom===c.C_INFINITY&&!x)return;n.minzoom>B.footprint.minzoom&&(B.footprint.minzoom=n.minzoom)}if(!x&&!t||!t&&B&&B.footprint.minzoom!==c.C_INFINITY||!x&&L&&L.footprint.minzoom!==c.C_INFINITY)b=Math.max(L.footprint.minzoom,B.footprint.minzoom),L.footprint.minzoom=b,B.footprint.minzoom=b;B&&B.footprint.minzoom!==c.C_INFINITY&&
(w.ignorePlacement||this._placementEngine.add(B),this._storePlacedGlyphs(B.shapes,B.footprint.minzoom,this.zoom,a.ddTextValues));L&&L.footprint.minzoom!==c.C_INFINITY&&(q.ignorePlacement||this._placementEngine.add(L),this._addPlacedIcons(L.shapes,L.footprint.minzoom,this.zoom,g.page,a.ddIconValues))};b.prototype._addPlacedIcons=function(a,b,d,e,f){b=Math.max(d+c.log2(b),0);for(var h=this._iconVertexBuffer,g=this._iconIndexBuffer,k=0;k<a.length;k++){var n=a[k],q=Math.max(d+c.log2(n.minzoom),b),r=Math.min(d+
c.log2(n.maxzoom),25);if(!(r<=q)){var t=n.tl,p=n.tr,w=n.bl,D=n.br,y=n.mosaicRect,x=n.labelAngle,n=n.anchor,F=h.index,B=y.x,G=y.y,J=B+y.width,y=G+y.height;h.add(n.x,n.y,t.x,t.y,B,G,x,q,r,b,f);h.add(n.x,n.y,p.x,p.y,J,G,x,q,r,b,f);h.add(n.x,n.y,w.x,w.y,B,y,x,q,r,b,f);h.add(n.x,n.y,D.x,D.y,J,y,x,q,r,b,f);g.add(F+0,F+1,F+2);g.add(F+1,F+2,F+3);this._markerMap.has(e)?this._markerMap.get(e)[1]+=6:this._markerMap.set(e,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};b.prototype._addPlacedGlyphs=
function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(d,e){for(var f=0;f<d.length;f++){var h=d[f],g=b.index;b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.tl[0],h.tl[1],h.xmin,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.tr[0],h.tr[1],h.xmax,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.bl[0],h.bl[1],h.xmin,h.ymax,h.labelAngle,
h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.br[0],h.br[1],h.xmax,h.ymax,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);c.add(g+0,g+1,g+2);c.add(g+1,g+2,g+3);a._glyphMap.has(e)?a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};b.prototype._storePlacedGlyphs=function(a,b,d,e){b=Math.max(d+c.log2(b),0);for(var f=0;f<a.length;f++){var h=a[f],g=Math.max(d+
c.log2(h.minzoom),b),k=Math.min(d+c.log2(h.maxzoom),25);if(!(k<=g)){var n=h.tl,q=h.tr,r=h.bl,p=h.br,t=h.labelAngle,w=h.anchor,y=h.mosaicRect;this._glyphBufferDataStorage.has(h.page)||this._glyphBufferDataStorage.set(h.page,[]);this._glyphBufferDataStorage.get(h.page).push({glyphAnchor:[w.x,w.y],tl:[n.x,n.y],tr:[q.x,q.y],bl:[r.x,r.y],br:[p.x,p.y],xmin:y.x,ymin:y.y,xmax:y.x+y.width,ymax:y.y+y.height,labelAngle:t,minLod:g,maxLod:k,placementLod:b,ddValues:e})}}};b._findAnchors=function(a,b,e){b+=e;for(var f=
0,g=a.length-1,k=0;k<g;k++)f+=d.Point.distance(a[k],a[k+1]);k=.5*(e||b);if(f<=k)return[];e=k/f;b=f/Math.max(Math.round(f/b),1);for(var f=0,g=-b/2,n=[],q=a.length-1,k=0;k<q;k++){for(var r=a[k],p=a[k+1],t=p.x-r.x,w=p.y-r.y,y=Math.sqrt(t*t+w*w),D=void 0;g+b<f+y;){var g=g+b,I=(g-f)/y,M=c.interpolate(r.x,p.x,I),I=c.interpolate(r.y,p.y,I);void 0===D&&(D=Math.atan2(w,t));n.push(new h.Anchor(M,I,D,k,e))}f+=y}return n};b.deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-
a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};b._honorsTextMaxAngle=function(a,b,c,e,f){var h=0;c/=2;for(var g=new d.Point(b.x,b.y),k=b.segment+1;h>-c;){--k;if(0>k)return!1;h-=d.Point.distance(a[k],g);g=a[k]}h+=d.Point.distance(a[k],a[k+1]);b=[];for(var g=0,n=a.length;h<c;){var q=a[k],r=void 0;do{++k;if(k===n)return!1;r=a[k]}while(r.isEqual(q));var p=k,t=void 0;do{++p;if(p===n)return!1;t=a[p]}while(t.isEqual(r));q=this.deviation(q,r,t);b.push({deviation:q,distToAnchor:h});for(g+=q;h-b[0].distToAnchor>f;)g-=
b.shift().deviation;if(Math.abs(g)>e)return!1;h+=d.Point.distance(r,t)}return!0};b._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var e=[],f=0;e.push(0);for(var h=1;h<c;h++)f+=d.Point.distance(a[h],a[h-1]),e.push(f);b=Math.min(b,.2*f);f=[];f.push(a[0].x);f.push(a[0].y);var g=a[c-1].x,k=a[c-1].y,h=d.Point.sub(a[0],a[1]);h.normalize();a[0].x+=b*h.x;a[0].y+=b*h.y;h.assignSub(a[c-1],a[c-2]);h.normalize();a[c-1].x+=b*h.x;a[c-1].y+=b*h.y;for(h=1;h<c;h++)e[h]+=b;e[c-1]+=b;for(var n=
.5*b,h=1;h<c-1;h++){for(var q=0,r=0,p=0,t=h-1;0<=t&&!(e[t+1]<e[h]-n);t--){var y=n+e[t+1]-e[h],D=e[t+1]-e[t],M=e[h]-e[t]<n?1:y/D;if(1E-6>Math.abs(M))break;var P=M*M,L=M*y-.5*P*D,B=M*D/b,G=a[t+1],J=a[t].x-G.x,R=a[t].y-G.y,q=q+B/L*(G.x*M*y+.5*P*(y*J-D*G.x)-P*M*D*J/3),r=r+B/L*(G.y*M*y+.5*P*(y*R-D*G.y)-P*M*D*R/3),p=p+B}for(t=h+1;t<c&&!(e[t-1]>e[h]+n);t++){y=n-e[t-1]+e[h];D=e[t]-e[t-1];M=e[t]-e[h]<n?1:y/D;if(1E-6>Math.abs(M))break;P=M*M;L=M*y-.5*P*D;B=M*D/b;G=a[t-1];J=a[t].x-G.x;R=a[t].y-G.y;q+=B/L*(G.x*
M*y+.5*P*(y*J-D*G.x)-P*M*D*J/3);r+=B/L*(G.y*M*y+.5*P*(y*R-D*G.y)-P*M*D*R/3);p+=B}f.push(q/p);f.push(r/p)}f.push(g);f.push(k);for(t=h=0;h<c;h++)a[h].x=f[t++],a[h].y=f[t++]}}};b._bidiEngine=new f;return b}(b)})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Stateful"],function(p,a,g){function n(a,c,e,h,g){var k=a;void 0===c&&(c=g.defInFormat);void 0===e&&(e=g.defOutFormat);void 0===h&&(h=g.defSwap);if(c!==e){var l,m=c.substring(0,1);l=c.substring(1,4);var q=
e.substring(0,1),r=e.substring(1,4);"C"===l.charAt(0)&&(l=f(k),l="ltr"===l||"rtl"===l?l.toUpperCase():"L"===c.charAt(2)?"LTR":"RTL",c=m+l);"C"===r.charAt(0)&&(l=f(k),"rtl"===l?r="RTL":"ltr"===l?(k=k.split(""),k.reverse(),l=f(k.join("")),r=l.toUpperCase()):r="L"===e.charAt(2)?"LTR":"RTL",e=q+r)}if(c===e)return a;q=c.substring(0,1);k=c.substring(1,4);m=e.substring(0,1);r=e.substring(1,4);g.inFormat=c;g.outFormat=e;g.swap=h;if("L"===q&&"VLTR"===e){if("LTR"===k)return g.dir=K,d(a,g);if("RTL"===k)return g.dir=
U,d(a,g)}if("V"===q&&"V"===m)return g.dir="RTL"===k?U:K,b(a,g);if("L"===q&&"VRTL"===e)return g.dir="LTR"===k?K:U,a=d(a,g),b(a);if("VLTR"===c&&"LLTR"===e)return g.dir=K,d(a,g);if("V"===q&&"L"===m&&k!==r)return a=b(a),"RTL"===k?n(a,"LLTR","VLTR",h,g):n(a,"LRTL","VRTL",h,g);if("VRTL"===c&&"LRTL"===e)return n(a,"LRTL","VRTL",h,g);if("L"===q&&"L"===m)return c=g.swap,g.swap=c.substr(0,1)+"N","RTL"===k?(g.dir=U,a=d(a,g),g.swap="N"+c.substr(1,2),g.dir=K,a=d(a,g)):(g.dir=K,a=d(a,g),g.swap="N"+c.substr(1,2),
a=n(a,"VLTR","LRTL",g.swap,g)),a}function f(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function d(a,b){var c=a.split(""),d=[];k(c,d,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var f=0;f<c.length;f++)if(1===d[f]){var h=f,g;b:{g=c[f];for(var l=void 0,m=0,n=E.length-1;m<=n;)if(l=Math.floor((m+n)/2),g<E[l][0])n=l-1;else if(g>E[l][0])m=l+1;else{g=E[l][1];break b}}c[h]=g}e(2,c,d,b);e(1,c,d,b);A=d;return c.join("")}
function k(a,b,c){var e=a.length,d=c.dir?fa:V,f=null,h=null,g=null,f=0,h=h=null,k=-1,l=h=null,m=[],n=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(h=0;h<e;h++){var l=h,g=a[h].charCodeAt(0),r=qa[g>>8];m[l]=r<ba?r:ra[r-ba][g&255]}for(l=0;l<e;l++){n[l]=h=q(a,m,n,l,c);f=d[f][h];h=f&240;f&=15;b[l]=g=d[f][z];if(0<h){if(16===h)for(h=k;h<l;h++)b[h]=1;k=-1}if(h=d[f][v])-1===k&&(k=l);else if(-1<k){for(h=k;h<l;h++)b[h]=g;k=-1}m[l]===aa&&(b[l]=0);c.hiLevel|=g}if(c.hasUbatS)for(a=
0;a<e;a++)if(m[a]===ka)for(b[a]=c.dir,d=a-1;0<=d;d--)if(m[d]===ma)b[d]=c.dir;else break}function b(a,b){var c=a.split("");if(b){var e=[];k(c,e,b);A=e}c.reverse();x.reverse();return c.join("")}function c(a){for(var b=0;b<Y.length;b++)if(a>=Y[b]&&a<=Z[b])return!0;return!1}function h(a,b,e,d){for(;b*e<d&&y(a[b]);)b+=e;return b*e<d&&c(a[b])?!0:!1}function e(a,b,c,e){if(!(e.hiLevel<a))if(1!==a||e.dir!==U||e.hasUbatB){e=b.length;for(var d=0,f,h,g;d<e;){if(c[d]>=a){for(f=d+1;f<e&&c[f]>=a;)f++;for(h=f-1;d<
h;d++,h--)g=b[d],b[d]=b[h],b[h]=g,g=x[d],x[d]=x[h],x[h]=g;d=f}d++}}else b.reverse(),x.reverse()}function q(a,b,c,e,d){return{UBAT_L:function(){d.lastArabic=!1;return ga},UBAT_R:function(){d.lastArabic=!1;return ea},UBAT_ON:function(){return X},UBAT_AN:function(){return ha},UBAT_EN:function(){return d.lastArabic?ha:da},UBAT_AL:function(){d.lastArabic=!0;d.hasUbatAl=!0;return ea},UBAT_WS:function(){return X},UBAT_CS:function(){var a,f;if(1>e||e+1>=b.length||(a=c[e-1])!==da&&a!==ha||(f=b[e+1])!==da&&
f!==ha)return X;d.lastArabic&&(f=ha);return f===a?f:X},UBAT_ES:function(){return(0<e?c[e-1]:aa)===da&&e+1<b.length&&b[e+1]===da?da:X},UBAT_ET:function(){if(0<e&&c[e-1]===da)return da;if(d.lastArabic)return X;for(var a=e+1,f=b.length;a<f&&b[a]===na;)a++;return a<f&&b[a]===da?da:X},UBAT_NSM:function(){if("VLTR"===d.inFormat){for(var f=b.length,h=e+1;h<f&&b[h]===ja;)h++;if(h<f&&(f=a[e],h=b[h],(1425<=f&&2303>=f||64286===f)&&(h===ea||h===la)))return ea}return 1>e||b[e-1]===aa?X:c[e-1]},UBAT_B:function(){d.lastArabic=
!0;d.hasUbatB=!0;return d.dir},UBAT_S:function(){d.hasUbatS=!0;return X},UBAT_LRE:function(){d.lastArabic=!1;return X},UBAT_RLE:function(){d.lastArabic=!1;return X},UBAT_LRO:function(){d.lastArabic=!1;return X},UBAT_RLO:function(){d.lastArabic=!1;return X},UBAT_PDF:function(){d.lastArabic=!1;return X},UBAT_BN:function(){return X}}[oa[b[e]]]()}function r(a,b){for(var c=0;c<L.length;c++)if(a===L[c])return b[c];return a}function y(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function D(a){if("L"===a)return"LTR";
if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function t(a,b){for(var c=0;c<I.length;c++)if(a===I[c])return b[c];return a}function w(a,b,c,e){for(var d=0;d<a.length;d++)if(a[d]>b||!c&&a[d]===b)a[d]+=e}p.getObject("string",!0,dojox);p=a("dojox.string.BidiEngine",g,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],levels:[],bidiTransform:function(a,b,e){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var d=this.sourceToTarget,f=this.targetToSource,
g=a.length;x=[];A=[];for(var k=0;k<g;k++)d[k]=k,f[k]=k,x[k]=k;if(!this.checkParameters(b,e))return a;b=this.inputFormat;e=this.outputFormat;var d=a,d=C,k=D(b.charAt(1)),f=D(e.charAt(1)),l="I"===b.charAt(0)?"L":b.charAt(0),g="I"===e.charAt(0)?"L":e.charAt(0),k=l+k,f=g+f,g=b.charAt(2)+e.charAt(2);d.defInFormat=k;d.defOutFormat=f;d.defSwap=g;a=n(a,k,f,g,d);d=!1;if("R"===e.charAt(1))d=!0;else if("C"===e.charAt(1)||"D"===e.charAt(1))d=this.checkContextual(a);f=this.sourceToTarget=x;g=Array(f.length);for(k=
0;k<f.length;k++)g[f[k]]=k;F=this.targetToSource=g;if(b.charAt(3)===e.charAt(3))d=a;else if("S"===e.charAt(3))if(b=d,e=!0,0===a.length)d=void 0;else{void 0===b&&(b=!0);void 0===e&&(e=!0);a=String(a);a=a.split("");var m=0,f=1,d=a.length;b||(m=a.length-1,f=-1,d=1);for(var g=d,k=e,q=0,d=[],l=0;m*f<g;m+=f)if(c(a[m])||y(a[m])){var p;if(p="\u0644"===a[m])b:{for(var u=a,v=m+f,z=f,E=g;v*z<E&&y(u[v]);)v+=z;p=" ";if(v*z<E)for(p=u[v],u=0;u<I.length;u++)if(I[u]===p){p=!0;break b}p=!1}if(p){a[m]=0===q?t(a[m+f],
M):t(a[m+f],P);m+=f;q=a;p=m;u=f;for(v=g;p*u<v&&y(q[p]);)p+=u;p*u<v&&(q[p]=" ");k&&(d[l]=m,l++);q=0}else{p=a[m];if(1===q){u=m;if(h(a,m+f,f,g))b:for(v=a[m],z=0;z<L.length;z++){if(v===L[z]){v=J[z];break b}}else v=r(a[m],G);a[u]=v}else!0===h(a,m+f,f,g)?a[m]=r(a[m],R):a[m]=r(a[m],B);y(p)||(q=1);b:{for(u=0;u<S.length;u++)if(S[u]===p){p=!0;break b}p=!1}!0===p&&(q=0)}}else q=0;f="";for(g=0;g<a.length;g++){if(k=e){b:{for(k=0;k<d.length;k++)if(d[k]===g)break b;k=-1}k=-1<k}k?(w(F,g,!b,-1),x.splice(g,1)):f+=
a[g]}d=f}else if(b=a,e=d,a=!0,0===b.length)d=void 0;else for(void 0===a&&(a=!0),void 0===e&&(e=!0),b=String(b),d="",f=[],f=b.split(""),g=0;g<b.length;g++)k=!1,"\ufe70"<=f[g]&&"\ufeff">f[g]?(l=b.charCodeAt(g),"\ufef5"<=f[g]&&"\ufefc">=f[g]?(e?(0<g&&a&&" "===f[g-1]?d=d.substring(0,d.length-1)+"\u0644":(d+="\u0644",k=!0),d+=I[(l-65269)/2]):(d+=I[(l-65269)/2],d+="\u0644",g+1<b.length&&a&&" "===f[g+1]?g++:k=!0),k&&(w(F,g,!0,1),x.splice(g,0,x[g]))):d+=T[l-65136]):d+=f[g];this.sourceToTarget=x;this.targetToSource=
F;this.levels=A;return d},_inputFormatSetter:function(a){if(!Q.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!Q.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a},checkParameters:function(a,b){a?this.set("inputFormat",a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=f(a);if("ltr"!==a&&"rtl"!==
a){try{a=document.dir.toLowerCase()}catch(sa){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return H.test(a)}});var x=[],F=[],A=[],C={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},z=5,v=6,K=0,U=1,Q=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,H=/[\u0591-\u06ff\ufb1d-\ufefc]/,E=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}",
"{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],I=["\u0622","\u0623","\u0625","\u0627"],M=["\ufef5","\ufef7","\ufef9","\ufefb"],P=["\ufef6","\ufef8",
"\ufefa","\ufefc"],L="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),B="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),
G="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),J="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),
R="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),S="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),T="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
Y=["\u0621","\u0641"],Z=["\u063a","\u064a"],V=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ga=0,ea=1,da=2,ha=3,X=4,aa=5,ka=6,la=7,ma=8,na=11,ja=12,oa="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ba=100;a=ga;g=ea;var N=da,W=ha,l=X,ia=aa,pa=ka,m=la,ca=ma,
O=na,u=ja,qa=[ba+0,a,a,a,a,ba+1,ba+2,ba+3,g,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,ba+4,l,l,l,a,l,a,l,a,l,l,l,a,a,l,l,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,l,l,a,a,l,l,a,a,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,ba+5,m,m,ba+6,ba+7],ra=[[18,18,18,18,18,18,18,18,18,pa,ia,pa,ca,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,ia,ia,ia,pa,ca,l,l,O,O,O,l,l,l,l,l,10,9,10,9,9,N,N,N,N,N,N,N,N,N,N,9,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,18,18,18,18,18,18,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,l,O,O,O,O,l,l,l,l,a,l,l,18,l,l,O,O,N,N,l,a,l,l,l,N,a,l,l,
l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,l,l,l,l,l,l,l,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,
u,u,u,u,u,u,u,g,u,g,u,u,g,u,u,g,u,l,l,l,l,l,l,l,l,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,l,l,l,l,l,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l],[W,W,W,W,l,l,l,l,m,O,O,m,9,m,l,l,u,u,u,u,u,u,u,u,u,u,u,m,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,W,W,W,W,W,W,W,W,W,W,O,W,W,m,m,m,u,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,u,u,W,l,u,u,u,u,u,u,m,m,u,u,l,u,u,u,u,m,m,N,N,N,N,N,N,N,N,N,N,m,m,m,m,m,m],[m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,m,m,u,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,
u,u,u,u,u,u,m,l,l,l,l,l,l,l,l,l,l,l,l,l,l,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,u,u,u,u,u,u,u,u,u,g,g,l,l,l,l,g,l,l,l,l,l],[ca,ca,ca,ca,ca,ca,ca,ca,ca,ca,ca,18,18,18,a,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ca,ia,13,14,15,16,17,9,O,O,O,O,O,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,9,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ca,18,18,18,18,18,l,l,l,l,l,18,18,18,18,18,18,N,a,l,l,N,N,N,N,N,N,10,10,l,l,l,a,N,N,N,N,N,N,N,N,N,N,10,10,l,l,l,l,a,a,
a,a,a,a,a,a,a,a,a,a,a,l,l,l,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l],[a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,l,l,l,l,l,g,u,g,g,g,g,g,g,g,g,g,g,10,g,g,g,g,g,g,g,g,g,g,g,g,g,l,g,g,g,g,g,l,g,l,g,g,l,g,g,l,g,g,g,g,g,g,g,g,g,g,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,u,u,u,u,u,u,u,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,9,l,9,l,l,9,l,l,l,l,l,l,l,l,l,O,l,l,10,10,l,l,l,l,l,O,O,l,l,l,l,l,m,m,m,m,m,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,l,18],[l,l,l,O,O,O,l,l,l,l,l,10,9,10,9,9,N,N,N,N,N,N,N,N,N,N,9,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,a,a,a,a,a,a,l,l,a,a,a,a,a,a,l,l,a,a,a,a,a,a,l,l,a,a,a,l,l,l,O,O,l,l,l,O,O,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l]];return p})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(p,a,g,n){return p("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var d=this._attrPairNames;return d[a]?
d[a]:d[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,d){return"function"===typeof this[d.g]?this[d.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,d){if("object"===typeof a){for(var f in a)a.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,a[f]);return this}f=this._getAttrNames(a);var b=this._get(a,f);f=this[f.s];var c;"function"===typeof f?c=f.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=d;
if(this._watchCallbacks){var h=this;n(c,function(){h._watchCallbacks(a,b,d)})}return this},_changeAttrValue:function(a,d){var f=this.get(a);this[a]=d;this._watchCallbacks&&this._watchCallbacks(a,f,d);return this},watch:function(a,d){var f=this._watchCallbacks;if(!f)var b=this,f=this._watchCallbacks=function(a,c,d,h){var e=function(e){if(e){e=e.slice();for(var f=0,h=e.length;f<h;f++)e[f].call(b,a,c,d)}};e(f["_"+a]);h||e(f["*"])};d||"function"!==typeof a?a="_"+a:(d=a,a="*");var c=f[a];"object"!==typeof c&&
(c=f[a]=[]);c.push(d);var h={};h.unwatch=h.remove=function(){var a=g.indexOf(c,d);-1<a&&c.splice(a,1)};return h}})})},"esri/layers/vectorTiles/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","../../../../core/SetPool"],function(p,a,g){return function(){function a(a,d,g,b,c,h,e,n){this._glyphItems=a;this._maxWidth=d;this._lineHeight=g;this._letterSpacing=b;this._offset=c;this._hAnchor=h;this._vAnchor=e;this._justify=n}a.prototype.getShaping=function(a,d){for(var f=this._letterSpacing,
b=this._offset[0],c=this._offset[1],h=[],e=g.acquire(),n=a.length,r=0;r<n;r++){var p=a.charCodeAt(r);if(10===p)e.add(h.length);else{for(var D=void 0,t=0,w=this._glyphItems;t<w.length&&!(D=w[t][p]);t++);D&&(h.push({codePoint:p,x:b,y:c,glyphMosaicItem:D}),b+=D.metrics.advance+f)}}if(0<h.length){t=this._maxWidth;f=this._lineHeight;c=this._justify;n=h.length;D=p=b=0;if(0!==t||0<e.size)for(var x=0,r=w=0;r<n;r++){var F=h[r];F.x-=w;F.y=d?F.y-f*b:F.y+f*b;var A=e.has(r);if(t&&F.x>t&&0<x||A){for(var C=A?r:
x+1,z=h[C].x,D=Math.max(z,D),v=C;v<=r;v++)h[v].y=d?h[v].y-f:h[v].y+f,h[v].x-=z;c&&(x=A?r-1:x-1,0<=x&&this._applyJustification(h,p,x));p=C;x=0;w+=z;b++}32===F.codePoint&&(x=r)}r=h[n-1];D=Math.max(D,r.x+r.glyphMosaicItem.metrics.advance);c&&this._applyJustification(h,p,n-1);r=(c-this._hAnchor)*D;c=(-this._vAnchor*(b+1)+.5)*f;d&&b&&(c+=b*f);for(f=0;f<h.length;f++)b=h[f],b.x+=r,b.y+=c}g.release(e);return h};a.getBox=function(a,d){var f=a.length;if(0!==f){for(var b=a[0].x,c=b,h=a[0].y,e=h,g=h,n=1;n<f;n++){var p=
a[n],D=p.x;D<b&&(b=D);D>c&&(c=D);p=p.y;p<h&&(h=p);p>e&&(e=p);p!==g&&(g=this._glyphWidth(a[n-1].codePoint,d),c=Math.max(c,a[n-1].x+g),g=p)}n=this._glyphWidth(a[f-1].codePoint,d);c=Math.max(c,a[f-1].x+n);h+=17;return{x:b,y:h,width:c-b,height:e+7-h}}};a.prototype._applyJustification=function(a,d,g){for(var b=a[g],b=(b.x+b.glyphMosaicItem.metrics.advance)*this._justify;d<=g;d++)a[d].x-=b};a._glyphWidth=function(a,d){for(var f,b=0;b<d.length&&!(f=d[b][a]);b++);return f?f.metrics.advance:0};return a}()})},
"esri/layers/vectorTiles/core/SetPool":function(){define(["require","exports","./ObjectPool"],function(p,a,g){p=function(){function a(a,f){void 0===a&&(a=50);void 0===f&&(f=50);this._pool=new g(Set,!1,function(a){return a.clear()},f,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return n.acquire()};a.release=function(a){return n.release(a)};return a}();var n=new p(100);return p})},"esri/layers/vectorTiles/views/vectorTiles/TileParser":function(){define("require exports dojo/promise/all ../../core/executeAsync ../../core/pbf ../../core/promiseUtils ../2d/engine/webgl/TileClipper ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket".split(" "),
function(p,a,g,n,f,d,k,b,c,h,e,q,r,y){return function(){function a(a,b,c){this._pbfTile=new f(new Uint8Array(a),new DataView(a));this._tile=b;this._connection=c;this._layers=b.getLayers();c=b.tileKey.split("/").map(parseFloat);var d=c[0];a=c[1];c=c[2];this._level=d;b.refKey&&(b=b.refKey.split("/").map(parseFloat)[0],b=d-b,0<b&&(d=(1<<b)-1,this._tileClipper=new k.TileClipper(b,a&d,c&d)));this._tileClipper||(this._tileClipper=new k.SimpleBuilder)}a.prototype.parse=function(){for(var a=this,b=this._parseTileData(this._pbfTile),
c=this._layers,e=c.length,f=this._level,k,q=[],p={},r=new Set,e=e-1;0<=e;e--)if(k=c[e],!(k.minzoom&&f<k.minzoom||k.maxzoom&&f>=k.maxzoom||k.layout&&"none"===k.layout.visibility))if(0===k.type)k=this._createBucket(k),k.layerIndex=e,q.push(k);else{var y=k.sourceLayer,D=b[y];D&&(r.add(y),k=this._createBucket(k))&&(k.layerIndex=e,k.layerExtent=D.extent,(D=p[y])||(D=p[y]=[]),D.push(k))}var H=10*this._level,E=10*(this._level+1),I=[],M=[],P=[],L=[],B=this._tileClipper,G=new Set,J={},R=[];r.forEach(function(a){return R.push(a)});
var S=0,T=0,Y=R.length;return n(function(){if(6===a._tile.status)return!0;switch(S){case 0:if(T<Y){var c=R[T++],d=b[c],e=p[c];if(e&&0!==e.length)for(c=d.getData();c.next(2);){var f=new h(c.getMessage(),d),g=f.values;if(g){var k=g._minzoom;if(k&&k>=E)continue;if((g=g._maxzoom)&&g<=H)continue}for(var k=0,n=e;k<n.length;k++)g=n[k],g.pushFeature(f)}}else{d=a._tile;for(c in p)for(e=p[c],f=0;f<e.length;f++)g=e[f],g.hasFeatures()&&(3===g.layer.type?(I.push(g),d.addBucket(g)):g.layer.refLayerId?P.push(g):
(M.push(g),L[g.layer.id]=g));S=1;T=0;Y=I.length}break;case 1:T<Y?I[T++].getResources(B,G,J):S=2}return 2===S}).then(function(){if(6===a._tile.status)return[];var b=[],c=a._tile.getWorkerTileHandler(),e;0<G.size&&(e=c.fetchSprites(G,a._connection),b.push(e));for(var f in J)e=J[f],0<e.size&&(e=c.fetchGlyphs(a._tile.tileKey,f,e,a._connection),b.push(e));return g(b).then(function(b){if(6===a._tile.status)return[];var c=0,e=0,d=M.length;return n(function(){if(6===a._tile.status)return!0;switch(c){case 0:if(e<
d){var b=M[e++];b.processFeatures(B,a._tile);q.push(b)}else c=1,e=0,d=P.length;break;case 1:for(var f=0;f<P.length;f++){var b=P[f],h=L[b.layer.refLayerId];h&&(h.assignBufferInfo(b),q.push(b))}c=2;e=0;d=I.length;break;case 2:e<d?(b=I[e++],b.processFeatures(B,a._tile),q.push(b)):c=3}return 3===c}).then(function(){q.sort(function(a,b){return a.layerIndex-b.layerIndex});return q})}).catch(function(a){return d.reject(Error(a))})}).catch(function(a){return d.reject(Error(a))})};a.prototype._parseTileData=
function(a){for(var b={};a.next();)switch(a.tag()){case 3:var c=new r(a.getMessage());b[c.name]=c;break;default:a.skip()}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=function(a){return new b(a,this._level)};a.prototype._createFillBucket=
function(a){var b=this._tile;return new e(a,this._level,a.hasDataDrivenFill?b.fillDDVertexBuffer:b.fillVertexBuffer,b.fillIndexBuffer,a.hasDataDrivenOutline?b.outlineDDVertexBuffer:b.outlineVertexBuffer,b.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new q(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createCircleBucket=function(a){var b=this._tile;return new c(a,this._level,b.circleVertexBuffer,
b.circleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new y(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/layers/vectorTiles/core/pbf":function(){define(["require","exports"],function(p,a){return function(){function a(a,f,d,g){this._tag=0;this._dataType=99;this._data=a;this._dataView=
f;this._pos=d||0;this._end=g||a.byteLength}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var f=this._decodeVarint();this._tag=f>>3;this._dataType=f&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};
a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};a.prototype.getUInt64=function(){return this._decodeVarint()};
a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,f=this._pos,a=a.getUint32(f,!0)+4294967296*a.getUint32(f+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,f=this._pos,a=
a.getUint32(f,!0)+4294967296*a.getInt32(f+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=
function(){var a=this._getLength(),f=this._pos,f=this._toString(this._data,f,f+a);this._skip(a);return f};a.prototype.getBytes=function(){var a=this._getLength(),f=this._pos,f=this._toBytes(this._data,f,f+a);this._skip(a);return f};a.prototype.getMessage=function(){var g=this._getLength(),f=this._pos,f=new a(this._data,this._dataView,f,f+g);this._skip(g);return f};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());
break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,f=this._pos,d=0,g;if(10<=this._end-f){if(g=a[f++],d|=g&127,0!==(g&128)&&(g=a[f++],d|=(g&127)<<7,0!==(g&128)&&(g=a[f++],d|=(g&127)<<14,0!==(g&128)&&(g=a[f++],d|=(g&127)<<21,0!==(g&128)&&(g=a[f++],d+=268435456*(g&127),0!==(g&128)&&(g=a[f++],d+=34359738368*
(g&127),0!==(g&128)&&(g=a[f++],d+=4398046511104*(g&127),0!==(g&128)&&(g=a[f++],d+=562949953421312*(g&127),0!==(g&128)&&(g=a[f++],d+=72057594037927936*(g&127),0!==(g&128)&&(g=a[f++],d+=0x7fffffffffffffff*(g&127),0!==(g&128)))))))))))throw Error("Varint too long!");}else{for(var b=1;f!==this._end;){g=a[f];if(0===(g&128))break;++f;d+=(g&127)*b;b*=128}if(f===this._end)throw Error("Varint overrun!");++f;d+=g*b}this._pos=f;return d};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%
2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,f,d){var g="",b="";for(d=Math.min(this._end,d);f<d;++f){var c=a[f];c&128?b+="%"+c.toString(16):(g+=decodeURIComponent(b)+String.fromCharCode(c),b="")}b.length&&(g+=decodeURIComponent(b));return g};a.prototype._toBytes=function(a,f,d){d=Math.min(this._end,d);return new Uint8Array(a.buffer,f,d-f)};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/TileClipper":function(){define(["require",
"exports","./Geometry","./GeometryUtils"],function(p,a,g,n){Object.defineProperty(a,"__esModule",{value:!0});var f=function(){return function(a,b,c){this.ratio=a;this.x=b;this.y=c}}();p=function(){function a(a,c,d,e,f){void 0===e&&(e=8);void 0===f&&(f=8);this.lines=[];this.starts=[];this.pixelRatio=e;this.pixelMargin=f;this.tileSize=512*e;this.dz=a;this.yPos=c;this.xPos=d}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;
a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,c){this._pushLine();this._prevIsIn=this._isIn(a,c);this._moveTo(a,c,this._prevIsIn);this._prevPt=new g.Point(a,c);this._firstPt=new g.Point(a,c);this._dist=0};a.prototype.lineTo=function(a,c){var b=this._isIn(a,c),e=new g.Point(a,c),
d=g.Point.distance(this._prevPt,e),k,n,p,t,w;if(b)this._prevIsIn?this._lineTo(a,c,!0):(k=this._prevPt,n=e,p=this._intersect(n,k),this.start=this._dist+d*(1-this._r),this._lineTo(p.x,p.y,!0),this._lineTo(n.x,n.y,!0));else if(this._prevIsIn)n=this._prevPt,k=e,p=this._intersect(n,k),this._lineTo(p.x,p.y,!0),this._lineTo(k.x,k.y,!1);else{var x=this._prevPt;if(!(x.x<=this.xmin&&e.x<=this.xmin||x.x>=this.xmax&&e.x>=this.xmax||x.y<=this.ymin&&e.y<=this.ymin||x.y>=this.ymax&&e.y>=this.ymax)){k=[];if(x.x<
this.xmin&&e.x>this.xmin||x.x>this.xmin&&e.x<this.xmin)n=(this.xmin-x.x)/(e.x-x.x),w=x.y+n*(e.y-x.y),w<=this.ymin?t=!1:w>=this.ymax?t=!0:k.push(new f(n,this.xmin,w));if(x.x<this.xmax&&e.x>this.xmax||x.x>this.xmax&&e.x<this.xmax)n=(this.xmax-x.x)/(e.x-x.x),w=x.y+n*(e.y-x.y),w<=this.ymin?t=!1:w>=this.ymax?t=!0:k.push(new f(n,this.xmax,w));if(x.y<this.ymin&&e.y>this.ymin||x.y>this.ymin&&e.y<this.ymin)n=(this.ymin-x.y)/(e.y-x.y),w=x.x+n*(e.x-x.x),w<=this.xmin?p=!1:w>=this.xmax?p=!0:k.push(new f(n,w,this.ymin));
if(x.y<this.ymax&&e.y>this.ymax||x.y>this.ymax&&e.y<this.ymax)n=(this.ymax-x.y)/(e.y-x.y),w=x.x+n*(e.x-x.x),w<=this.xmin?p=!1:w>=this.xmax?p=!0:k.push(new f(n,w,this.ymax));if(0===k.length)p?t?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):t?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<k.length&&k[0].ratio>k[1].ratio)this.start=this._dist+d*k[1].ratio,this._lineTo(k[1].x,k[1].y,!0),this._lineTo(k[0].x,k[0].y,!0);else for(this.start=
this._dist+d*k[0].ratio,n=0;n<k.length;n++)this._lineTo(k[n].x,k[n].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=d;this._prevIsIn=b;this._prevPt=e};a.prototype.close=function(){var a,c;0<this.line.length&&(a=this._firstPt,c=this._prevPt,a.x===c.x&&a.y===c.y||this.lineTo(a.x,a.y),a=this.line,c=a.length,4<=c&&(a[0].x===a[1].x&&a[0].x===a[c-2].x||a[0].y===a[1].y&&a[0].y===a[c-2].y)&&(a.pop(),a[0].x=a[c-2].x,a[0].y=a[c-2].y))};a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;
3===this.type&&a&&d.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,c=a.length;if(0===c)return null;for(var d=[],e=0;e<c;e++)d.push({line:a[e],start:this.starts[e]||0});return d};a.prototype._isIn=function(a,c){return a>=this.xmin&&a<=this.xmax&&c>=this.ymin&&c<=this.ymax};a.prototype._intersect=function(a,c){var b,e,d;if(c.x>=this.xmin&&
c.x<=this.xmax)e=c.y<=this.ymin?this.ymin:this.ymax,d=(e-a.y)/(c.y-a.y),b=a.x+d*(c.x-a.x);else if(c.y>=this.ymin&&c.y<=this.ymax)b=c.x<=this.xmin?this.xmin:this.xmax,d=(b-a.x)/(c.x-a.x),e=a.y+d*(c.y-a.y);else{e=c.y<=this.ymin?this.ymin:this.ymax;b=c.x<=this.xmin?this.xmin:this.xmax;var f=(b-a.x)/(c.x-a.x),k=(e-a.y)/(c.y-a.y);f<k?(d=f,e=a.y+f*(c.y-a.y)):(d=k,b=a.x+k*(c.x-a.x))}this._r=d;return new g.Point(b,e)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),
this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,c,d){3!==this.type?d&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),c=Math.round((c-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,c))):(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),
c<this.ymin&&(c=this.ymin),c>this.ymax&&(c=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),c=Math.round((c-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,c)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,c,d){if(3!==this.type)if(d){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);c=Math.round((c-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(d=this.line[this.line.length-1],d.equals(a,c)))return;this.line.push(new g.Point(a,
c))}else this.line&&0<this.line.length&&this._pushLine();else if(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),c<this.ymin&&(c=this.ymin),c>this.ymax&&(c=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),c=Math.round((c-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){d=this.line[this.line.length-1];var b=d.x===a,f=d.y===c;b&&f||(this._is_h&&b?(d.x=a,d.y=c,d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===c):this._is_v&&f?(d.x=
a,d.y=c,d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===c):(this.line.push(new g.Point(a,c)),this._is_h=b,this._is_v=f))}else this.line.push(new g.Point(a,c))};return a}();a.TileClipper=p;p=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,c){this.line&&this.lines.push(this.line);this.line=[];var b=this._ratio;this.line.push(new g.Point(Math.round(a*
b),Math.round(c*b)))};a.prototype.lineTo=function(a,c){var b=this._ratio;this.line.push(new g.Point(Math.round(a*b),Math.round(c*b)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&d.simplify(4096,64,this.lines);return this.lines};return a}();a.SimpleBuilder=p;var d=function(){function a(){}a.simplify=function(b,c,d){if(d){var e=
-c,f=b+c,h=-c,g=b+c;b=[];c=[];for(var k=d.length,n=0;n<k;++n){var p=d[n];if(p&&!(2>p.length))for(var x=p[0],F=void 0,A=p.length,C=1;C<A;++C)F=p[C],x.x===F.x&&(x.x<=e&&(x.y>F.y?(b.push(n),b.push(C),b.push(0),b.push(-1)):(c.push(n),c.push(C),c.push(0),c.push(-1))),x.x>=f&&(x.y<F.y?(b.push(n),b.push(C),b.push(1),b.push(-1)):(c.push(n),c.push(C),c.push(1),c.push(-1)))),x.y===F.y&&(x.y<=h&&(x.x<F.x?(b.push(n),b.push(C),b.push(2),b.push(-1)):(c.push(n),c.push(C),c.push(2),c.push(-1))),x.y>=g&&(x.x>F.x?
(b.push(n),b.push(C),b.push(3),b.push(-1)):(c.push(n),c.push(C),c.push(3),c.push(-1)))),x=F}0!==b.length&&0!==c.length&&(a.fillParent(d,c,b),a.fillParent(d,b,c),e=[],a.calcDeltas(e,c,b),a.calcDeltas(e,b,c),a.addDeltas(e,d))}};a.fillParent=function(a,c,d){for(var b=d.length,f=c.length,h=0;h<f;h+=4){for(var g=c[h],k=c[h+1],p=c[h+2],w=a[g][k-1],g=a[g][k],k=8092,x=-1,F=0;F<b;F+=4)if(d[F+2]===p){var A=d[F],C=d[F+1],z=a[A][C-1],A=a[A][C];switch(p){case 0:case 1:n.between(w.y,z.y,A.y)&&n.between(g.y,z.y,
A.y)&&(z=Math.abs(A.y-z.y),z<k&&(k=z,x=F));break;case 2:case 3:n.between(w.x,z.x,A.x)&&n.between(g.x,z.x,A.x)&&(z=Math.abs(A.x-z.x),z<k&&(k=z,x=F))}}c[h+3]=x}};a.calcDeltas=function(b,c,d){for(var e=c.length,f=0;f<e;f+=4){var h=a.calcDelta(f,c,d,[]);b.push(c[f]);b.push(c[f+1]);b.push(c[f+2]);b.push(h)}};a.calcDelta=function(b,c,d,e){b=c[b+3];if(-1===b)return 0;var f=e.length;if(1<f&&e[f-2]===b)return 0;e.push(b);return a.calcDelta(b,d,c,e)+1};a.addDeltas=function(a,c){for(var b=a.length,d=0,f=0;f<
b;f+=4){var g=a[f+3];g>d&&(d=g)}for(f=0;f<b;f+=4){var k=c[a[f]],n=a[f+1],g=d-a[f+3];switch(a[f+2]){case 0:k[n-1].x-=g;k[n].x-=g;break;case 1:k[n-1].x+=g;k[n].x+=g;break;case 2:k[n-1].y-=g;k[n].y-=g;break;case 3:k[n-1].y+=g,k[n].y+=g}}b=c.length;for(d=0;d<b;++d)k=c[d],!k||2>k.length||k[k.length-1].x!==k[0].x&&k[k.length-1].y!==k[0].y&&k.push(k[0])};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(p,a){function g(a,d){a%=d;
return 0<=a?a:a+d}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=g;a.radToByte=function(f){return g(f*a.C_RAD_TO_256,256)};a.degToByte=function(f){return g(f*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*n};a.sqr=function(a){return a*
a};a.clamp=function(a,d,g){return Math.min(Math.max(a,d),g)};a.interpolate=function(a,d,g){return a*(1-g)+d*g};a.between=function(a,d,g){return a>=d&&a<=g||a>=g&&a<=d}})},"esri/layers/vectorTiles/views/vectorTiles/Feature":function(){define(["require","exports","../2d/engine/webgl/Geometry"],function(p,a,g){return function(){function a(a,d){this.values={};for(var f=d.keys,b=d.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var c=a.getMessage(),h=this.values;!c.empty();){var e=
c.getUInt32(),g=c.getUInt32();h[f[e]]=b[g]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var d=this._pbfGeometry,f,b;a?a.reset(this.type):f=[];for(var c=1,h=0,e=0,n=0;!d.empty();)switch(0===h&&(h=d.getUInt32(),c=h&7,h>>=3),h--,c){case 1:e+=d.getSInt32();n+=d.getSInt32();a?a.moveTo(e,n):(b&&f.push(b),b=[],b.push(new g.Point(e,n)));break;case 2:e+=d.getSInt32();
n+=d.getSInt32();a?a.lineTo(e,n):b.push(new g.Point(e,n));break;case 7:a?a.close():b&&!b[0].equals(e,n)&&b.push(b[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(b&&f.push(b),a=f);return this._geometry=a};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(p,a){return function(){function a(g){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=g.clone();g.next();)switch(g.tag()){case 1:this.name=
g.getString();break;case 3:this.keys.push(g.getString());break;case 4:this.values.push(a._parseValue(g.getMessage()));break;case 5:this.extent=g.getUInt32();break;default:g.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};
return a}()})},"esri/layers/vectorTiles/views/vectorTiles/VertexMemoryBuffer":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./GeometryUtils ./MemoryBuffer".split(" "),function(p,a,g,n,f,d){Object.defineProperty(a,"__esModule",{value:!0});var k=new Float32Array(1),b=new Uint32Array(k.buffer);p=function(a){function c(b){var c=a.call(this,b?20:12)||this;c._isDataDriven=b;return c}g(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};
c.prototype.add=function(a,c,f,h,g,n,p,x){var e=this.array;a=d.i1616to32(a,c);e.push(a);a=d.i8888to32(Math.round(31*f),Math.round(31*h),Math.round(31*g),Math.round(31*n));e.push(a);a=d.i1616to32(p,0);e.push(a);if(this._isDataDriven){if(!x)throw Error("Expecting data driven values.");f=x.color;h=f[3]*x.opacity*255;e.push(d.i8888to32(f[0]*h,f[1]*h,f[2]*h,h));k[0]=x.size;e.push(b[0])}};return c}(d);a.LineVertexBuffer=p;p=function(a){function b(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}
g(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,c){var e=this.array;e.push(d.i1616to32(a,b));if(this._isDataDriven){if(!c)throw Error("Expecting data driven values.");a=c.color;c=a[3]*c.opacity*255;e.push(d.i8888to32(a[0]*c,a[1]*c,a[2]*c,c))}};return b}(d);a.FillVertexBuffer=p;p=function(a){function b(b){var c=a.call(this,b?12:8)||this;c._isDataDriven=b;return c}g(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=
function(a,b,c,f,h,g,k){var e=this.array,n=this.index;a=d.i1616to32(a,b);e.push(a);a=d.i8888to32(Math.round(15*c),Math.round(15*f),h,g);e.push(a);if(this._isDataDriven){if(!k)throw Error("Expecting data driven values.");c=k.color;k=c[3]*k.opacity*255;e.push(d.i8888to32(c[0]*k,c[1]*k,c[2]*k,k))}return n};return b}(d);a.OutlineVertexBuffer=p;p=function(a){function c(b){var c=a.call(this,b?24:16)||this;c._isDataDriven=b;return c}g(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=
function(a,c,h,g,n,p,w,x,F,A,C){var e=this.array;a=d.i1616to32(a,c);e.push(a);a=d.i1616to32(Math.round(32*h),Math.round(32*g));e.push(a);a=d.i8888to32(n/4,p/4,0,0);e.push(a);a=d.i8888to32(Math.ceil(10*A),f.radToByte(w),10*x,Math.min(10*F,255));e.push(a);if(this._isDataDriven){if(!C)throw Error("Expecting data driven values.");h=C.color;g=h[3]*C.opacity*255;e.push(d.i8888to32(h[0]*g,h[1]*g,h[2]*g,g));k[0]=C.size;e.push(b[0])}};return c}(d);a.SymbolVertexBuffer=p;p=function(a){function b(){return a.call(this,
16)||this}g(b,a);b.prototype.add=function(a,b,c,f,h,g,k,n,p,A,C){var e=this.array;a=d.i1616to32(2*a+c,2*b+f);e.push(a);k=g[3]*k*255;a=d.i8888to32(g[0]*k,g[1]*k,g[2]*k,k);e.push(a);g=A[3]*C*255;a=d.i8888to32(A[0]*g,A[1]*g,A[2]*g,g);e.push(a);a=d.i8888to32(Math.min(32*n,255),Math.min(4*p,255),Math.min(h,255),0);e.push(a)};return b}(d);a.CircleVertexBuffer=p})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleRepository":function(){define(["require","exports","dojo/has","./StyleLayer"],function(p,
a,g,n){return function(){function a(d,f){this.styleJSON=d;this.version=parseFloat(d.version);this.sprite=f?f.spriteUrl:d.sprite;this.glyphs=f?f.glyphsUrl:d.glyphs;if(g("stable-symbol-rendering")){var b=(d.layers||[]).filter(function(a){return a.layout&&a.layout["text-font"]})[0];b&&(d.layers||[]).forEach(function(a){a.layout&&a.layout["text-font"]&&(a.layout["text-font"]=b.layout["text-font"])})}this.layers=(d.layers||[]).map(a._create);this._identifyRefLayers()}a.prototype._identifyRefLayers=function(){for(var a=
[],f=[],b=0,c=0,h=this.layers;c<h.length;c++){var e=h[c];if(1===e.type){var g=e,n=e.sourceLayer,n=n+("|"+JSON.stringify(e.minzoom)),n=n+("|"+JSON.stringify(e.maxzoom)),n=n+("|"+JSON.stringify(e.filter));if(g.hasDataDrivenFill||g.hasDataDrivenOutline)n+="|"+JSON.stringify(b);a.push({key:n,layer:e})}2===e.type&&(g=e,n=e.sourceLayer,n+="|"+JSON.stringify(e.minzoom),n+="|"+JSON.stringify(e.maxzoom),n+="|"+JSON.stringify(e.filter),n+="|"+JSON.stringify(e.layout&&e.layout["line-cap"]),n+="|"+JSON.stringify(e.layout&&
e.layout["line-join"]),g.hasDataDrivenLine&&(n+="|"+JSON.stringify(b)),f.push({key:n,layer:e}));++b}this._assignRefLayers(a);this._assignRefLayers(f)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var d,b,c=a.length,f=0;f<c;f++){var e=a[f];if(e.key===d)e.layer.refLayerId=b;else if(d=e.key,b=e.layer.id,1===e.layer.type&&!e.layer.getPaintProperty("fill-outline-color"))for(var g=f+1;g<c;g++){var n=a[g];if(n.key===d){if(n.layer.getPaintProperty("fill-outline-color")){a[f]=
n;a[g]=e;b=n.layer.id;break}}else break}}};a._create=function(a,f,b){f=1-1/(b.length+1)*(1+f);switch(a.type){case "background":return new n.BackgroundStyleLayer(0,a,f);case "fill":return new n.FillStyleLayer(1,a,f);case "line":return new n.LineStyleLayer(2,a,f);case "symbol":return new n.SymbolStyleLayer(3,a,f);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new n.CircleStyleLayer(4,a,f)}throw Error("Unknown vector tile layer");};return a}()})},"*now":function(p){p(['dojo/i18n!*preload*esri/layers/vectorTiles/core/workers/nls/worker-init*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("esri/layers/vectorTiles/core/workers/worker-init",[],1);