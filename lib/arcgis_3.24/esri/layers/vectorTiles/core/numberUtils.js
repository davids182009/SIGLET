// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.24/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/core/numberUtils",["dojo/number","dojo/i18n!dojo/cldr/nls/number"],function(u,v){function x(c,a){return c-a}var y=/^-?(\d+)(\.(\d+))?$/i,z=new RegExp("\\"+v.decimal+"0+$","g"),A=RegExp("(\\d)0*$","g"),q={numDigits:function(c){var a=String(c),b=a.match(y);c={integer:0,fractional:0};b&&b[1]?(c.integer=b[1].split("").length,c.fractional=b[3]?b[3].split("").length:0):-1<a.toLowerCase().indexOf("e")&&(b=a.split("e"),a=b[0],b=b[1],a&&b&&(a=Number(a),b=Number(b),(c=0<b)||
(b=Math.abs(b)),a=q.numDigits(a),c?(a.integer+=b,a.fractional=b>a.fractional?0:a.fractional-b):(a.fractional+=b,a.integer=b>a.integer?1:a.integer-b),c=a));return c},percentChange:function(c,a,b,l){var n={previous:null,next:null},g;null!=b&&(g=c-b,n.previous=Math.floor(Math.abs(100*(a-b-g)/g)));null!=l&&(g=l-c,n.next=Math.floor(Math.abs(100*(l-a-g)/g)));return n},round:function(c,a){var b=c.slice(0),l,n,g,r,h,k,t,e,m,u=a&&null!=a.tolerance?a.tolerance:2,p=a&&a.indexes,v=a&&null!=a.strictBounds?a.strictBounds:
!1;if(p)p.sort(x);else for(p=[],k=0;k<b.length;k++)p.push(k);for(k=0;k<p.length;k++)if(m=p[k],l=b[m],n=0===m?null:b[m-1],g=m===b.length-1?null:b[m+1],r=q.numDigits(l),r=r.fractional){t=0;for(e=!1;t<=r&&!e;){h=l;e=t;var d=void 0,f=void 0,d=Number(h.toFixed(e));d<h?f=d+1/Math.pow(10,e):(f=d,d-=1/Math.pow(10,e));d=Number(d.toFixed(e));f=Number(f.toFixed(e));h=[d,f];h=v&&0===k?h[1]:h[0];e=u;var d=q.percentChange(l,h,n,g),w=f=void 0,f=void 0,f=null==d.previous||d.previous<=e,w=null==d.next||d.next<=e;
e=f=f&&w||d.previous+d.next<=2*e;t++}e&&(b[m]=h)}return b},format:function(c,a){a=a||{places:20,round:-1};var b=u.format(c,a);b&&(b=b.replace(A,"$1").replace(z,""));return b}};return q});