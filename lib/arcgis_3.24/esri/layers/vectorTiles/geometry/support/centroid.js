// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.24/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/geometry/support/centroid",["require","exports","../support/coordsUtils"],function(z,n,t){function x(a,e){if(!a||!a.length)return null;for(var b=[],c=[],d=e?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],f=0,k=a.length;f<k;f++){var l=y(a[f],e,d);l&&c.push(l)}c.sort(function(a,b){var c=a[2]-b[2];0===c&&e&&(c=a[4]-b[4]);return c});c.length&&(f=6*c[0][2],b[0]=c[0][0]/f,b[1]=c[0][1]/f,e&&(f=6*c[0][4],b[2]=0!==f?c[0][3]/
f:0),b[0]<d[0]||b[0]>d[1]||b[1]<d[2]||b[1]>d[3]||e&&(b[2]<d[4]||b[2]>d[5]))&&(b.length=0);if(!b.length)if(c=a[0]&&a[0].length?u(a[0],e):null)b[0]=c[0],b[1]=c[1],e&&2<c.length&&(b[2]=c[2]);else return null;return b}function y(a,e,b){for(var c=0,d=0,f=0,k=0,l=0,m=0,n=a.length-1;m<n;m++){var g=a[m],h=g[0],p=g[1],q=g[2],v=a[m+1],w=v[0],t=v[1],u=v[2],r=h*t-w*p,k=k+r,c=c+(h+w)*r,d=d+(p+t)*r;e&&2<g.length&&2<v.length&&(r=h*u-w*q,f+=(q+u)*r,l+=r);h<b[0]&&(b[0]=h);h>b[1]&&(b[1]=h);p<b[2]&&(b[2]=p);p>b[3]&&
(b[3]=p);e&&(q<b[4]&&(b[4]=q),q>b[5]&&(b[5]=q))}0<k&&(k*=-1);0<l&&(l*=-1);if(!k)return null;a=[c,d,.5*k];e&&(a[3]=f,a[4]=.5*l);return a}function u(a,e){for(var b=e?[0,0,0]:[0,0],c=e?[0,0,0]:[0,0],d=0,f=0,k=0,l=0,m=0,n=a.length;m<n-1;m++){var g=a[m],h=a[m+1];g&&h&&(b[0]=g[0],b[1]=g[1],c[0]=h[0],c[1]=h[1],e&&2<g.length&&2<h.length&&(b[2]=g[2],c[2]=h[2]),length=t.getLength(b,c))&&(d+=length,g=t.getMidpoint(g,h),f+=length*g[0],k+=length*g[1],e&&2<g.length&&(l+=length*g[2]))}return 0<d?e?[f/d,k/d,l/d]:
[f/d,k/d]:a.length?a[0]:null}Object.defineProperty(n,"__esModule",{value:!0});n.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};n.polygonCentroid=function(a){return a?x(a.rings,a.hasZ):null};n.lineCentroid=u});