// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.24/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/geometry/support/intersects",["require","exports","./contains"],function(D,k,l){function v(a,d){return l.extentContainsPoint(a,d)}function u(a,d){var c=a.hasZ&&d.hasZ,b;if(a.xmin<=d.xmin){if(b=d.xmin,a.xmax<b)return!1}else if(b=a.xmin,d.xmax<b)return!1;if(a.ymin<=d.ymin){if(b=d.ymin,a.ymax<b)return!1}else if(b=a.ymin,d.ymax<b)return!1;if(c&&d.hasZ)if(a.zmin<=d.zmin){if(c=d.zmin,a.zmax<c)return!1}else if(c=a.zmin,d.zmax<c)return!1;return!0}function w(a,d){for(var c=
d.hasZ?l.extentContainsCoords3D:l.extentContainsCoords2D,b=0,g=d.points;b<g.length;b++)if(c(a,g[b]))return!0;return!1}function x(a,d){n[0]=a.xmin;n[1]=a.ymax;p[0]=a.xmax;p[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;for(var c=0,b=C;c<b.length;c++)if(l.polygonContainsCoords(d,b[c]))return!0;c=0;for(b=d.rings;c<b.length;c++){var g=b[c];if(g.length){var m=g[0];if(l.extentContainsCoords2D(a,m))return!0;for(var h=1;h<g.length;h++){var e=g[h];if(l.extentContainsCoords2D(a,e)||y(m,e,z))return!0;
m=e}}}return!1}function A(a,d){n[0]=a.xmin;n[1]=a.ymax;p[0]=a.xmax;p[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;for(var c=d.paths,b=0;b<c.length;b++){var g=c[b];if(c.length){var m=g[0];if(l.extentContainsCoords2D(a,m))return!0;for(var h=1;h<g.length;h++){var e=g[h];if(l.extentContainsCoords2D(a,e)||y(m,e,z))return!0;m=e}}}return!1}function y(a,d,c){for(var b=0;b<c.length;b++)if(t(a,d,c[b][0],c[b][1]))return!0;return!1}function t(a,d,c,b,g){var m=a[0];a=a[1];var h=d[0];d=d[1];var e=
c[0],f=c[1];c=b[0]-e;var e=m-e,B=h-m;b=b[1]-f;var f=a-f,k=d-a,l=b*B-c*k;if(0===l)return!1;c=(c*f-b*e)/l;e=(B*f-k*e)/l;return 0<=c&&1>=c&&0<=e&&1>=e?(g&&(g[0]=m+c*(h-m),g[1]=a+c*(d-a)),!0):!1}Object.defineProperty(k,"__esModule",{value:!0});k.extentIntersectsPoint=v;k.extentIntersectsExtent=u;k.extentIntersectsMultipoint=w;var n=[0,0],p=[0,0],q=[0,0],r=[0,0],C=[n,p,q,r],z=[[q,n],[n,p],[p,r],[r,q]];k.extentIntersectsPolygon=x;k.extentIntersectsPolyline=A;var f=[0,0];k.isSelfIntersecting=function(a){for(var d=
0;d<a.length;d++){for(var c=a[d],b=0;b<c.length-1;b++)for(var g=c[b],m=c[b+1],h=d+1;h<a.length;h++)for(var e=0;e<a[h].length-1;e++){var k=a[h][e],l=a[h][e+1],n=t(g,m,k,l,f);if(n&&!(f[0]===g[0]&&f[1]===g[1]||f[0]===k[0]&&f[1]===k[1]||f[0]===m[0]&&f[1]===m[1]||f[0]===l[0]&&f[1]===l[1]))return!0}e=c.length;if(!(4>=e))for(b=0;b<e-3;b++){var p=e-1;0===b&&(p=e-2);g=c[b];m=c[b+1];for(h=b+2;h<p;h++)if(k=c[h],l=c[h+1],(n=t(g,m,k,l,f))&&!(f[0]===g[0]&&f[1]===g[1]||f[0]===k[0]&&f[1]===k[1]||f[0]===m[0]&&f[1]===
m[1]||f[0]===l[0]&&f[1]===l[1]))return!0}}return!1};k.segmentIntersects=t;k.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return u;case "esriGeometryMultipoint":case "multipoint":return w;case "esriGeometryPoint":case "point":return v;case "esriGeometryPolygon":case "polygon":return x;case "esriGeometryPolyline":case "polyline":return A;case "mesh":return u}}});