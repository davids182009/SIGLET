// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.24/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/geometry/support/webMercatorUtils",["require","exports","../SpatialReference","./spatialReferenceUtils"],function(v,m,n,g){function p(a,b,c,d,e){if("point"===a.type&&"point"===e.type)b=b(a.x,a.y,q,0,d),e.x=b[0],e.y=b[1];else if("extent"===a.type&&"extent"===e.type)f=b(a.xmin,a.ymin,q,0,d),e.xmin=f[0],e.ymin=f[1],b=b(a.xmax,a.ymax,q,0,d),e.xmax=b[0],e.ymax=b[1];else if("polyline"===a.type&&"polyline"===e.type||"polygon"===a.type&&"polygon"===e.type){var f="polyline"===
a.type?a.paths:a.rings,h=[],l=void 0;for(a=0;a<f.length;a++){var g=f[a],l=[];h.push(l);for(var k=0;k<g.length;k++)l.push(b(g[k][0],g[k][1],[0,0],0,d)),2<g[k].length&&l[k].push(g[k][2]),3<g[k].length&&l[k].push(g[k][3])}"polyline"===e.type?e.paths=h:e.rings=h}else if("multipoint"===a.type&&"multipoint"===e.type){f=a.points;h=[];for(a=0;a<f.length;a++)h[a]=b(f[a][0],f[a][1],[0,0],0,d),2<f[a].length&&h[a].push(f[a][2]),3<f[a].length&&h[a].push(f[a][3]);e.points=h}else if("mesh"===a.type&&"mesh"===e.type&&
(f=a.vertexAttributes&&a.vertexAttributes.position,h=e.vertexAttributes&&e.vertexAttributes.position,f))for(l=[0,0],a=0;a<f.length;a+=3)b(f[a],f[a+1],l,0,d),h[a]=l[0],h[a+1]=l[1];e.spatialReference=c;return e;var f}function u(a,b){var c=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference),d=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return c&&d?g.equals(d,c)?!0:g.isWebMercator(d)&&g.isWGS84(c)||g.isWebMercator(c)&&g.isWGS84(d):!1}function r(a,b,c,d){void 0===c&&(c=[0,0]);void 0===d&&(d=0);
89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;c[d]=111319.49079327169*a;c[d+1]=3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function t(a,b,c,d,e){void 0===c&&(c=[0,0]);void 0===d&&(d=0);void 0===e&&(e=!1);a=a/6378137*57.29577951308232;c[d]=e?a:a-360*Math.floor((a+180)/360);c[d+1]=57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)));return c}Object.defineProperty(m,"__esModule",{value:!0});var q=[0,0];m.canProject=u;m.project=function(a,
b){var c=a&&a.spatialReference,d=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return u(c,d)?g.equals(c,d)?a.clone():g.isWebMercator(d)?p(a,r,n.WebMercator,!1,a.clone()):g.isWGS84(d)?p(a,t,n.WGS84,!1,a.clone()):null:null};m.lngLatToXY=r;m.xyToLngLat=t;m.geographicToWebMercator=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=a.clone());return p(a,r,n.WebMercator,b,c)};m.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=a.clone());return p(a,t,n.WGS84,b,c)}});