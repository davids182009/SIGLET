// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.24/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/chartUtils/ChartCalculator","dojo/_base/lang dojo/dom-geometry dojo/dom-style ./ChartTypes ../legends/ChartLegendTypes ../legends/ChartLegendPlacements esri/dijit/geoenrichment/utils/DomUtil".split(" "),function(E,G,d,t,x,h,z){return{calcChartDimentions:function(a,f){var c=f.visualProps,A=f.comparisonInfo,b=f.chartType,g=f.maxIconSize,m=c.width,e=c.height,u=0,y=0,B=0,k,n,l,v,C=!z.isHidden(a.chartLabel),p=0;t.isColumnLike(b)&&!c.xAxis.show&&
c.showAxisIcons&&(e+=30);C&&(p=d.get(a.chartLabel,"height"),e-=p);c.showAxisIcons&&(t.isColumnLike(b)?e-=g:t.isBarLike(b)&&(u+=g,m-=g));var q=c.legend[c.legend.type===x.MIN_MAX?"minMax":"series"],g=q.placement,q=(q.placementOffset||0)/100,r=g===h.LEFT||g===h.RIGHT,F=a.comparisonSelectBlock&&a.comparisonSelectBlock.offsetWidth+20,D=a.comparisonSelectBlock&&a.comparisonSelectBlock.offsetHeight+20;!A||!t.isComparisonEnabled(b)||c.legend.type===x.MIN_MAX&&r||(e-=D);r||d.set(a.getLegendNode(),{width:m-
20+"px"});b=a.legend&&z.position(a.legend.domNode);b=E.mixin({w:0,h:0},b);r||d.set(a.getLegendNode(),{width:""});var w=r?e-48:0;b.h=w?Math.min(b.h,w):b.h;b.h+=20;c.legend.type===x.MIN_MAX&&r&&(b.w=Math.max(b.w,F));switch(g){case h.LEFT:k=10;n=p+e*q;u+=2*k+b.w;m-=u;break;case h.RIGHT:l=10;n=p+e*q;y+=2*l+b.w;m-=y;break;case h.TOP:e-=b.h;n=C?p+10:10;l=k=10;B+=b.h;break;case h.BOTTOM:e-=b.h,v=l=k=10,A&&(v+=D-10)}d.set(a.chartLabel,{marginLeft:"10px",marginRight:"10px"});d.set(a.chartContainerWithAxis,
{marginTop:B+"px",marginLeft:u+"px",marginRight:y+"px"});a.legend&&d.set(a.legend.domNode,{maxHeight:w?w+"px":""});d.set(a.getLegendNode(),{left:void 0!==k?k+"px":"",right:void 0!==l?l+"px":"",top:void 0!==n?n+"px":"",bottom:void 0!==v?v+"px":""});return{w:m,h:e}},resizeVisualProperties:function(a,f,c){var d=a.width,b=a.height;a.width=f;a.height=c;a.floatingTexts&&a.floatingTexts.forEach(function(a){a.style.left*=f/d;a.style.spaceBefore*=c/b});a.floatingIcons&&a.floatingIcons.forEach(function(a){a.style.left*=
f/d;a.style.spaceBefore*=c/b})}}});