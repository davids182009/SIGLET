<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title></title>
    <link rel="Stylesheet" href="../css/analysis.css" />
    <script type="text/javascript">
        function init() {
            if (window.location.hash) {
                var parentDiv, nodes, i, helpInfo, helpId, helpInfoArr, helpEnvFilter, envContent, hideEnvClass, hideNodes;
                helpInfo = window.location.hash.substring(1);
                    if(helpInfo.indexOf("-")) {
                        helpInfoArr = helpInfo.split("-");
                        helpId = helpInfoArr[0];
                        helpEnvFilter = helpInfoArr[1];
                    }
                    else {
                        helpId = helpInfo;
                    }
                parentDiv = document.getElementById("topics");
                nodes = parentDiv.children;
                    hideEnvClass = (helpEnvFilter === "OnlineOnly"? "PortalOnly": "OnlineOnly");
                    if(document.getElementsByClassName) {
                        hideNodes = document.getElementsByClassName(hideEnvClass);
                    }
                    else {
                        hideNodes = document.querySelectorAll(hideEnvClass);
                    }
                for(i=0; i < nodes.length; i++) {
                    if(nodes[i].id !== helpId) {
                        nodes[i].style.display ="none";
                    }
                    }
                    for(i=0; i < hideNodes.length; i++) {
                        hideNodes[i].style.display ="none";
                    }
                }
            }
    </script>
</head>
<body onload="init()">
<div id="topics">
    <div id="toolDescription" class="largesize">
        <h2>Выявление инцидентов</h2><p/>
        <h2><img src="../images/GUID-E2A3AB39-5151-4972-A988-EBC91C41EB1F-web.png" alt="Выявление инцидентов"></h2>
        <hr/>
    <p>Этот инструмент работает со слоем с поддержкой времени, содержащим точечные, линейные, полигональный объекты или таблицы, которые представляют текущий момент времени. Используя последовательно упорядоченные объекты, называемые треками, этот инструмент определяет объекты, являющиеся интересующими вас инцидентами. Инциденты определяются по заданным вами условиям. 
    </p>
    <p>Сначала инструмент определяет, какие объекты относятся к треку, используя одно или несколько полей. Используя время каждого объекта, треки последовательно упорядочиваются, затем применяется условие инцидента. Объекты, соответствующие начальным условиям инцидента, обозначаются как инциденты. Вы можете дополнительно применить конечное условия инцидента; когда оно true, объект перестает быть инцидентом.  Результаты возвращаются вместе с оригинальными объектами - с новыми столбцами с именем инцидента - и показывают, какие объекты удовлетворяют условиям инцидента. Вы можете получить все исходные объекты или только объекты-инциденты.
    </p>
    <p>Например, предположим у вас есть GPS-координаты урагана, получаемые каждые 10 минут. Каждое GPS-измерение записывает название урагана, его положение, время записи и скорость ветра. Используя эти поля, вы можете создать инцидент, когда любое измерение скорости ветра превышает 208 км/ч становится инцидентом с названием  <code>Catastrophic</code>. Если конечное условие не задано, инцидент завершается, если объект больше не удовлетворяет начальным условиям (скорость ветра становится ниже 208).
    </p>
    <p>Используя другой пример, предположим вы следите за концентрациями химических веществ в локальном источнике воды, используя поле  <code>contanimateLevel</code>. Вы знаете, что рекомендованные уровни должны быть меньше 0.01 мг/л, а опасные уровни превышают 0.03 мг/л. Чтобы определить инцидент, когда значение превысит 0.03мг/л, и оставить объект инцидентом, пока значение загрязнения не вернется к нормальному, можно создать инцидент, используя стартовое условие <code>contanimateLevel &gt; 0.03</code> и конечное условие <code>contanimateLevel &lt; 0.01</code>. Это позволит отметить все последовательности, где значения превосходят 0.03мг/л, пока они не вернуться к значению менее, чем 0.01.
    </p>
    </div>
    <!--Parameter divs for each param-->
    <div id="inputLayer">
        <div><h2>Выбрать слой для выявления инцидентов в</h2></div>
        <hr/>
        <div>
            <p>Точки, линии, полигоны или таблицы, которые будут использоваться для поиска инцидентов. Входным слоем должен быть слой с включенным временем, с объектами, представляющими определенный момент времени., а также содержать одно или несколько полей, которые можно использовать для идентификации треков.
            </p>
            <p>Кроме выбора слоя из вашей карты, можно щелкнуть  <b>Выбрать слои</b> в нижней части ниспадающего списка, чтобы найти свои ресурсы для набора данных или слоя объектов файлового хранилища больших данных.
            </p>
        </div>
    </div>
    <div id="trackFields">
        <div><h2>Выберите одно или более полей для идентификации треков</h2></div>
        <hr/>
        <div>
            <p> Поля, представляющие идентификатор трека. Для представления уникальных значений трека можно использовать одно или несколько полей.
            </p>
            <p>Например, если вы создаете треки ураганов, в качестве поля трека можно использовать его имя.
            </p>
        </div>
    </div>
    <div id="startConditionExpression">
        <div><h2>Постройте выражение условия для обозначения начала инцидента</h2></div>
        <hr/>
        <div>
            <p>Добавьте условие, используя конструктор выражений, для определения инцидентов. Если указанное условие становится true, объект рассматривается как инцидент. Если конечное условие не задано, инцидент заканчивается, когда начальное условие перестает быть true.
            </p>
            <p>Например, предположим, вы хотите получать предупреждение, когда сумма полей  <code>concentration_1</code> и <code>concentration_2</code> становится больше значения <code>concentration_3</code>.   Для этого примените условие <code>($feature[&quot;concentration_1&quot;] +  $feature[&quot;concentration_2&quot;]) &gt; $feature[&quot;concentration_3&quot;])</code>.
            </p>
        </div>
    </div>
    <div id="endConditionExpression">
        <div><h2>Построение выражения условия для обозначения окончания инцидента</h2></div>
        <hr/>
        <div>
            <p>Дополнительно добавьте условие, используя конструктор выражений, для определения окончания инцидента. Если конечное условие становится true, объект перестает быть инцидентом. Если конечное условие не задано, инцидент заканчивается, когда начальное условие перестает быть true.    
            </p>
            <p>Например, предположим, вы хотите получать предупреждение, когда сумма полей  <code>concentration_1</code> и <code>concentration_2</code> становится больше значения <code>concentration_3</code>, при этом инцидент должен окончиться, когда <code>concentration_4</code> становится меньше <code>concentration_1</code>. Для этого примените стартовое условие <code>($feature[&quot;concentration_1&quot;] +  $feature[&quot;concentration_2&quot;]) &gt; ($join[&quot;income&quot;] * .20)</code> и конечное условие <code>($feature[&quot;concentration_4&quot;] &lt; $feature[&quot;concentration_1&quot;])</code>.
            </p>
        </div>
    </div>
    <div id="outputMode">
        <div><h2>Выберите способ представления выходных данных</h2></div>
        <hr/>
        <div>
            <p>Во всех случаях в выходных данных к исходным объектам присоединяются дополнительные поля. Если два способа возврата объектов:
                <ul>
                    <li> <b>Возвращать только инциденты</b> - возвращаются только объекты-инциденты. Объекты, не являющиеся инцидентами, не возвращаются.
                    </li>
                    <li> <b>Возвращать все объекты</b> - используется по умолчанию. Возвращаются все объекты входных данных.
                    </li>
                </ul>
                
            </p>
        </div>
    </div>
    <div id="outputName">
        <div><h2>Имя слоя результата</h2></div>
        <hr/>
        <div>
            <p> Это имя слоя, который будет создан в разделе <b>Мои ресурсы</b> и добавлен на карту. Имя слоя по умолчанию зависит от имени инструмента и имени входного слоя. Если слой уже существует, произойдет сбой.
            </p>
            <p>С помощью ниспадающего списка поля  <b>Сохранить результат в</b> вы можете задать имя папки в разделе <b>Мои ресурсы</b>, в которую будет записан результат.
            </p>
        </div>
    </div>
</div>
</html>
